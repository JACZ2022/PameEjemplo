define("core/debug",["jquery","underscore"],(function(e,t){"use strict";var i,n,s,o,a,r,l;i=window.console,n=window.localStorage,window.setConfig=function(e,t,i){if(void 0===t){for(var n=document.cookie.split("; "),s=0;s<n.length;s++){if(n[s].substr(0,n[s].indexOf("="))===e)return!0}return!1}return t?(document.cookie=e+"=1; SameSite=Strict; path=/"+(i?"; expires=Tue, 01 Jan 2030 00:00:01 GMT;":""),!0):(document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",!1)},window.debugImport=function(e,t){return window.setConfig("debugimport",e,t)},window.debugFiles=function(e,t){return window.setConfig("debugfiles",e,t)},window.pseudo=function(e,t){if(void 0!==e){var i=t?window.localStorage:window.sessionStorage;e?i.setItem("pseudo",!0):i.removeItem("pseudo"),(t?window.sessionStorage:window.localStorage).removeItem("pseudo")}return!!window.sessionStorage.pseudo||!!window.localStorage.pseudo},window.debugImport()&&i.log("debugimport=true"),window.debugFiles()&&i.log("debugfile=true"),window.pseudo()&&i.log("pseudo=true"),window.__coverage__&&(window.persistCoverage=function(){e.ajax("http://localhost:3000/coverage",{type:"POST",async:!1,contentType:"application/json",data:JSON.stringify(window.__coverage__),success:function(e){i.log(e)},error:function(e,t,n){i.log(n)}})}),s={messages:[],log:function(e){s.messages.push(e)}},o=["init","cache","nav","bc","fc","pm","controller","model","view","all"],a=[];var c=n.getItem("debugmodules");return c&&(a=c.split(",")),r=function(e){return t.isArray(e)?t.find(e,(function(e){return t.contains(a,e)})):t.contains(a,e)&&e},l=i.log.apply?t.bind(i.log,i):i.log,function(c,d){var u;return c&&(u=r(c))&&t.isString(d)&&l("["+u+"] - "+d),{on:function(e){var i;e&&(e=e.split("+"),t.contains(e,"persist")&&(i=l,l=function(e){i(e),s.log(e)},e=t.without(e,"persist")),t.each(e,(function(e){t.contains(o,e)&&("all"===e?(l("Debug ON for all modules"),a=o):(a.push(e),l("Debug ON for module: "+e)))})))},off:function(e){"persist"===e?(this.persist(),l=i.log):"all"===e?(l("Debug OFF for all modules"),a=[]):e&&t.contains(o,e)&&(a=t.without(a,e),l("Debug OFF for module: "+e))},persist:function(){s.messages.length&&(n.setItem("debug_"+e.now(),JSON.stringify(s.messages)),s.messages=[])}}}})),define("core/osnGlobals",["jquery","underscore","backbone","core/debug","i18n"],(function(e,t,i,n,s){"use strict";var osn=window.osn=void 0===window.osn?{}:window.osn;return osn.events=t.clone(i.Events),osn.debug=n,osn.models={},osn.views={},osn.i18n={},osn.browser={},osn})),define("core/util/Globals",["jquery","underscore","backbone"],(function(e,t,i,n){"use strict";var docs=window.docs=window.docs===n?{}:window.docs;return docs.events=t.clone(i.Events),docs.views={},docs.models={},docs.container={},docs.dialogs={},docs.dialogs.tabs={},docs.mixins={},docs.common={Globals:window.gemini_globals},docs.common.utils={},docs.common.components={},docs.misc={},docs.upload={},docs.utils={},docs.aif={models:{},views:{}},docs.common.CAAS={CATEGORY:"CAAS",FOLDER_ID:"F:CONTENTITEMS:"+docs.common.Globals.userid},docs.common.COLLECTION={FOLDER_ID:"F:COLLECTION:"+docs.common.Globals.userid},docs.common.DAM={CATEGORY:"DigitalAssets",FOLDER_ID:"F:DIGITALASSETS:"+docs.common.Globals.userid},docs.common.Globals.localizedLangNames={},docs.template=function(e,i){return i=t.extend({},i,{escape:/\{\{([^\{}]+?)(?!}}})}}/g,interpolate:/\{\{\{(.+?)}}}/g,evaluate:/\{\{#([\s\S]+?)}}/g}),t.template(e,i)},docs.common.updateGlobalsProperty=function(t,i,n){n!=t[i]&&(t[i]=n,e(window).trigger(i+":toggle",n))},docs})),define("core/util/Session",["jquery","underscore","backbone","core/util/Globals"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals;return docs.common.Session={getUserName:function(){return n.userid},getUserLogin:function(){return n.userLogin},getPersonalFolderId:function(){return"F:USER:"+this.getUserName()},getTrashFolderId:function(){return"F:TRASH:"+this.getUserName()},getIdcToken:function(){return n.idcToken},setIdcToken:function(e){n.idcToken=e},getCSRFToken:function(){return n.csrfToken},setCSRFToken:function(e){n.csrfToken=e},folderFilter:function(t){return e.sessionStorage("FolderFilter",t,"filter_all")},folderFilterApps:function(t){return e.sessionStorage("FolderFilterApps",t,"filter_all")},assetsAdminFilter:function(i){if(!t.isNull(i))return e.sessionStorage("AssetsAdminFilter",i,n.isRepositoryAdmin?"menu_repositories":n.isContentAdmin?"menu_contenttypes":"");e.removeSessionStorage("AssetsAdminFilter")},folderFilterSites:function(t){return e.sessionStorage("FolderFilterSites",t,"filter_all")},folderFilterSitesTrash:function(t){return e.sessionStorage("FolderFilterSitesTrash",t,"filter_all")},folderFilterSitePlans:function(t){return e.sessionStorage("FolderFilterSitePlans",t,"filter_all")},folderFilterTranslationJobs:function(t){return e.sessionStorage("FolderFilterTranslationJobs",t,"filter_all")},folderFilterPublishingJobs:function(t){return e.sessionStorage("FolderFilterPublishingJobs",t,"filter_all")},folderFilterExperiences:function(t){return e.sessionStorage("FolderFilterExperiences",t,"filter_all")},folderFilterPublishingEvents:function(t){return e.sessionStorage("FolderFilterPublishingEvents",t,"filter_all")},containerLayout:function(t){var i="ContainerLayout";return n.embed&&(i="EmbedContainerLayout"),e.localStorage(i,t,"layout_list")},documentSidebar:function(t){return"true"===(t=e.localStorage("DocumentSidebar",JSON.stringify(t),"true"))},documentSidebarTab:function(t){return e.localStorage("DocumentSidebarTab",t,"sidebar-tabs-main")},pageSize:function(t){return t=e.localStorage("PageSize",t,"50"),parseInt(t,10)},moveCopyFolderSize:function(t){return t=e.localStorage("MoveCopyFolderSize",t,"1000"),parseInt(t,10)},maxSearchPages:function(t){return t=e.localStorage("MaxSearchPages",t,"40"),parseInt(t,10)},webEditPrompt:function(t){return"true"===(t=e.localStorage("WebEditPrompt",JSON.stringify(t),"true"))},aifDisabled:function(t){return t=e.localStorage("disableAIF",JSON.stringify(t),"false")},isAnonymous:function(){return"anonymous"===n.userName.toLowerCase()},setAuthorizationHeader:function(e){var t,i=docs.common.checkFeatureFlag("BasicAuth");t=i?"Basic "+window.btoa(unescape(encodeURIComponent(n.userLogin+":"+i))):"Session",e.setRequestHeader("Authorization",t)}},docs.common.Session})),define("core/plugin/jquery.storage",["jquery"],(function(e){"use strict";e.localStorage=function(e,t,i){if(void 0!==t)"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t);else if(t=localStorage.getItem(e)){if("{"===t.charAt(0)&&"}"===t.charAt(t.length-1)||"["===t.charAt(0)&&"]"===t.charAt(t.length-1))try{t=JSON.parse(t)}catch(e){}}else t=i;return t},e.sessionStorage=function(e,t,i){if(void 0!==t)"object"==typeof t&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t);else if(t=sessionStorage.getItem(e)){if("{"===t.charAt(0)&&"}"===t.charAt(t.length-1)||"["===t.charAt(0)&&"]"===t.charAt(t.length-1))try{t=JSON.parse(t)}catch(e){}}else t=i;return t},e.removeSessionStorage=function(e){sessionStorage.removeItem(e)},e.clearSessionStorage=function(e){if(e)for(var t=0;t<sessionStorage.length;t++){var i=sessionStorage.key(t);i.startsWith(e)&&sessionStorage.removeItem(i)}else sessionStorage.clear()}})),define("core/util/Service",["jquery","underscore","backbone","core/util/Globals","core/util/Session","core/plugin/jquery.storage","core/util/FeatureFlags"],(function(e,t,i,docs,n){"use strict";var s=docs.common.Globals,o=new RegExp("["+(s.invalidCharacters||'<>\\\\/*"|:?')+"]");return docs.common.Service={parseJSON:function(t){var i;try{i=e.parseJSON(t)}catch(e){i=this._isHTMLContent(t)&&this._isInputElement(t)?{LocalData:{StatusCode:"-1",StatusMessage:"",StatusMessageKey:"!csSystemNeedsLogin"}}:{LocalData:{StatusCode:"-1",StatusMessage:docs.i18n.t("UNEXPECTED_SERVER_ERROR"),StatusMessageKey:"!clouduiUnexpectedServerError"}}}return i},checkResponseForError:function(e){return this.setIdcToken(e),e&&e.LocalData&&e.LocalData.StatusCode&&parseInt(e.LocalData.StatusCode,10)<0?{errorCode:parseInt(e.LocalData.StatusCode,10),errorMsg:t.escape(e.LocalData.StatusMessage),errorMsgKey:e.LocalData.StatusMessageKey}:e&&e.StatusCode&&parseInt(e.StatusCode,10)<0?{errorCode:parseInt(e.StatusCode,10),errorMsg:t.escape(e.StatusMessage),errorMsgKey:void 0}:null},isInvalidToken:function(e){return!(!e||!e.errorMsgKey)&&(e.errorMsgKey.indexOf("!csInvalidAuthorizationToken")>=0||e.errorMsgKey.indexOf("!csSystemNeedsLogin")>=0||"anonymous"!==s.userName.toLowerCase()&&(e.errorMsgKey.indexOf("!csCloudServiceInsufficientPrivileges,anonymous")>-1||e.errorMsgKey.indexOf("!csCloudItemInsufficientPrivileges,anonymous")>-1||e.errorMsgKey.indexOf("!csCloudUserWithoutRole,anonymous")>-1))},isInvalidTokenUserInfo:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csCloudServiceInsufficientPrivileges,anonymous,GET_USER_INFO")>=0},isAccessDenied:function(e){return e&&e.errorMsgKey&&(e.errorMsgKey.indexOf("!csCloudItemInsufficientPrivileges")>-1&&e.errorMsgKey.indexOf("!csFldUnableToCreateFolder")<0||-1!==e.errorMsgKey.indexOf("!csAssetsUnableToGetAssetInfoNoRepositoryAccess"))},isAccessDeniedCaaS:function(e){return e&&403===e.status},isNotFoundCaaS:function(e){return e&&404===e.status},isConversationAccessDenied:function(e){return!(!e||!e.errorMsgKey)&&(e.errorMsgKey.indexOf("!csCloudItemInsufficientPrivileges")>-1&&e.errorMsgKey.indexOf("!csOSNConversationAccessDenied")>-1)},isChangeItemOwnerQuotaExceeded:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csInsufficientTargetUserQuota")>-1&&e.errorMsgKey.indexOf("!csUnableToChangeItemOwner")>-1},isOutboundLimitExceeded:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csBillingOutboundOverLimit")>-1},isNonExistingItem:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csFldDoesNotExist")>-1},isInvalidLink:function(e){return!(!e||!e.errorMsgKey)&&("!csInvalidSharedLink"===e.errorMsgKey||e.errorMsgKey.indexOf("!csInvalidSharedLinkItemID")>-1)},isInvalidPublicLinkAccessCode:function(e){return!!(s.isPublicLink&&s.isProtectedLink&&e&&e.errorMsgKey)&&(e.errorMsgKey.indexOf("!csInvalidAccessCodeForLinkAccess")>-1||e.errorMsgKey.indexOf("!csInvalidPasswordForLinkAccess")>-1)},isItemInfected:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csFileInfectedMovedToTrash")>-1},isTooLargeConvert:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csDynConvFileTooLarge")>-1},isItemInTrash:function(e){return e&&e.errorMsgKey&&e.errorMsgKey.indexOf("!csFldItemInTrash")>-1},isSSOLoginPage:function(e){if(e){if(200===e.status&&this._isHTMLContent(e.responseText)&&this._isInputElement(e.responseText))return!0;if(e.upload)return!1;if(e.readyState===XMLHttpRequest.UNSENT)return!1;if(0===e.status&&(!t.isFunction(e.state)||"rejected"===e.state()))return!0}return!1},_isHTMLContent:function(e){if(e&&e.toLowerCase().indexOf("<html")>-1)return!0},_isInputElement:function(e){if(e&&e.toLowerCase().indexOf("<input")>-1)return!0},hasInvalidCharacters:function(e){return o.test(e)},getBaseUrl:function(){return this._getBaseUrl(window)},_getBaseUrl:function(e){var t=e.location.protocol+"//"+e.location.hostname;return e.location.port&&(t+=":"+e.location.port),t},getLinkUrl:function(e,t){var i=this.getBaseUrl()+s.memberRoot;return i+="file"===e?"fileview":"digitalasset"===e?"digitalassets/view/all":"contentasset"===e?"contentitems/view/all":e,"folder"!==e&&"file"!==e&&"digitalasset"!==e&&"contentasset"!==e||(i+="/"+t),i},getDownloadUrl:function(e,i){var n=this.getBaseUrl()+s.routerRoot;return this.linkId&&(n+=(this.isAppLink?"link/app/":"link/")+this.linkId+"/"),n+="file/"+e,t.isEmpty(i)?n+="?allowInterrupt=1":n+="?dRevLabel="+i+"&allowInterrupt=1",this.isAppLink&&(n+="&dAppLinkAccessToken="+docs.common.AppLink.getAccessToken()),n},getConvertedPublicLinkUrl:function(e,t,i,n){var o=this.getBaseUrl();if(o+=s.publicRoot+i,o+="fFileGUID"===e?"/fileview/":"/folder/",o+=t,n&&n.length>0){var a=this.filterSpecialCharacters(n);0!==a.indexOf("_")&&(a="_"+a),o+="/"+a,o=decodeURIComponent(o)}return o},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},getFileExtension:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(t+1):null},getFileNameWithoutExtension:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(0,t):e},getIdcTokenParam:function(){var e=n.getIdcToken();return e?"&idcToken="+e:""},getIdcToken:function(){var e=n.getIdcToken();return e||""},setIdcToken:function(e){if(e&&e.LocalData&&e.LocalData.StatusCode&&0===parseInt(e.LocalData.StatusCode,10)){var t=e.LocalData.idcToken;null!=t&&""!==t&&n.setIdcToken(t)}},getCSRFTokenParam:function(){var e=n.getCSRFToken();return e?"&CSRFToken="+e:""},getCSRFToken:function(){var e=n.getCSRFToken();return e||""},setCSRFToken:function(e){var t=e.LocalData.CSRFToken;null!=t&&""!==t&&n.setCSRFToken(t)},formatServiceUrl:function(e,t){t=t||{};var i=s.serviceRoot+"?IdcService="+e;return i+=t.skipSuppress?"":"&suppressHttpErrorCodes=1",void 0!==t.addToken&&null!==t.addToken&&t.addToken&&(i+=this.getIdcTokenParam()),this.linkId&&!t.noLink&&(i+=(this.isAppLink?"&dAppLinkID=":"&dLinkID=")+this.linkId,this.isAppLink&&t.addAccessToken&&(i+="&dAppLinkAccessToken="+docs.common.AppLink.getAccessToken())),i},getCurrentUserid:function(){return s.userid},ConversionMultiplier:{none:1,fromGB:1073741824,fromMB:1048576,fromKB:1024,toGB:1/1073741824,toMB:1/1048576,toKB:1/1024,DaysToMilli:864e5,MilliToDays:1/864e5},convertNumber:function(e,i,n,s){t.isFinite(e)&&t.isNumber(e)||(e=0),t.isNumber(i)&&(e*=i),!t.isUndefined(n)&&t.isNumber(n)||(n=0);var o=e.toFixed(n);return o=parseFloat(o),s&&(o=window.orai18n.number.formatNumber(o,n)),o},filterSpecialCharacters:function(e){return e=(e=(e=(e=e.replace(/&amp;/g,"_")).replace(/&#x2F;/g,"_")).replace(/&#x27;/g,"_")).replace(/[$+,:;=?@ "<>#%{}|\^~\[\]`]/g,"_")},escapeHash:function(e){return e=e.replace("#","%23")},isRealFile:function(e,t){return 0===e.size&&this.endsWith(e.name,".lnk")?(t&&t.debug("skipping link: name="+e.name+" ("+e.size+")"),!1):0!==e.size||this.getFileExtension(e.name)?4096===e.size?(t&&t.debug("skipping folder: name="+e.name+" ("+e.size+")"),!1):(t&&t.trace("file is real",e),!0):(t&&t.debug("skipping folder: name="+e.name+" ("+e.size+")"),!1)},isAcceptableExtension:function(e,i,n){if(!e)return n&&n.debug("No file object to test extension"),!1;if(!i)return n&&n.debug("All extensions valid: name="+e.name),!0;var s=t.map(i,(function(e){return e.toLowerCase()})),o=this.getFileExtension(e.name);return o&&t.indexOf(s,("."+o).toLowerCase())>=0?(n&&n.debug("Found valid extension: name="+e.name+" ("+i.toString()+")"),!0):(n&&n.debug("Extension not found: name="+e.name+" ("+i.toString()+")"),!1)},getPublicLinkRole:function(t){var i=t.get("allowedActions");if(i&&i.linkShareUpdate){var n=t.get("publicLinkRole");if(n||(n=t.get("defaultSharingRole")),!n){var s=(t.isFolder?"fFolderGUID":"fFileGUID")+":",o=this.formatServiceUrl("FLD_INFO")+"&item="+s+t.id+"&fFileType=owner";e.ajax(o,{async:!1,cache:!1,success:function(e,i,s){e.LocalData&&(n=void 0!==e.LocalData.fInheritedDefaultLinkRole?e.LocalData.fInheritedDefaultLinkRole:"viewer"),t.set({defaultSharingRole:n},{silent:!0})}})}return n}},breakWords:function(e,i){if(!t.isString(e)||t.isEmpty(e))return"";e=t.unescape(e);for(var n=i&&i.maxWordSize?i.maxWordSize:30,s=!i||!1!==i.escapeResult,o=e.indexOf(" "),a=0;o>-1||e.length-a>n;){if(-1===o&&(o=a+n+1),o-a>n){a+=n;var r=e.substring(0,a);o=(r+="\u200b").length-1,e=r+e.substring(a)}a=o+1,o=e.indexOf(" ",a)}return s&&(e=t.escape(e)),e},getServiceParamsForPost:function(e,t){var i=s.serviceRoot+"?IdcService="+e,n={suppressHttpErrorCodes:1};return t||(n.idcToken=this.getIdcToken()),this.linkId&&(this.isAppLink?n.dAppLinkID=this.linkId:n.dLinkID=this.linkId),{url:i,data:n}},refreshIdcToken:function(){var t=this.setIdcToken,i=!1,n=this.formatServiceUrl("GET_SERVER_INFO");return e.ajax(n,{async:!1,cache:!1,idcTokenRefreshed:!0,success:function(e){t(e),i=!0},error:function(e){e.errorHandled=!0,i=!1}}),i},parseHttpResponseHeaders:function(t){var i={};if(!t)return i;var n=t.split("\r\n");return e.each(n,(function(e,t){var n=t.indexOf(": ");if(n>0){var s=t.substring(0,n);s.indexOf("-")>-1&&(s=s.replace(/-/g,"")),s=s.toLowerCase();var o=t.substring(n+2);i[s]=o}})),i},compareRoles:function(e,i){var n=["browser","viewer","downloader","custom","contributor","manager","owner"];if(!t.isString(e)||!t.isString(i))throw new Error("The roles must be role strings");var s=n.indexOf(e),o=n.indexOf(i);if(-1===s||-1===o)throw new Error("Role values must be a valid role");return s===o?0:s<o?-1:1},hasRole:function(e,t){return this.compareRoles(e,t)>=0},getRoleFromFileFolderActions:function(e){var t=e.directShareRead,i=e.directShareWrite,n=e.linkShareRead,s=e.linkShareWrite;return t&&i&&n&&s?"manager":t&&!i&&n&&s?"contributor":t&&!i&&n&&!s?"downloader":!t||i||n||s?"unknown":"viewer"},setFolderOptions:function(t){if(t&&!t.has("maxLinkRole")){var i="file"===t.get("type")?t.get("parentID"):t.get("id"),n=this.formatServiceUrl("GET_FOLDER_OPTIONS",{addToken:!0})+"&item=fFolderGUID:"+i;e.ajax(n,{type:"GET",async:!1,cache:!1,success:function(e,i,n){t.set({linksAllowedByTenant:"1"===e.LocalData.LinksAllowedByTenant,linksAllowedByUser:"1"===e.LocalData.LinksAllowedByUser},{silent:!0}),e.LocalData.dMaxPublicLinkRoleName&&e.LocalData.dMaxPublicLinkRoleName.length>0?t.set("maxLinkRole",e.LocalData.dMaxPublicLinkRoleName,{silent:!0}):t.set("maxLinkRole","contributor",{silent:!0})},error:function(e,i,n){t.set("maxLinkRole","viewer",{silent:!0})}})}},adjustFolderChildCount:function(e,i,n){if(e&&t.isNumber(i)&&0!==i){var s=!0===n?"childFoldersCount":"childFilesCount",o=parseInt(e.get(s),10);t.isFinite(o)&&e.set(s,o+i)}},getRemoteJSONBatchRequestURLParameters:function(e){var i="?apmOps="+t.map(e,(function(e){return e.ModuleName.replace(/X(.*?)Module\$Server/,"$1")+"."+e.MethodName})).join(",");return i.length>1e3?i.slice(0,1e3):i}},docs.common.Service})),define("core/util/FeatureFlags",["jquery","underscore","backbone","core/util/Globals","core/util/Service","core/plugin/jquery.storage"],(function(e,t,i,docs,n){"use strict";var s=docs.common.Globals,o={reset:!1,HTML5WorksheetNav:!1,HTML5MobileNav:!1,HTML5SinglePageMode:!1,HTML5Find:!1,OfficeOnlinePreload:!1,"svg.thumbnail":!0,"svg.preview":!0,"addasset.objurl":!0,ChunkedUpload:!0,FoldersSearch:!0,BasicAuth:!1,VBCS:!0,Iridize:!1,SmallCards:!1,ConvertVideo:!0,SitePlansUI:!1,SitePlansPropsPanel:!0,UserFeedback:!1,UserFeedbackLite:!0,ExperienceOrchestrationProviders:!1,ExperienceOrchestrationSourceProviders:!1,ExperienceProviderGitHub:!1,FriendlyDomainWorkflow:!1,"scs.component.showComponentChanges":!1,"scs.component.title.alignment.enable":!1,"scs.component.compile.enable":!1,"scs.builder.manageprofiles":!1,"scs.builder.assets.view":!0,"scs.builder.darkmode":!1,"scs.builder.fasterpaste":!1,"scs.builder.toolbar":!1,EnforceLimits:!1,OJDialogs:!1,OJMenus2122:!1,OJMenus2151:!1,TestAction:!1,DHLFieldEditor:!1,CalendarRecurringJobs:!1,FakeOAuth:!1,SauceLoginUIUpdate:!0,SauceLoginUISignout:!1,SauceLoginUIAvatar:!1,SauceLoginAPIUpdate:!1,CalendarAnalytics:!1,ArchivedAssetView:!0,RenditionPolicies:!1,tinymce:!0,ScheduledJobsWebhook:!0,SlackIntegration:!0,DesygnerIntegration:!1,OutlookIntegration:!0,GenericAdditionalData:!0,EncryptedPDFPreview:!0,SauceEnabled:!0,UserInviteWebhook:!1,AssetRefresh:!0,AssetLayoutRefresh:!0,SitesPageAsAsset:!1,ParallelAssetsLoad:!0,ComponentCacheKey:!0,DevNotificationBanner:!1,PerformanceViewFilter:!1,CustomFilterPanel:!1,MockPerformanceData:!1,EnterpriseExternalUsers:!1,DynamicCollections:!1,BookmarkableAssetsFilter:!0,BookmarkableAssetsFilterB64:!1,rankTypes:!0,TaxonomySiteManagement:!1,LinkPicker:!0,EmbedSearch:!0,weightMultiplier:!0,SlackShareLink:!0,PrimaryChannels:!1,SauceRedirect:!0,SlackDirectMessage:!0,AsyncPublishFlow:!0,AsyncPublishJobs:!0,AsyncPublishValidate:!0,AsyncPublishValidateSuccess:!0,SiteSecurityCustomRole:!1,APIAppTracking:!1,CustomTaxonomyProperties:!0,categorySingleSelectNoRadioButton:!1,SiteExport:!1,SiteImport:!1,videoTranscript:!1,ViewTaxonomy:!0,BidiSupport:!1,BidiSupportDropMenu:!0,BidiSupportAutocomplete:!0,BidiSupportSlider:!0,BidiSupportKeywords:!0,SitePublishingEvents:!1,ShowSiteFiles:!0,SetFocalPoint:!1,newNotifPrefs:!1,enableSlackNotifPrefs:!1};return window.checkFeatureFlag=function(i){var n=e.localStorage(i);return t.isUndefined(n)&&s.featureFlags&&(n=s.featureFlags[i]),"true"===n?n=!0:"false"===n?n=!1:t.isUndefined(n)&&(n=o[i]||!1),n},docs.common.checkFeatureFlag=window.checkFeatureFlag,window.listFeatureFlags=function(){return JSON.stringify(s.featureFlags,void 0,"  ")},window.setFeatureFlag=function(i,a){if(!o.hasOwnProperty(i))return"Invalid Feature Flag";var r;if("reset"===i)r={};else{r=s.featureFlags?t.clone(s.featureFlags):{};var l=a;!1===a||"false"===a?l=!1:!0!==a&&"true"!==a||(l=!0),l===o[i]?delete r[i]:r[i]=a}var c,d=n.getServiceParamsForPost("SET_TENANT_CONFIG");return d.data.dTenantOptionName="featureFlags",d.data.dTenantOptionValue=JSON.stringify(r),e.ajax(d.url,{type:"POST",data:d.data,async:!1,success:function(){s.featureFlags=r,c="success"},error:function(e){c=t.unescape(e.errorThrown.errorMsg),e.errorHandled=!0}}),c},docs.common.checkFeatureFlag})),define("core/util/Constants",["jquery","underscore","backbone","core/util/FeatureFlags","core/util/Globals"],(function(e,t,i){"use strict";docs.common.Globals;return docs.common.Constants={productName:"Content Management",productNameAbr:"Content",productNameBreak:550,appKey:"o:f66adb6f424c45a79ec6b101a97b7526",appKeyEmbed:"o:15d95713952b4c978e4d224cba021e41",MaxFilenameLen:255,MaxSiteNameLen:238,MaxSitePlanNameLen:256,MaxExperienceNameLen:256,MaxTemplatenameLen:240,MaxDescLen:2e3,MaxBreadcrumbWidth:1200,ViewerFilenameWidth:1200,MaxSiteUpdateNamelen:255,BaseSiteValue:"~base",HostedDialogsErrorCodes:{UNKNOW_DIALOG:-1,INVALID_ITEM_TYPE:-2,UNSUPPORTED_CONTENT:-3,INCOMPATIBLE_CONTENT:-4,UNKNOWN_ERROR:-5},MaxConversationNameLen:256,MaxConversationChatLen:100,TranslatedLocales:function(e){return"all"===(e=e||"all")?{root:!0,"la-pg":!0,"br-ez":!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,"fr-CA":!0,hu:!0,it:!0,ja:!0,ko:!0,nl:!0,no:!0,nb:!0,pl:!0,"pt-BR":!0,pt:!0,ro:!0,ru:!0,sk:!0,sv:!0,th:!0,tr:!0,"zh-CN":!0,"zh-TW":!0}:{root:!0,"la-pg":!0,"br-ez":!0}},OsnLogger:"OSN",FileViewRE:{re:/(link\/(L[A-Z0-9]*)\/){0,1}(fileview|collections\/view|digitalassets\/view|contentitems\/view|assets\/view)?\/((D|C)[A-Z0-9]*)(\/(_[^\/]*))?(\/v?(\d*\.?(\d+)))?(\/.*)?/,index_link_group:1,index_link_id:2,index_view_type:3,index_file_id:4,index_file_id_prefix:5,index_name_group:6,index_name:7,index_revision_group:8,index_revision:9,index_revision_decimal:10,index_chat_params:11},ItemType:{ASSET_TYPE_DA:"digitalasset",ASSET_TYPE_CI:"contentitem"},FileViewTypes:{fv:"fileview",cv:"collections/view",da:"assets/view",ci:"contentitems/view"},Rendition:{Type:{ORIGINAL:"original",PREVIEW:"preview",SYSTEM:"system",UPLOADED:"uploaded",VIDPLUS:"advancedvideo",REQUIRED:"required"},ID:{ORIGINAL:"original",PREVIEW:"preview"}},Viewer:{DEFAULT_ZOOM_VALUE:100,MIN_ZOOM:25,MAX_ZOOM:300,ZOOM_STEP:7,PDF_HTML5:"ph5",PDF_IMAGE:"pimg",DocumentType:{UNKNOWN:"UNKNOWN",IMAGES:"IMAGES",HTML5:"HTML5",VIDEO:"VIDEO",CAAS_ITEM:"CAAS_ITEM",ADVAMCED_VIDEO:"ADVANCED_VIDEO"},ZoomMode:{DEFAULT_ZOOM_MODE:1,FIT_WIDTH:1,FIT_HEIGHT:2,FIT_BEST:4,ZOOM_TO_VALUE:8,ZOOM_100:16},RenderCode:{UNSUPPORTED:1,UNSUPPORTED_VIDEO:2,CANNOT_DOWNLOAD:3,OIT_ERROR:4,VIDEO_CONVERSION_ERROR:5,SCAN_PENDING:6,SCAN_SKIPPED:7,MAX_PAGES_WARNING:100,TIMEOUT_WARNING:101},AnnotationType:{PUSHPIN:"pushpin",RECTANGLE:"rectangle"},ANNOT_PUSHPIN_WIDTH:1,ANNOT_PUSHPIN_HEIGHT:1,ANNOT_MIN_WIDTH:0,ANNOT_MIN_HEIGHT:0,PlaceholerAnnotationPrefix:"plchldr-annot-",LOGGER:"Viewer",OIT_LOGGER:"OITViewer"},TileBg:"#866b94",video:{extensions:["mp3","mp4","webm","ogg","ogv","mpg"]},oit:{doctype:{spreadsheet:{extensions:["123","numbers","ods","qpw","xls","xlsx","xlt"]},document:{extensions:["doc","docx","dot","dotx","odt"]},pdf:{extensions:["pdf"]},email:{extensions:["eml"]},presentation:{extensions:["ppt","pptx","pot","potx","odp","otp","key"]},text:{extensions:["txt","text","list","log","odt","ott","pages","rtf"]},image:{extensions:["png","jpeg","jpg","jp2","gif","tiff","tif","psd","bmp"]},webpage:{extensions:["htm","html","url","webloc"]},other:{extensions:["vcal","vcard","eps","ps","vsd","java","bat","md","c","cpp","h","m","json","plist","xml","msg"],extensions2:["dwg","lwp","mm","otg","ots","sh","shw","sldx","vss","vst","vsw","wri","xltx"]}},highlight:{style:{mine:"background-color:rgba(132, 106, 146, 0.3);border: 1px solid #846A92;",mine_selected:"background-color:rgba(132, 106, 146, 0.3);border: 2px solid #846A92;",other:"background-color:rgba(132, 106, 146, 0.3);border: 1px solid #846A92;",other_selected:"background-color:rgba(132, 106, 146, 0.3);border: 2px solid #846A92;",placeholder:"background-color:rgba(132, 106, 146, 0.3);border: 1px solid #846A92;",activationColor:"rgba(132, 106, 146, 0.6);",scroll:"background-color:rgba(0,0,0,0);",selection:"background-color:rgba(51,153,238,0.1);border:2px solid rgba(51,153,238,0.6);",find:"color:black;background-color:rgb(246,236,180);",find_selected:"color:red;background-color:rgb(246,236,180);"},avatar:{stamp:{images:{mine:"annotation/my-annotation.png",other:"annotation/annotation.png",mine_selected:"annotation/my-annotation-selected.png",other_selected:"annotation/annotation-selected.png"},pointer:{size:{x:38,y:38},center:{x:19.5,y:15.5}},pointer_selected:{size:{x:48,y:48},center:{x:24.5,y:19.5}},picture:{size:{x:23,y:23},center:{x:11.5,y:12}},picture_selected:{size:{x:30,y:30},center:{x:15.5,y:15.5}}}}}},caas:{doctype:{caasitem:{applications:["framework.caas"],categories:["CAAS"],extensions:["json"]}}},digitalasset:{doctype:{image:{extensions:["png","jpeg","jpg","jp2","gif","tiff","tif","psd","bmp"]}},imageFormats:{bmp:{extensions:["bmp"],name:"IMAGE_FORMAT_BMP_TT"},gif:{extensions:["gif"],transparency:!0,name:"IMAGE_FORMAT_GIF_TT"},"x-icon":{extensions:["ico"],transparency:!0,name:"IMAGE_FORMAT_ICO_TT"},jpeg:{extensions:["jpg","jpeg"],qualityRange:[0,1],name:"IMAGE_FORMAT_JPG_TT"},png:{extensions:["png"],transparency:!0,name:"IMAGE_FORMAT_PNG_TT"},"svg+xml":{extensions:["svg"],transparency:!0,name:"IMAGE_FORMAT_SVG_TT"},tiff:{extensions:["tif","tiff"],name:"IMAGE_FORMAT_TIF_TT"},webp:{extensions:["webp"],qualityRange:[0,1],transparency:!0,name:"IMAGE_FORMAT_WEBP_TT"},wmf:{extensions:["wmf"],name:"IMAGE_FORMAT_WMF_TT"}},extensionMap:{bmp:"bmp",gif:"gif",ico:"x-icon",jpg:"jpeg",jpeg:"jpeg",png:"png",svg:"svg+xml",tif:"tiff",tiff:"tiff",webp:"webp",wmf:"wmf"}}},docs.common.Constants})),define("core/view/Boilerplate1.template",["underscore"],(function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="'+(null==(__t=id)?"":_.escape(__t))+'" class="'+(null==(__t=bpClass)?"":_.escape(__t))+'">  ',"css-spinner"!==imgSrc?__p+='  <img class="bp-center-image bp-svg-image" src="'+(null==(__t=imgSrc)?"":_.escape(__t))+'"  role="presentation" alt=""/>  ':__p+='  <div value="-1" class="progress-circle" role="progressbar" aria-valuetext="In Progress">    <div class="progress-circle-indeterminate">      <div class="progress-circle-indeterminate-inner"></div>    </div>  </div>  ',__p+='  <div tabindex="0" aria-labelledby="'+(null==(__t=id)?"":_.escape(__t))+"_text "+(null==(__t=id)?"":_.escape(__t))+'_detail">    <h3 id="'+(null==(__t=id)?"":_.escape(__t))+'_text" class="bp-info-text">'+(null==(__t=text)?"":__t)+'</h3>    <div id="'+(null==(__t=id)?"":_.escape(__t))+'_detail" class="bp-details-text">'+(null==(__t=details)?"":__t)+"</div>    ",extraDetails&&(__p+='    <div id="'+(null==(__t=id)?"":_.escape(__t))+'_extraDetails" class="bp-extra-details-text">'+(null==(__t=extraDetails)?"":__t)+"</div>    "),__p+="  </div></div>";return __p}})),define("core/plugin/jquery.naturaldate",["jquery","underscore","gdk","core/util/Globals"],(function(e,t,i){"use strict";var n=function(e,t){var n="string"==typeof e?Date.parse(e):e;return i.date.formatTime(n)},s=function(e,t){var n="string"==typeof e?Date.parse(e):e;return i.date.formatDate(n)},o=function(e,t,i,n){var s;return i&&t?s=e>1?docs.i18n.t(n?"MID_MINUTES_AGO":"MINUTES_AGO",e):docs.i18n.t(n?"MID_ONE_MINUTE_AGO":"ONE_MINUTE_AGO"):i&&!t?s=e>1?docs.i18n.t(n?"MID_HOURS_AGO":"HOURS_AGO",e):docs.i18n.t(n?"MID_ONE_HOUR_AGO":"ONE_HOUR_AGO"):!i&&t?s=e>1?docs.i18n.t(n?"MID_IN_N_MINUTES":"IN_N_MINUTES",e):docs.i18n.t(n?"MID_IN_ONE_MINUTE":"IN_ONE_MINUTE"):i||t||(s=e>1?docs.i18n.t(n?"MID_IN_N_HOURS":"IN_N_HOURS",e):docs.i18n.t(n?"MID_IN_ONE_HOUR":"IN_ONE_HOUR")),s};e.naturalDate=function(i,a,r){var l;r=e.extend({},e.naturalDate.defaults,r),t.isObject(i)&&!t.isDate(i)&&t.has(i,"value")&&(i=i.value);var c="string"==typeof i?new Date(i):i;isNaN(c)&&(c=new Date(i.replace(/\-/gi,"/").replace(/z/i,"")));var d,u=new Date,h=parseInt((u.valueOf()-c.valueOf())/1e3,10);if(r.futureDateTime||(h=Math.abs(h)),!r.fullDateTime&&(h>=0&&h<60?d=docs.i18n.t(r.midstring?"MID_LESS_THAN_ONE_MINUTE_AGO":"LESS_THAN_ONE_MINUTE_AGO"):h>=60&&h<=3540?d=o(Math.round(h/60),!0,!0,r.midstring):h>-60&&h<0?d=docs.i18n.t(r.midstring?"MID_IN_ONE_MINUTE":"IN_ONE_MINUTE"):h<=-60&&h>=-3540&&(d=o(Math.round(Math.abs(h)/60),!0,!1,r.midstring)),!d)){l=a?parseInt(a,10):-6e4*c.getTimezoneOffset();var p=864e5,m=(c.valueOf()+l)/p,f=(u.valueOf()+l)/p,g=parseInt(f,10)-parseInt(m,10);if(0===g)d=h>0?o(Math.round(h/3600),!1,!0,r.midstring):o(Math.round(Math.abs(h)/3600),!1,!1,r.midstring);else if(1===g)d=docs.i18n.t(r.midstring?"MID_YESTERDAY_AT":"YESTERDAY_AT",n(c));else if(-1===g)d=docs.i18n.t(r.midstring?"MID_TOMORROW_AT":"TOMORROW_AT",n(c));else if(Math.abs(g)<r.daySpan){var v=new Date(c.getTime()+l),_=(r.midstring?"MID_DAY_":"DAY_")+v.getUTCDay().toString();d=docs.i18n.t(_,n(c))}else r.dateOnlyAfterDaySpan&&(d=s(c))}return r.fullDateTime||!d?(l=a?parseInt(a,10):-6e4*c.getTimezoneOffset(),docs.i18n.t(r.midstring?"MID_CURRENT_AT":"CURRENT_AT",s(c),n(c))):d},e.naturalDate.usesNaturalLang=function(t,i,n){if((n=e.extend({},e.naturalDate.defaults,n)).fullDateTime)return!1;var s,o="string"==typeof t?new Date(t):t;isNaN(o)&&(o=new Date(t.replace(/\-/gi,"/").replace(/z/i,"")));var a=new Date,r=parseInt((a.valueOf()-o.valueOf())/1e3,10),l=!1;if(r<3600&&r>-3600)l=!0;else{s=i?parseInt(i,10):-6e4*o.getTimezoneOffset();var c=864e5,d=(o.valueOf()+s)/c,u=(a.valueOf()+s)/c;Math.abs(parseInt(u,10)-parseInt(d,10))<n.daySpan&&(l=!0)}return l},e.naturalDate.getLocaleFormattedDate=function(t,i,n){n=e.extend({},e.naturalDate.defaults,n);var o=function(e){var t="string"==typeof e?new Date(e):e;return isNaN(t)&&(t=new Date(e.replace(/\-/gi,"/").replace(/z/i,""))),t}(t);i?parseInt(i,10):o.getTimezoneOffset();return s(o)},e.naturalDate.defaults={daySpan:7}})),define("core/util/Utils",["jquery","underscore","backbone","gdk","core/util/Globals","core/util/Session","core/view/Boilerplate1.template","core/plugin/jquery.naturaldate"],(function(e,t,i,n,docs,s,o){"use strict";var a=docs.common.Globals;return docs.common.Utils={restrictedChars:["/","\\","*",'"',"<",">","|","?",":"],contentItemNameRe:/((.+)\.(.+))/,getAssetPartsFromName:function(e){var t=docs.common.Utils.contentItemNameRe.exec(e),i={};return t?(i.filename=t[1],i.name=t[2],i.extension=t[3]):i.name=e,i},getBytesDisplay:function(e,t){var i,s=1024,o=1048576,a=1024*o;t=t||1,i=e>=s&&e<o?docs.i18n.t("SIZE_KB",(e/s).toFixed(0)):e>=o&&e<a?docs.i18n.t("SIZE_MB",(e/o).toFixed(t)):e>=a&&e<1099511627776?docs.i18n.t("SIZE_GB",(e/a).toFixed(t)):docs.i18n.t("SIZE_B",e);var r=n.getDataLocaleElement().elements;return i.replace(".",r.Number.DecimalSeparator)},getAriaBytesDisplay:function(e){return docs.i18n.t("ARIA_SIZE",this.getBytesDisplay(e))},getSpeedDisplay:function(e){var t,i=1024,s=1048576,o=1024*s;t=e>=i&&e<s?(e/i).toFixed(0)+" KBps":e>=s&&e<o?(e/s).toFixed(2)+" MBps":e>=o?(e/o).toFixed(2)+" GBps":e+" Bps";var a=n.getDataLocaleElement().elements;return t.replace(".",a.Number.DecimalSeparator)},getTimeDisplay:function(e){if(!isFinite(e))return docs.i18n.t("NUMBER_UNKNOWN");e<0&&(e=0);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?(t>0&&i<10?"0":"")+i+":":t>0?"00:":"0:")+(n<10?"0":"")+n},getGridStatusDisplay:function(e){return this.getStatusDisplay(e,{dateOnlyAfterDaySpan:!0,compact:!0,midstring:!1})},getStatusDisplay:function(i,n){var s,o,r=i.get("createdAt"),l=i.get("modifiedAt"),c=i.get("reservedAt"),d=docs.common.Utils.isSites(i),u=i.has("flags")&&i.get("flags").isInTrash,h=n.forVersionsList?i.get("revision")>1:t.isString(l)&&(n.showModified||l!==r&&(!d||u)),p=!t.isEmpty(c),m="site_request"===i.get("type"),f=h&&!n.forVersionsList&&(!d||u||n.showModified)&&!m,g=p&&!n.forVersionsList&&!n.showModified,v=this.isYou(i,g?"reservedBy":f?"modifiedBy":"createdBy"),_=void 0===n.midString||n.midString;o=a.isPublicLink||n.compact?h||p||m?n.forVersionsList||n.showModified?"MODIFIED_AT":p?"RESERVED_AT":m?"REQUEST_REQUESTED_AT":"LAST_MODIFIED_AT":"CREATED_AT":h||p||m?v?n.forVersionsList||n.showModified?"MODIFIED_BY_YOU":p?"RESERVED_BY_YOU":m?"REQUEST_REQUESTED_BY_YOU":"LAST_MODIFIED_BY_YOU":n.forVersionsList||n.showModified?"MODIFIED_BY":p?"RESERVED_BY":m?"REQUEST_REQUESTED_BY":"LAST_MODIFIED_BY":v?"CREATED_BY_YOU":"CREATED_BY",s=u?d?v?"DELETED_AT_BY_YOU":"DELETED_AT_BY":"DELETED_AT":o;var b={dateOnlyAfterDaySpan:n.dateOnlyAfterDaySpan,midstring:_},y=g?c:f?l:r,E=y?e.naturalDate(y,a.userTimeZone,b):"";if(a.isPublicLink)return docs.i18n.t(s,E);var w=g?i.get("reservedByName"):f?i.get("modifiedByName"):i.get("createdByName");return docs.i18n.t(s,E,w)},getLocation:function(e){return 0===e.indexOf("F:USER:")?a.memberRoot+"folder/home":a.routerRoot+"folder/"+e},getFolderContainsString:function(e){var t="";if(e.isFolder){var i=e.getItemCounts(),n="PROPERTIES_PANE_CONTAINS_FMT_"+(1===i.childFilesCount?"S":"P")+(1===i.childFoldersCount?"S":"P");t=docs.i18n.t(n,i.childFilesCount,i.childFoldersCount)}return t},getBoilerplateImageUrl:function(e){if(e.endsWith("svg")){var t=a.UITheme||"redwood";"translight"===t?t="light":"transdark"===t&&(t="dark"),e=e.replace("images/","images/boilerplate/"+t+"/")}else e=e.replace("images/","images/boilerplate/");return e},getBoilerplateHtml:function(e,i,n,s,o,a){return n=this.getBoilerplateImageUrl(n),e({id:t.uniqueId("bp"),bpClass:"bp_class "+i,imgSrc:n,text:s,details:o,extraDetails:a||null})},getGenericBoilerplateHtml:function(e,t,i,n,s){return this.getBoilerplateHtml(o,e,t,i,n,s)},containsRestrictedChar:function(e){for(var t,i=this.restrictedChars.length;i--;)-1!==e.indexOf(this.restrictedChars[i])&&(t=t?t+", "+this.restrictedChars[i]:this.restrictedChars[i]);return t},isInFullScreenMode:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},isFullScreenModeSupported:function(){return!!(document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen)},getContentAssetSourcePath:function(t,i,n,s,o,a,r){var l="/_sitescloud/sitebuilder/thumbnail/thumbnail.html?";return l+="contentId="+t,l+="&contentType="+i,l+="&layoutCategory="+n,l+="&layoutType="+s,l+="&lang="+e("html")[0].lang,o&&(l+="&secure=true"),a&&r?(l+="&status=published",l+="&accessToken="+r):l+="&status=draft",l},isUser:function(e,i,n,s){var o=t.isFunction(e.get),a=s||(o?e.get("userLoginAsID"):e.userLoginAsID)||!1,r=o?e.get(n):e[n];return t.isObject(r)&&a&&(r=r.userName),!a&&r===i.id||a&&r&&i.loginId&&r.toUpperCase()===i.loginId.toUpperCase()},isYou:function(e,t,i){return this.isUser(e,{id:s.getUserName(),loginId:s.getUserLogin()},t,i)},isIDCSGroup:function(e){return e&&"IDP"==e.toUpperCase()},getGroupOriginType:function(e){return e.groupOriginType||e.GroupOriginType},isGroup:function(e){var t=e.type&&e.type.toLowerCase()||"";return!("group"!==t&&!this.getGroupOriginType(e))||!("user"===t||!e.id||"G"!==e.id.slice(0,1))},isExternalUser:function(e){return e.isExternalUser},getMemberTypeAndNameString:function(e,i){var n=this.getMemberTypeString(e);return i=i||e.name,docs.i18n.t("MEMBER_TYPE_NAME_ARIA_LABEL",n,t.escape(i))},getMemberTypeString:function(e){var t=docs.i18n.t("SHARE_USER_PREFIX");if(this.isExternalUser(e))t=docs.i18n.t("SHARE_EXTERNAL_USER");else if(this.isGroup(e)){var i=this.getGroupOriginType(e);t=this.isIDCSGroup(i)?docs.i18n.t("SHARE_IDP_GRP_PREFIX"):docs.i18n.t("SHARE_GRP_PREFIX")}return t},areVersionsEqual:function(e,i){var n=t.isNull(e)||t.isUndefined(e)?"":(e+"").toLowerCase(),s=t.isNull(i)||t.isUndefined(i)?"":(i+"").toLowerCase();return"v"===n.charAt(0)&&(n=n.substring(1)),"v"===s.charAt(0)&&(s=s.substring(1)),n===s},standardPagerOptions:function(){return[25,50,100,200,500].map((function(e){return{value:e,text:docs.i18n.t("ITEMS_PER_PAGE",e),title:docs.i18n.t("ITEMS_PER_PAGE_TT",e)}}))},isUsingRedwoodScheme:function(){return["redwood","noscheme"].indexOf(a.UITheme)>=0},isRTL:function(e){return/[\u0590-\u07BF\u0900-\u097F\uFB50-\uFDFF\uFE70-\uFEFF]/.test(e)},splitDisplayNameForEllipsisInMiddle:function(e){if(this.isRTL(e)||"rtl"===docs.common.Globals.dir)return[e,""];e=t.unescape(e);var i=Math.max(.85*e.length,e.length-10),n=[e.substring(0,i),e.substring(i)];return(n=n.map((function(e){return t.escape(e)})))[0]=n[0].replace(/\s$/,"&nbsp;"),n[1]=n[1].replace(/^\s/,"&nbsp;"),n},getTransitionEndEventForBrowser:t.once((function(){return"WebkitTransition"in document.documentElement.style?"webkitTransitionEnd":"transitionend"})),isSites:function(e){return e&&e.get("application")&&e.get("application").startsWith("framework.site")},getCssRequirePath:function(e){return"css!"+(e.includes("/")?e:"geminiCss/"+e)},requireCssBundleAsPromise:function(i){var n,s=e.Deferred();return n=Array.isArray(i)?t.map(i,(function(e){return this.getCssRequirePath(e)}),this):[this.getCssRequirePath(i)],require(n,(function(e){osn.debug("view","requireCssBundleAsPromise retrieved "+i),s.resolve()})),s.promise()},requireAsPromise:function(t){var i=e.Deferred();return require(t,(function(){i.resolve(1==arguments.length?arguments[0]:arguments)})),i},getActiveEditorInstances:function(){return checkFeatureFlag("tinymce")?window.tinymce&&window.tinymce.activeEditor&&[window.tinymce.activeEditor]||[]:window.CKEDITOR&&window.CKEDITOR.instances}},docs.common.Utils})),define("core/util/UrlParams",["jquery","underscore","backbone","core/util/Globals"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals,s=["picker","eloqua","linkpicker"],o=[{key:"dlg",prop:"dialog",allowedValues:{picker:"picker",eloqua:"eloqua",linkpicker:"linkpicker"}},{key:"lyt",prop:"layout",allowedValues:{list:"layout_list",grid:"layout_grid",compact:"layout_compact",card:"layout_card"}},{key:"sbr",prop:"sidebar",allowedValues:{hide:"hide",conversations:"conversation",conversation:"conversation",rendition:"rendition",renditions:"rendition",metadata:"metadata",aif:"aif"}},{key:"ext",prop:"extensions",multiple:!0,anyValue:!0},{key:"rnd",prop:"renditionId",anyValue:!0},{key:"ori",prop:"origin",allowedValues:{sbr:"sbr",view:"view",dlg:"dialog"}},{key:"tab",prop:"tab",allowedValues:{edit:"edit",test:"test"}},{key:"tst",prop:"test",anyValue:!0}],a=function(e,i,n,s,o,a){t(o).contains(n)?(a=a?a+"_":"",e[i]=a+n):s&&n.charAt(0)===s&&t(o).contains(n.slice(1))&&(a=a?a+"_":"",e[i]=a+n.slice(1))},r=function(i,n,s,o,a){if(s.charAt(0)===o){var r=s.slice(1);if(e.isNumeric(r)){var l="0x"===r.toLowerCase().slice(0,2)?16:10,c=parseInt(r,l);!1===t.isNaN(c)&&(i[n]=c)}else a&&(i[n]=r)}};return docs.common.UrlParams={filters:docs.common.Globals.isStandardExternalUser?["all","shared"]:["all","owned","shared"],sorts:["updated","nameasc"],layouts:["list","compact","grid","card","table"],paramConfig:o,isKeyword:function(e){return this.keywords||(this.keywords=t.union(this.filters,this.sorts,this.layouts)),t.contains(this.keywords,e)},parse:function(i,l,c){if(t.isObject(i))return i;var d={};if(d.filters=this.filters,i){d.fragment="/"+i,d.config=l||0;var u=i.split("/");t(u).each((function(i){if(i.match(/[a-z][a-z][a-z]=/)&&t(t.pluck(o,"key")).contains(i.substr(0,3)))!function(e,i){var s=i.substr(4),a=t.findWhere(o,{key:i.substr(0,3)});if(!a.embedOnly||n.embed)if(a.multiple){s=s.split(",");var r=a.allowedValues?{}:[];t.each(s,(function(e){a.allowedValues&&a.allowedValues.hasOwnProperty(e)?r[a.allowedValues[e]]=!0:a.legacyValues&&a.legacyValues.hasOwnProperty(e)?r[a.allowedValues[a.legacyValues[e]]]=!0:a.anyValue&&r.push(e)})),a.prop?e[a.prop]=r:t.extend(e,r)}else a.allowedValues&&a.allowedValues.hasOwnProperty(s)?e[a.prop]=a.allowedValues[s]:a.anyValue&&(e[a.prop]=s)}(d,i);else if("f"===i.charAt(0)||t(this.filters).contains(i))a(d,"filter",i,"f",this.filters,"filter");else if("s"===i.charAt(0)||t(this.sorts).contains(i))a(d,"sortOrder",i,"s",this.sorts,"sort");else if(t(this.layouts).contains(i))a(d,"layout",i,void 0,this.layouts,"layout");else if("a"===i.charAt(0))r(d,"annotationId",i,"a",!1),d.annotationId&&(d.annotationId=d.annotationId.toString());else if("m"===i.charAt(0))r(d,"chatId",i,"m",!1),d.chatId&&(d.chatId=d.chatId.toString());else if("o"===i.charAt(0))r(d,"conversationId",i,"o",!1),d.conversationId&&(d.conversationId=d.conversationId.toString());else if("l"===i.charAt(0)&&"link"!==i)d.conversationLinkId=i.slice(1);else if("reply"===i)d.replyToChat=!0;else if("w"===i.charAt(0))d.viewerVersion=i.slice(1),"oit"===d.viewerVersion&&delete d.viewerVersion;else if("p"===i.charAt(0))r(d,"page",i,"p",!1),d.page<1&&(d.page=1);else if(n.embed&&"d"===i.charAt(0))a(d,"dialog",i,"d",s);else if("v"===i.charAt(0)||e.isNumeric(i))if("v"!==i.charAt(0)&&(i="v"+i),c){var l=i.slice(1);d.revision=l}else r(d,"revision",i,"v",!1)}),this)}return d},_getUrlPart:function(e,i){if(i){var n=t.findWhere(o,{key:e});if(n){var s="/"+e+"=";return t.each(n.allowedValues,(function(e,t){i.hasOwnProperty(e)&&i[e]&&(s.indexOf("=")!==s.length-1&&(s+=","),s+=t)})),s}}return""},getConfigUrlPart:function(e){var t=this._getUrlPart("cfg",e);return t.indexOf("=")!==t.length-1?t:""},getViewConfigUrlPart:function(e){return e?this._getUrlPart("vcf",e.vwrcfg):""},parseQueryString:function(){return t.chain(window.location.search.split(/[?&]/)).compact().map((function(e){return e.split("=")})).object().value()}},docs.common.UrlParams})),define("core/util/SitesUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:docs.common.Globals.isStandardExternalUser?["all","shared","online","offline"]:["all","owned","shared","online","offline"]})})),define("core/util/SiteRequestsUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";var n=["approve","others","owned","failed"],s=["all","owned","approve"];return t.extend({},i,{adminSubFilters:n,nonAdminSubFilters:s,subFilters:docs.common.Globals.isSitesAdmin?n:s})})),define("core/util/AppsUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:["all","local","remote","container","contentlayout","sectionlayout","fieldeditor","contentform","vbcs","translationeditor","rsstemplate"]})})),define("core/util/PublishUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:["channel","page"]})})),define("core/util/TranslationJobsUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:["all","preparing","ready","inprogress","importing","translated","failed"]})})),define("core/util/PublishingEventsUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:["all","success","failed","publishNow","publishLater"]})})),define("core/util/ExperiencesUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:["all","owned","shared"]})})),define("core/util/Browser",["jquery","underscore","backbone","core/util/Globals"],(function(e,t,i,docs){"use strict";function n(e,t){var i=-1;return"Microsoft Internet Explorer"===e&&null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(i=parseInt(RegExp.$1,10)),-1===i&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(i=parseInt(RegExp.$1,10)),-1===i&&null!==new RegExp("Trident/([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(i=parseInt(RegExp.$1,10)+4),-1===i&&null!==new RegExp("Edge/([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(i=parseInt(RegExp.$1,10)),i}function s(e){return e.toLowerCase().indexOf("firefox")>=0}function o(e){var t=e.toLowerCase();return-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")&&-1===t.indexOf("phantomjs")}function a(e){var t=e.toLowerCase();return-1!==t.indexOf("iphone")||-1!==t.indexOf("ipad")||-1!==t.indexOf("ipod")}function r(e){return-1!==e.toLowerCase().indexOf("ipad")}function l(e){return-1!==e.toLowerCase().indexOf("android")}function c(e){return e.toUpperCase().indexOf("MAC")>=0}function d(e){return e.toUpperCase().indexOf("WIN")>=0}function u(e){return e.toUpperCase().indexOf("LINUX")>=0}var h;return docs.common.Browser={IEVersion:n(window.navigator.appName,window.navigator.userAgent),getIEVersion:function(){return this.IEVersion},isIEv9:function(){return 9===this.IEVersion},isIEv10:function(){return 10===this.IEVersion},isFirefox:s(window.navigator.userAgent),isSafari:o(window.navigator.userAgent),isIOS:a(window.navigator.userAgent),isIPad:r(window.navigator.userAgent),isAndroid:l(window.navigator.userAgent),isMobile:(h=window.navigator.userAgent,a(h)||l(h)),isMac:c(window.navigator.platform),isWin:d(window.navigator.platform),isLinux:u(window.navigator.platform),clientType:function(){return this.isIOS?"ios":this.isAndroid?"android":this.isMac?"mac":this.isWin?"windows":this.isLinux?"linux":"unknown"},supportsTouchEvents:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},supportsCopy:function(){var e=-1===this.getIEVersion()&&document.queryCommandSupported("copy");if(e){if(this.isIOS)return!1;if(this.isFirefox){var t=/(Firefox)[ \/]([0-9]{1,}[\\.0-9]{0,})/i.exec(window.navigator.userAgent)[2];return parseInt(t,10)>=41}}return e}},docs.common.Browser.__testonly__={_computeIEVersion:n,_computeIsFirefox:s,_computeIsSafari:o,_computeIsIOS:a,_computeIsIPad:r,_computeIsAndroid:l,_computeIsMac:c,_computeIsWindows:d,_computeIsLinux:u},docs.common.Browser})),define("core/util/Logger",["jquery","underscore","backbone","core/util/Globals"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals,s={off:20,error:10,warn:8,info:6,debug:4,trace:2};window.loggerConfig=function(e){var i=localStorage.getItem("loggers");if(void 0!==e)if(t.isBoolean(e)){if(!i)return"no loggers set";localStorage.log=e?"true":"false"}else""===e||null===e?(delete localStorage.log,delete localStorage.loggers):(localStorage.log="true","+"===e.slice(0,1)?(localStorage.loggers+=","+e.slice(1),e=localStorage.loggers):localStorage.loggers=e);var n=localStorage.log;return(void 0!==n&&"true"!==n?"Disabled: ":"")+(i=localStorage.getItem("loggers")||"")};var o,a=function(e){return s[this.level]<=s[e]},r=function(e,t){var i={level:e,logger:t,isLogging:a},n="["+t+"]";return window.console&&s[e]<=s.error?i.error=console.error?Function.prototype.bind.call(console.error,console,n,"ERROR"):Function.prototype.bind.call(console.log,console,n,"ERROR"):i.error=function(){},window.console&&s[e]<=s.warn?i.warn=console.warn?Function.prototype.bind.call(console.warn,console,n,"WARN"):Function.prototype.bind.call(console.log,console,n,"WARN"):i.warn=function(){},window.console&&s[e]<=s.info?i.info=console.info?Function.prototype.bind.call(console.info,console,n,"INFO"):Function.prototype.bind.call(console.log,console,n,"INFO"):i.info=function(){},window.console&&s[e]<=s.trace?i.trace=Function.prototype.bind.call(console.log,console,n,"TRACE"):i.trace=function(){},window.console&&s[e]<=s.debug?i.debug=console.debug?Function.prototype.bind.call(console.debug,console,n,"DEBUG"):Function.prototype.bind.call(console.log,console,n,"DEBUG"):i.debug=function(){},i},l={cloudui:r("off","off")};return"true"===localStorage.getItem("log")&&(n.loggers=localStorage.getItem("loggers")||""),n.loggers&&("null"===n.loggers&&(n.loggers="cloudui:debug"),t(n.loggers.split(",")).each((function(e){var t=e.split(":");if(2===t.length){var i="cloudui"!==t[0].slice(0,7)?"cloudui."+t[0]:t[0],n=t[1].toLowerCase();l[i.toLowerCase()]=r(n,i.toLowerCase())}}))),1===t(l).size()&&"off"===l.cloudui.level&&(o=l.cloudui),docs.common.Logger=function(e){if(o)return o;if(e=(e="cloudui"===e.slice(0,7)?e:"cloudui."+e).toLowerCase(),!l.hasOwnProperty(e)){for(var t=e;t.indexOf(".")>0&&(t=t.slice(0,t.lastIndexOf(".")),!l.hasOwnProperty(t)););"off"===l[t].level?l[e]=l[t]:l[e]=r(l[t].level,e)}return l[e]},docs.common.Logger})),define("core/util/AppLink",["jquery","underscore","backbone","core/util/Globals","core/util/Service"],(function(e,t,i,docs,n){"use strict";var s=docs.common.Globals;return docs.common.AppLink={hasTokens:function(t){return this.applinkData=this.applinkData||e.sessionStorage(t||n.linkId),this.applinkData},refresh:function(){this.applinkData=this.applinkData||e.sessionStorage(n.linkId),this.refreshing=!0;var i=n.getServiceParamsForPost("GET_APP_LINK_ACCESS_TOKEN");i.data.item="dAppLinkID:"+n.linkId,i.data.dAppLinkAccessToken=this.getAccessToken(),i.data.dAppLinkRefreshToken=this.applinkData.appLinkRefreshToken,e.ajax({url:i.url,type:"POST",data:i.data,async:!1,success:t.bind((function(t){this.applinkData.appLinkAccessToken=t.LocalData.dAppLinkAccessToken,this.applinkData.appLinkRefreshTimestamp=Date.now(),e.sessionStorage(n.linkId,this.applinkData)}),this)}),this.refreshing=!1},getCurrentAccessToken:function(){return this.applinkData=this.applinkData||e.sessionStorage(n.linkId),this.applinkData.appLinkAccessToken},getRefreshedAccessToken:function(){return this.refresh(),this.getCurrentAccessToken()},getAccessTokenExp:function(){if(t.isString(s.appLinkTokenExp)){var e=1,i=s.appLinkTokenExp.length;-1!==s.appLinkTokenExp.indexOf("second",i-6)?e=1e3:-1!==s.appLinkTokenExp.indexOf("minute",i-6)?e=6e4:-1!==s.appLinkTokenExp.indexOf("hour",i-4)&&(e=36e5),s.appLinkTokenExp=parseInt(s.appLinkTokenExp,10)*e}return Math.max(s.appLinkTokenExp-6e4,3e4)},getAccessToken:function(t){if(this.applinkData=this.applinkData||e.sessionStorage(n.linkId),!this.refreshing){var i=this.getAccessTokenExp(),s=this.applinkData.appLinkRefreshTimestamp;(s<0&&t||Date.now()-Math.abs(s)>i)&&this.refresh()}return this.applinkData.appLinkAccessToken},setAppLinkData:function(t){this.applinkData={linkId:t.linkId||t.appLinkID||t.id,appLinkAccessToken:t.appLinkAccessToken||t.accessToken,appLinkRefreshToken:t.appLinkRefreshToken||t.refreshToken,appLinkRefreshTimestamp:0-Date.now()},e.sessionStorage(this.applinkData.linkId,this.applinkData)},obtainTokens:function(i,n){return this.applinkData=this.applinkData||e.sessionStorage(i),!this.applinkData&&(docs.events.once("embedapi:setAppLinkTokens",t.bind((function(e){e.linkId=i,this.setAppLinkData(e),n()}),this)),docs.common.EmbedApi.events.appLinkReady(),!0)},createApplink:function(t,i,s,o){i=i||"downloader",s=s||docs.common.Globals.userLogin,o=o||docs.common.Globals.locale;var a="F"===t.slice(0,1)?"fFolderGUID":"fFileGUID";t=a+":"+t;var r,l=n.getServiceParamsForPost("CREATE_APP_LINK");return l.data.item=t,l.data.dAssignedUser=s,l.data.dRoleName=i,l.data.dUserLocale=o,e.ajax(l.url,{type:"POST",async:!1,data:l.data,success:function(e){r={type:"applink",applinkId:e.LocalData.dAppLinkID,accessToken:e.LocalData.dAppLinkAccessToken,refreshToken:e.LocalData.dAppLinkRefreshToken,applinkUrl:e.LocalData.dLinkUrl}}}),r},determineApplinkRole:function(e){if(!e||!t.isFunction(e.isAllowedAction))return"unknown";var i=e.isAllowedAction("directShareRead"),n=e.isAllowedAction("directShareWrite"),s=e.isAllowedAction("linkShareRead"),o=e.isAllowedAction("linkShareWrite");return i&&n&&s&&o?"manager":i&&!n&&s&&o?"contributor":i&&!n&&s&&!o?"downloader":!i||n||s||o?"unknown":"viewer"}},docs.common.AppLink})),define("common/assets/constants",["jquery","underscore","backbone"],(function(e,t,i){"use strict";return{assetTypeCategory:{DIGITALASSETTYPE:"DigitalAssetType",CONTENTTYPE:"ContentType"},category:{DEFAULT_CATEGORY:"Default",FORM_LAYOUT:"ContentForm",PREVIEW_LAYOUT:"AssetPreviewLayout"},preview:{MODE_INSPECT:"content",MODE_LAYOUT:"layout",MODE_INPLACE:"inplace",MODE_OFF:"off"},general:{NAME_MAX_LENGTH:256,DESCRIPTION_MAX_LENGTH:128,NO_REF_ACCESS_IMAGE:"no_media_access.svg"},drawerSize:{DEFAULT:"default",FULL:"full",HALF:"half",SMALL:"small",MEDIUM:"medium",LARGE:"large"},repository:{BUSINESS:"Business",STANDARD:"Standard"},formPlacement:{SIDEBAR:"sidebar",DRAWER:"drawer"},nativeFileSource:{LANGUAGE:"language",COMPUTER:"computer",DOCUMENTS:"documents",CONNECTOR:"connector"},colorTagsSearch:{supportedColors:["FFFFFF","FFFFE6","FFE5CC","FFCCCC","FFCCFF","E5CCFF","CCCCFF","CCEEFF","E6FFFF","E6FFE6","BFBFBF","FFFF99","FFBF80","FF8080","FF80FF","BF80FF","8080FF","80D4FF","99FFFF","99FF99","808080","FFFF00","FF7F00","FF0000","FF00FF","7F00FF","0000FF","00A9FF","00FFFF","00FF00","404040","CCCC00","BF5F00","BF0000","BF00BF","5300A6","0000B2","007FBF","00CCCC","00BF00","000000","999900","8C4600","800000","800080","330066","000080","005480","008C8C","008000"]}}})),define("core/embedapi/ViewOptions",["jquery","underscore","common/assets/constants","core/util/Globals","core/util/FeatureFlags"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals;return{scheme:{ui:"default",embed:"default",values:["default","light","dark"]},hideColorStripe:{ui:!1,embed:!1},takeFocus:{ui:!0,embed:!1,v1:!0},locale:{ui:void 0,embed:void 0},dateLocale:{ui:void 0,embed:void 0},assetsView:{select:{ui:"multiple",embed:"multiple",values:["multiple","single","none"],help:"EMBEDUI_HELP_ASSETSVIEW_SELECT"},layout:{ui:void 0,embed:void 0,values:["","grid","table"]},availableLayouts:{ui:[],embed:[],type:"array",values:["none","table","grid"]},sort:{ui:void 0,embed:void 0,values:["","relevance","nameasc","updated"]},header:{hide:{ui:!1,embed:!1},add:{upload:{ui:!0,embed:!1,v1:!0},documents:{ui:!0,embed:!1,v1:!0,se:!1},connectors:{ui:["all"],embed:[],v1:["all"],values:["all","<connectorId>"]}},create:{ui:!0,embed:!1,v1:!0},analytics:{ui:!0,embed:!1,v1:!0},translations:{ui:!0,embed:!1,v1:!0,se:!1},collections:{ui:!0,embed:!1,v1:!0},categorySuggestions:{ui:!0,embed:!1},workflowTasks:{ui:!0,embed:!1},scheduledPublishing:{ui:!0,embed:!1},publishingEvents:{ui:!0,embed:!1},archivedAssets:{ui:!0,embed:!1}},filter:{expand:{ui:!0,embed:!1},custom:{ui:void 0,embed:void 0,featureFlag:"CustomFilterPanel"},tabs:{filter:{ui:!0,embed:!1,v1:!0},categories:{ui:!0,embed:!1},fields:{ui:!0,embed:!1}},bar:{hide:{ui:!1,embed:!1},keywords:{ui:!0,embed:!0},capsules:{ui:!0,embed:!0,v1:!1},relatedKeywords:{ui:!0,embed:!1,se:!1}},colorFilter:{ui:!0,embed:!1},repositories:{ui:void 0,embed:void 0,type:"array"},collections:{ui:void 0,embed:void 0,type:"array"},channels:{ui:void 0,embed:void 0,type:"array"},languages:{ui:void 0,embed:void 0,type:"array"},mediaGroups:{ui:[],embed:[],type:"array",values:["none","images","videos","documents","contentitem","other"]},assetTypes:{ui:[],embed:[],type:"array"},assetStatus:{ui:[],embed:[],type:"array",values:["all","none","published","unpublished","inreview","approved","rejected","translated","draft","notReady","recategorized","lockedByYou","lockedByOthers","notLocked","linked","inWorkflow"]},colorTags:{ui:[],embed:[],type:"array",values:i.colorTagsSearch.supportedColors},taxonomies:{ui:void 0,embed:void 0,type:"array"}},filterValue:{repositoryId:{ui:void 0,embed:void 0},keywords:{ui:[],embed:[]},collectionId:{ui:"all",embed:void 0},channelId:{ui:"all",embed:void 0},languageId:{ui:"all",embed:void 0},mediaGroups:{ui:[],embed:[],type:"array",values:["none","images","videos","documents","contentitem","files"]},assetTypes:{ui:[],embed:[],type:"array"},assetStatus:{ui:[],embed:[],values:["published","unpublished","inreview","approved","rejected","translated","draft","notReady","recategorized","lockedByYou","lockedByOthers","notLocked","linked","inWorkflow"]},colorTags:{ui:[],embed:[],type:"array"},includeChildCategories:{ui:!0,embed:!0},notCategorized:{ui:!1,embed:!1},categories:{ui:[],embed:[],arrayType:"object"},fieldQueries:{ui:[],embed:[],arrayType:"object"},suggestionData:{ui:void 0,embed:void 0}},sidebar:{expand:{ui:void 0,embed:!1},active:{ui:void 0,embed:void 0,values:["","analytics","categories","channels","conversation","inventory","properties","tagsAndCollections","workflow"]},analytics:{ui:!0,embed:!1,v1:!1},categories:{ui:!0,embed:!1,v1:!1},channels:{ui:!0,embed:!1,v1:!0},conversation:{ui:!0,embed:!1,v1:!1},inventory:{ui:!0,embed:!1,v1:!1},properties:{ui:!0,embed:!1,v1:!0},tagsAndCollections:{ui:!0,embed:!1,v1:!0},workflow:{ui:!0,embed:!1,v1:!0},options:{taxonomies:{ui:void 0,embed:void 0,type:"array"}}},toolbar:{hide:{ui:!1,embed:!1}},actions:{open:{ui:!0,embed:!1,v1:!0},preview:{ui:!0,embed:!1},edit:{ui:!0,embed:!1,v1:!0},languages:{ui:!0,embed:!1,v1:!0},addTranslation:{ui:!0,embed:!1,v1:!0},publish:{ui:!0,embed:!1,v1:!0},publishLater:{ui:!0,embed:!1,v1:!0},unpublish:{ui:!0,embed:!1,v1:!0},download:{ui:!0,embed:!1,v1:!0},uploadNewVersion:{ui:!0,embed:!1,v1:!0},findVisuallySimilar:{ui:!0,embed:!1,v1:!1,se:!1},findCategorizedSimilarly:{ui:!0,embed:!1,v1:!1,se:!1},copy:{ui:!0,embed:!1,v1:!0},duplicate:{ui:!0,embed:!1,v1:!0},translatable:{ui:!0,embed:!1,v1:!0},nonTranslatable:{ui:!0,embed:!1,v1:!0},setTranslated:{ui:!0,embed:!1,v1:!0},setMaster:{ui:!0,embed:!1,v1:!0},translate:{ui:!0,embed:!1,v1:!0,se:!1},delete:{ui:!0,embed:!1,v1:!0},lock:{ui:!0,embed:!1,v1:!0},unlock:{ui:!0,embed:!1,v1:!0},convertType:{ui:!0,embed:!1},convertVideo:{ui:!0,embed:!1},archive:{ui:!0,embed:!1,v1:!0},syncAsset:{ui:!0,embed:!1,v1:!1}},card:{drag:{ui:!1,embed:!1,v1:!0},conversationIcon:{ui:!0,embed:!1,v1:!0},language:{ui:!0,embed:!0},status:{ui:!0,embed:!0},version:{ui:void 0,embed:void 0,values:["all","latest"]}}},assetViewer:{header:{hide:{ui:!1,embed:!1},create:{ui:!0,embed:!1},annotate:{ui:!0,embed:!1,v1:!0},fullScreen:{ui:!0,embed:!1},close:{ui:!0,embed:!1},save:{ui:!0,embed:!0}},actions:{open:{ui:!0,embed:!1},edit:{ui:!0,embed:!1,v1:!0},download:{ui:!0,embed:!1,v1:!0},uploadNewVersion:{ui:!0,embed:!1,v1:!0},makeCurrent:{ui:!0,embed:!1,v1:!0},compare:{ui:!0,embed:!1},preview:{ui:!0,embed:!1},previewLayouts:{ui:!0,embed:!1},convertVideo:{ui:!0,embed:!1}},controls:{fit:{ui:"default",embed:"default",values:["default","width","page","original"]},zoom:{ui:!0,embed:!0,v1:!0},fitOriginal:{ui:!0,embed:!0,v1:!0},fitPage:{ui:!0,embed:!0,v1:!0},fitWidth:{ui:!0,embed:!0,v1:!0}},thumbnails:{hide:{ui:!1,embed:!1},expand:{ui:!0,embed:!0}},sidebar:{expand:{ui:!1,embed:!1},active:{ui:void 0,embed:void 0,values:["","analytics","attributes","categories","channels","conversation","inventory","properties","renditions","tagsAndCollections","workflow"]},analytics:{ui:!0,embed:!1,se:!1},attributes:{ui:!0,embed:!1},categories:{ui:!0,embed:!1},channels:{ui:!0,embed:!1},conversation:{ui:!0,embed:!1},inventory:{ui:!0,embed:!1},properties:{ui:!0,embed:!1},renditions:{ui:!0,embed:!1},tagsAndCollections:{ui:!0,embed:!1},workflow:{ui:!0,embed:!1},options:{taxonomies:{ui:void 0,embed:void 0,type:"array"},addRendition:{ui:!0,embed:!0,se:!1}}},videoControls:{hide:{ui:!1,embed:!1},autoplay:{ui:!1,embed:!1},loop:{ui:!1,embed:!1},mute:{ui:!1,embed:!1}},views:{layout:{ui:void 0,embed:void 0,type:"array",tags:!0,values:["ContentForm","Default","Content List Default","Empty Content List Default","Content Placeholder Default","AssetPreviewLayout"]},inplacePreview:{ui:void 0,embed:void 0,type:"array",tags:!0,values:["None"]},default:{ui:void 0,embed:void 0}}},contentItemEditor:{header:{hide:{ui:!1,embed:!1},create:{ui:!0,embed:!1},annotate:{ui:!0,embed:!1},publish:{ui:!0,embed:!1},preview:{ui:!0,embed:!1},done:{ui:!0,embed:!0},save:{ui:!0,embed:!1},close:{ui:!0,embed:!0}},actions:{open:{ui:!0,embed:!1,v1:!1},edit:{ui:!0,embed:!1,v1:!0},preview:{ui:!0,embed:!1}},sidebar:{expand:{ui:!1,embed:!1},active:{ui:void 0,embed:void 0,values:["","analytics","categories","channels","conversation","inventory","properties","tagsAndCollections","workflow"]},analytics:{ui:!0,embed:!1},categories:{ui:!0,embed:!1},channels:{ui:!0,embed:!1},conversation:{ui:!0,embed:!1},inventory:{ui:!0,embed:!1},properties:{ui:!0,embed:!1},tagsAndCollections:{ui:!0,embed:!1},workflow:{ui:!0,embed:!1},options:{taxonomies:{ui:void 0,embed:void 0,type:"array"}}}},contentItemCreate:{header:{hide:{ui:!1,embed:!1},publish:{ui:!0,embed:!1},preview:{ui:!0,embed:!1},done:{ui:!0,embed:!0},save:{ui:!0,embed:!1},close:{ui:!0,embed:!0}},actions:{},sidebar:{expand:{ui:!0,embed:!1,v1:!0},active:{ui:void 0,embed:void 0,values:["","categories","channels","tagsAndCollections"]},categories:{ui:!0,embed:!1},channels:{ui:!0,embed:!1,v1:!0},tagsAndCollections:{ui:!0,embed:!1,v1:!0},options:{taxonomies:{ui:void 0,embed:void 0,type:"array"}}},default:{tags:{ui:void 0,embed:void 0,type:"array"},channels:{ui:void 0,embed:void 0,type:"array"},collections:{ui:void 0,embed:void 0,type:"array"}}},themesView:{select:{ui:"multiple",embed:"multiple",values:["multiple","single"]},header:{hide:{ui:!1,embed:!1}},breadcrumb:{hide:{ui:!1,embed:!1}},actions:{open:{ui:!0,embed:!1,v1:!0}}},dialogs:{assetPreview:{header:{fullScreen:{ui:!0,embed:!1}},actions:{download:{ui:!0,embed:!1,v1:!0},preview:{ui:!0,embed:!1},previewLayouts:{ui:!0,embed:!1}},controls:{zoom:{ui:!0,embed:!0,v1:!0},fitOriginal:{ui:!0,embed:!0,v1:!0},fitPage:{ui:!0,embed:!0,v1:!0},fitWidth:{ui:!0,embed:!0,v1:!0}},views:{layout:{ui:void 0,embed:void 0,type:"array",tags:!0,values:["ContentForm","Default","Content List Default","Empty Content List Default","Content Placeholder Default","AssetPreviewLayout"]},inplacePreview:{ui:void 0,embed:void 0,type:"array",tags:!0,values:["None"]},default:{ui:void 0,embed:void 0}}},assetLanguages:{header:{addTranslation:{ui:!0,embed:!1,v1:!0},publish:{ui:!0,embed:!1},unpublish:{ui:!0,embed:!1}},actions:{preview:{ui:!0,embed:!1},edit:{ui:!0,embed:!1},setTranslated:{ui:!0,embed:!1,v1:!0},setMaster:{ui:!0,embed:!1,v1:!0},translate:{ui:!0,embed:!1,v1:!0},delete:{ui:!0,embed:!1,v1:!0},lock:{ui:!0,embed:!1,v1:!0},unlock:{ui:!0,embed:!1,v1:!0}},sidebar:{expand:{ui:!1,embed:!1},active:{ui:void 0,embed:void 0,values:["","properties","workflow"]},properties:{ui:!0,embed:!1},workflow:{ui:!0,embed:!1,v1:!0}}},archivedAssets:{select:{ui:"multiple",embed:"multiple",values:["multiple","single","none"],help:"EMBEDUI_HELP_ASSETSVIEW_SELECT"},layout:{ui:void 0,embed:void 0,values:["","grid","table"]},sort:{ui:void 0,embed:void 0,values:["","relevance","nameasc","updated"]},header:{hide:{ui:!1,embed:!1}},filter:{expand:{ui:!0,embed:!1},tabs:{filter:{ui:!0,embed:!1,v1:!0},categories:{ui:!0,embed:!1},fields:{ui:!0,embed:!1}},bar:{hide:{ui:!1,embed:!1},keywords:{ui:!0,embed:!0},capsules:{ui:!0,embed:!0,v1:!1},relatedKeywords:{ui:!0,embed:!1,se:!1}},colorFilter:{ui:!0,embed:!1},colorTags:{ui:[],embed:[],type:"array",values:i.colorTagsSearch.supportedColors},collections:{ui:void 0,embed:void 0,type:"array"},channels:{ui:void 0,embed:void 0,type:"array"},languages:{ui:void 0,embed:void 0,type:"array"},mediaGroups:{ui:[],embed:[],type:"array",values:["none","images","videos","documents","contentitem","other"]},assetTypes:{ui:[],embed:[],type:"array"},taxonomies:{ui:void 0,embed:void 0,type:"array"},archivalStatus:{ui:[],embed:[],type:"array",values:["true","false"]}},filterValue:{keywords:{ui:[],embed:[]},collectionId:{ui:void 0,embed:void 0},channelId:{ui:void 0,embed:void 0},languageId:{ui:void 0,embed:void 0},colorTags:{ui:[],embed:[],type:"array"},mediaGroups:{ui:[],embed:[],type:"array",values:["none","images","videos","documents","contentitem","other"]},assetTypes:{ui:[],embed:[],type:"array"},includeChildCategories:{ui:!0,embed:!0},notCategorized:{ui:!1,embed:!1},categories:{ui:[],embed:[],arrayType:"object"},archivalStatus:{ui:[],embed:[],type:"array",values:["true","false"]}},sidebar:{expand:{ui:void 0,embed:!1},active:{ui:void 0,embed:void 0,values:["","properties"]},properties:{ui:!0,embed:!1}},toolbar:{hide:{ui:!1,embed:!1}},actions:{open:{ui:!0,embed:!1,v1:!0},delete:{ui:!0,embed:!1,v1:!0},download:{ui:!0,embed:!1,v1:!0},scheduleRestoration:{ui:!0,embed:!1,v1:!0},cancelRestoration:{ui:!0,embed:!1,v1:!0}},card:{language:{ui:!0,embed:!0},status:{ui:!0,embed:!0}}},archivedAssetView:{header:{fullScreen:{ui:!0,embed:!1},scheduleRestoration:{ui:!0,embed:!1},cancelRestoration:{ui:!0,embed:!1},properties:{ui:!0,embed:!1},attributes:{ui:!0,embed:!1}},thumbnails:{hide:{ui:!1,embed:!1},expand:{ui:!0,embed:!0}},sidebar:{expand:{ui:!1,embed:!1},active:{ui:void 0,embed:void 0,values:["","attributes","properties"]},attributes:{ui:!0,embed:!1},properties:{ui:!0,embed:!1}},actions:{download:{ui:!0,embed:!1,v1:!0},preview:{ui:!0,embed:!1}},controls:{zoom:{ui:!0,embed:!0,v1:!0},fitOriginal:{ui:!0,embed:!0,v1:!0},fitPage:{ui:!0,embed:!0,v1:!0},fitWidth:{ui:!0,embed:!0,v1:!0}},videoControls:{hide:{ui:!1,embed:!1},autoplay:{ui:!1,embed:!1},loop:{ui:!1,embed:!1},mute:{ui:!1,embed:!1}}},addToRepository:{sidebar:{expand:{ui:!0,embed:!1},active:{ui:void 0,embed:void 0,values:["","categories","channels","tagsAndCollections"]},categories:{ui:!0,embed:!1},channels:{ui:!0,embed:!1},tagsAndCollections:{ui:!0,embed:!1},options:{taxonomies:{ui:void 0,embed:void 0,type:"array"}}},mediaGroupTypes:{Images:{ui:[],embed:[],type:"array"},Videos:{ui:[],embed:[],type:"array"},Documents:{ui:[],embed:[],type:"array"},Other:{ui:[],embed:[],type:"array"}},default:{tags:{ui:void 0,embed:void 0,type:"array"},channels:{ui:void 0,embed:void 0,type:"array"},collections:{ui:void 0,embed:void 0,type:"array"}}},documentPicker:{layout:{ui:void 0,embed:void 0,values:["","grid","table","list"]},sort:{ui:void 0,embed:void 0,values:["","nameasc","updated"]},header:{create:{folder:{ui:!0,embed:!1,v1:!0},o365:{ui:!1,embed:!1,v1:!0}},upload:{ui:!0,embed:!1,v1:!0}}},mediaPicker:{header:{add:{upload:{ui:!0,embed:!1,v1:!0},documents:{ui:!0,embed:!1,v1:!0},connectors:{ui:["all"],embed:[],v1:["all"],values:["all","<connectorId>"]}}},filter:{expand:{ui:!0,embed:!1},tabs:{filter:{ui:!0,embed:!1,v1:!0},categories:{ui:!0,embed:!1},fields:{ui:!0,embed:!1}},bar:{hide:{ui:!1,embed:!1},keywords:{ui:!0,embed:!0},capsules:{ui:!0,embed:!0,v1:!1},relatedKeywords:{ui:!0,embed:!1,se:!1},recommendationsForYou:{ui:!0,embed:!1,se:!1}},colorFilter:{ui:!0,embed:!1}},filterValue:{keywords:{ui:[],embed:[]},collectionId:{ui:void 0,embed:void 0},channelId:{ui:void 0,embed:void 0},mediaGroups:{ui:[],embed:[],type:"array",values:["none","images","videos","documents","contentitem","files"]},assetTypes:{ui:[],embed:[],type:"array"},assetStatus:{ui:[],embed:[],values:["published","unpublished","inreview","approved","rejected","translated","draft","notReady","recategorized","lockedByYou","lockedByOthers","notLocked","linked"]},colorTags:{ui:[],embed:[],type:"array"},includeChildCategories:{ui:!0,embed:!0},notCategorized:{ui:!1,embed:!1},categories:{ui:[],embed:[],arrayType:"object"},suggestionData:{ui:void 0,embed:void 0}},actions:{findVisuallySimilar:{ui:!0,embed:!1,v1:!0,se:!1},findCategorizedSimilarly:{ui:!0,embed:!1,v1:!1,se:!1},preview:{ui:!0,embed:!1},uploadNewVersion:{ui:!0,embed:!1,v1:!0}}},referencePicker:{header:{create:{ui:!0,embed:!1,v1:!0}},filter:{expand:{ui:!0,embed:!1},tabs:{filter:{ui:!0,embed:!1,v1:!0},categories:{ui:!0,embed:!1},fields:{ui:!0,embed:!1}},bar:{hide:{ui:!1,embed:!1},keywords:{ui:!0,embed:!0},capsules:{ui:!0,embed:!0,v1:!1}},colorFilter:{ui:!1,embed:!1}},actions:{preview:{ui:!0,embed:!1}}}},documentsView:{select:{ui:"multiple",embed:"multiple",values:["multiple","single","none"]},selectable:{ui:"any",embed:"any",values:["any","documents","folders"]},layout:{ui:void 0,embed:void 0,values:["","grid","table","list"]},availableLayouts:{ui:[],embed:[],type:"array",values:["none","table","list","grid"]},sort:{ui:void 0,embed:void 0,values:["","nameasc","updated"]},header:{hide:{ui:!1,embed:!1},title:{ui:!0,embed:!0},menu:{ui:!0,embed:!0},trash:{ui:!0,embed:!1,v1:!0},favorites:{ui:!0,embed:!1,v1:!0},create:{folder:{ui:!0,embed:!1,v1:!0},o365:{ui:!0,embed:!1,v1:!0}},upload:{ui:!0,embed:!1,v1:!0}},toolbar:{hide:{ui:!1,embed:!1}},breadcrumb:{hide:{ui:!1,embed:!1},back:{ui:!1,embed:!1}},actions:{open:{folder:{ui:!0,embed:!0,v1:!0},file:{ui:!0,embed:!1,v1:!0},o365:{ui:!0,embed:!1,v1:!0}},edit:{web:{ui:!0,embed:!1,v1:!0,se:!1},o365:{ui:!0,embed:!1,v1:!0}},favorite:{ui:!0,embed:!1,v1:!0},uploadToFolder:{ui:!0,embed:!1,v1:!0},uploadNewVersion:{ui:!0,embed:!1,v1:!0},download:{ui:!0,embed:!1,v1:!0},rename:{ui:!0,embed:!1,v1:!0},lock:{ui:!0,embed:!1,v1:!0},move:{ui:!0,embed:!1,v1:!0},copy:{ui:!0,embed:!1,v1:!0},delete:{ui:!0,embed:!1,v1:!0},shareLink:{ui:!0,embed:!1,v1:!0},members:{ui:!0,embed:!1,v1:!0},addToAssets:{ui:!0,embed:!1,v1:!0},aif:{ui:!0,embed:!0,v1:!0}},sidebar:{expand:{ui:!1,embed:!1},active:{ui:void 0,embed:void 0,values:["","conversation","tagsAndMetadata","properties"]},conversation:{ui:!0,embed:!1,v1:!0},tagsAndMetadata:{ui:!0,embed:!1,v1:!0},properties:{ui:!0,embed:!1,v1:!0}}},documentViewer:{header:{hide:{ui:!1,embed:!1},annotate:{ui:!0,embed:!1,v1:!0},fullScreen:{ui:!0,embed:!1,v1:!1},close:{ui:!0,embed:!1,v1:!1}},breadcrumb:{hide:{ui:!1,embed:!1},back:{ui:!1,embed:!1},nextprev:{ui:!0,embed:!1,v1:!0}},actions:{open:{o365:{ui:!0,embed:!1,v1:!0}},edit:{web:{ui:!0,embed:!1,v1:!0,se:!1},o365:{ui:!0,embed:!1,v1:!0}},download:{ui:!0,embed:!1,v1:!0},uploadNewVersion:{ui:!0,embed:!1,v1:!0},favorite:{ui:!0,embed:!1,v1:!0},shareLink:{ui:!0,embed:!1,v1:!0},rename:{ui:!0,embed:!1,v1:!0},lock:{ui:!0,embed:!1,v1:!0}},controls:{fit:{ui:"default",embed:"default",values:["default","width","page","original"]},zoom:{ui:!0,embed:!0,v1:!0},fitOriginal:{ui:!0,embed:!0,v1:!0},fitPage:{ui:!0,embed:!0,v1:!0},fitWidth:{ui:!0,embed:!0,v1:!0}},thumbnails:{hide:{ui:!1,embed:!1},expand:{ui:!0,embed:!0}},sidebar:{expand:{ui:!1,embed:!1},active:{ui:void 0,embed:void 0,values:["","conversation","tagsAndMetadata","properties"]},conversation:{ui:!0,embed:!1,v1:!0},tagsAndMetadata:{ui:!0,embed:!1,v1:!0},properties:{ui:!0,embed:!1,v1:!0}},videoControls:{hide:{ui:!1,embed:!1},autoplay:{ui:!1,embed:!1},loop:{ui:!1,embed:!1},mute:{ui:!1,embed:!1}}},search:{header:{hide:{ui:!1,embed:!1},menu:{ui:!0,embed:!1}},filter:{ui:"documents",embed:"documents",values:["documents","folders","documentsAndFolders","scopedFolder","conversations"]},term:{ui:"",embed:""},sort:{ui:void 0,embed:void 0,values:["lastupdated","name","filesize"]},scopedFolderId:{ui:void 0,embed:void 0}},linkPicker:{selectable:{ui:"any",embed:"any",values:["any","documents","folders"]},layout:{ui:void 0,embed:void 0,values:["","grid","table","list"]},sort:{ui:void 0,embed:void 0,values:["","nameasc","updated"]},header:{hide:{ui:!1,embed:!1},done:{ui:!1,embed:!1},next:{ui:!1,embed:!1},back:{ui:!1,embed:!1},cancel:{ui:!1,embed:!1}},autoNext:{ui:!0,embed:!0},linkType:{ui:"both",embed:"public",values:["both","public","member"]},editOptions:{ui:!0,embed:!1},expandOptions:{ui:!1,embed:!0},showExisting:{ui:!0,embed:!1},hidePermissions:{ui:!1,embed:!1},selectedPermission:{ui:"default",embed:"default",values:["default","viewer","downloader","contributor"]},hideAccess:{ui:!1,embed:!1},selectedAccess:{ui:"default",embed:"default",values:["default","anyone","registeredUsers"]},hideExpiration:{ui:!1,embed:!1},hideAccessCode:{ui:!1,embed:!1}},conversations:{header:{hide:{ui:!1,embed:!1},create:{ui:!0,embed:!1,v1:!0},members:{ui:!0,embed:!1,v1:!0}},breadcrumb:{hide:{ui:!1,embed:!1},back:{ui:!1,embed:!1}},findBar:{show:{ui:!0,embed:!1}},actions:{open:{ui:!0,embed:!1,v1:!0}}},recommendationsView:{filter:{tabs:{filter:{ui:!1,embed:!1},categories:{ui:!1,embed:!1},fields:{ui:!1,embed:!1}},bar:{hide:{ui:!0,embed:!0}},colorFilter:{ui:!1,embed:!1}},actions:{open:{ui:!0,embed:!1}},card:{language:{ui:!0,embed:!0},status:{ui:!0,embed:!0}}},experiencesView:{filter:{tabs:{filter:{ui:!1,embed:!1},categories:{ui:!1,embed:!1},fields:{ui:!1,embed:!1}},bar:{hide:{ui:!0,embed:!0}},colorFilter:{ui:!1,embed:!1}},actions:{open:{ui:!0,embed:!1}}},categorySuggestionsView:{extends:"assetsView"},collectionsView:{extends:"assetsView"},videoEditorView:{header:{close:{ui:!0,embed:!0}}},navigation:{home:{ui:!0,embed:!1},assets:{ui:!0,embed:!1},sites:{ui:!0,embed:!1},siteoptions:{ui:!0,embed:!1},experiences:{ui:!0,embed:!1},recommendations:{ui:!0,embed:!1},developer:{ui:!0,embed:!1},analytics:{ui:!0,embed:!1},documents:{ui:!0,embed:!1,se:!1},conversations:{ui:!0,embed:!1,se:!1},admin:{system:{ui:!0,embed:!1},integrations:{ui:!0,embed:!1},content:{ui:!0,embed:!1}}},getComponentKeys:function(){return checkFeatureFlag("LinkPicker")?checkFeatureFlag("EmbedSearch")?["assetsView","assetViewer","contentItemEditor","contentItemCreate","documentsView","documentViewer","linkPicker","conversations","search","dialogs"]:["assetsView","assetViewer","contentItemEditor","contentItemCreate","documentsView","documentViewer","linkPicker","conversations","dialogs"]:["assetsView","assetViewer","contentItemEditor","contentItemCreate","documentsView","documentViewer","conversations","dialogs"]},getDisabled:function(){var e=t.omit(this,(function(e){return t.isFunction(e)}));return e=function e(i){var n={};for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];if(t.isObject(o)&&!t.isArray(o))if(t.has(o,"ui")&&t.has(o,"se")&&!o.se)n[s]=!1;else{var a=e(o);t.keys(a).length&&(n[s]=a)}}return n}(e)},get:function(i,s){s=s||n.embedVersion;var o=t.omit(this,(function(e){return t.isFunction(e)})),a={};return t.each(o,(function(o,r){var l;o.extends&&(l=a[o.extends],o=t.omit(o,"extends"));var c=this._get(i,s,!!n.isStarterEdition,o,a);a[r]=l?e.extend(!0,l,c):c}),this),a.v1={show_branding:!i,show_navmenu:!i,show_findbar:!i,hide_search:i},a},_get:function(e,i,n,s,o){return t.isObject(s)?t.has(s,"embed")||t.has(s,"ui")?e&&1===i&&s.v1?t.isArray(s.v1)?s.v1.slice():s.v1:e?t.isArray(s.embed)?s.embed.slice():s.embed:n&&t.has(s,"se")?t.isArray(s.se)?s.se.slice():s.se:t.isArray(s.ui)?s.ui.slice():s.ui:(s=t.omit(s,(function(e){return!(!e||!e.featureFlag)&&!checkFeatureFlag(e.featureFlag)})),t.mapObject(s,(function(t){return this._get(e,i,n,t,o)}),this)):s},sanitize:function(e,i){var n=["handlers"],s=this,o=function(e,a,r){t.each(e,(function(l,c){if(!t.contains(n,c)&&(t.has(a,r+c)?t.isObject(l)&&!t.isArray(l)&&o(l,a,r+c+".",s):delete e[c],i)){const i=t.get(s,r+c);t.isArray(l)&&i&&i.values&&(e[c]=l.filter((e=>i.values.includes(e))))}}))};o(e,this.get(),"")},removeOption:function(e,i){var n=i.split("."),s=null;t.each(n,(function(e){s=s?s[e]:this[e]}),this),s&&s[e]&&delete s[e],s&&s.active&&s.active.values&&(s.active.values=t.without(s.active.values,e))}}})),define("core/embedapi/EmbedApiEvents",["jquery","underscore","backbone","core/util/Globals","core/util/Service","core/util/Utils","core/util/AppLink"],(function(e,t,i,docs,n,s,o){"use strict";var a=docs.common.Globals;return{disabledCount:0,notificationsOff:function(){this.disabledCount++},notificationsOn:function(){this.disabledCount>0&&this.disabledCount--},send:function(e,i){var n=this._getTargetOrigin();if(n){t.isObject(e)&&(e=(i=e).message);var s={message:e};window.name&&(s.frameName=window.name),t.extend(s,i||{}),docs.common.Logger("embedapi.send").debug(s),(window.opener||window.parent).postMessage(s,n)}},actionRequests:{},triggerAction:function(e,t,i){var n=docs.common.EmbedApi.getOptions().handlers;return a.embed&&n&&n[e]&&(0===this.disabledCount||i)?new Promise(function(i,n){var s={items:this._getSelectionForMessage(t),requestId:Date.now(),eventParameters:["items"]};this.actionRequests[s.requestId]={resolve:i,reject:n},this.send(e,s)}.bind(this)):Promise.resolve()},toggleFilterPanel:function(){this.disabledCount>0||this.send("toggleFilterPanel",{eventParameters:[]})},selectionChanged:function(e,i,n){if(0===this.disabledCount){var s=t.isUndefined(n);n=n||[];var o={selection:this._getSelectionForMessage(e,i),eventParameters:["selection","additions","deletions"]},a=i.isAssetsSearch?"repository":i.isFolder?"folder":"container";if(o[a]=this._getContainerForMessage(i),o.eventParameters.push(a),n){var r,l;r=this._getSelectionDifferences(o.selection,n),l=this._getSelectionDifferences(n,o.selection),r.length>0&&(o.additions=t.map(r,(function(e){return t.pick(e,"id","name","type")}))),l.length>0&&(o.deletions=t.map(l,(function(e){return t.pick(e,"id","name","type")})))}return(s||o.additions&&o.additions.length>0||o.deletions&&o.deletions.length>0)&&this.send("selectionChanged",o),o.selection}},filterChanged:function(e,i){if(!(this.disabledCount>0)){var n={keywords:e.keywords,collectionId:e.collectionId,channelId:e.channelId,languageId:e.languageId,digitalAssetTypes:e.digitalAssetTypes||e.mediaGroups,contentItemTypes:e.contentItemTypes||e.assetTypes,mediaGroups:e.mediaGroups,assetTypes:e.assetTypes,assetStatus:e.assetStatus,categories:t.map(e.categories,(function(e){return{taxonomy:e.taxonomyId,categories:e.categories}})),includeChildCategories:e.includeChildCategories,notCategorized:e.notCategorized,fieldQueries:e.fieldQueries};e.similarItem&&(n.similarItem=t.pick(e.similarItem,"id","name")),this.send("filterChanged",{filter:n,repository:this._getContainerForMessage(i),eventParameters:["filter","repository"]})}},layoutChanged:function(e){this.disabledCount>0||e&&("layout_card"===e&&(e="layout_grid"),this.send("layoutChanged",{layout:e.slice(7),eventParameters:["layout"]}))},sortChanged:function(e){this.disabledCount>0||e&&this.send("sortChanged",{sort:e.slice(5),eventParameters:["sort"]})},closed:function(){this.disabledCount>0||this.send("closed",{eventParameters:[]})},itemSaved:function(e,t){var i={item:this._getItemForMessage(e),keepOpen:!!t,eventParameters:["item","keepOpen"]};this.send("itemSaved",i)},itemUploaded:function(e,t){return a.embed?new Promise(function(i,n){var s={item:this._getItemForMessage(e),eventParameters:["item"]},o=t.isAssetsSearch||t.isRepository?"repository":"folder";s[o]=this._getContainerForMessage(t),s.eventParameters.push(o);var a=docs.common.EmbedApi.getOptions().handlers;a&&a.itemUploaded?(s.requestId=Date.now(),this.actionRequests[s.requestId]={resolve:i,reject:n,forceResolve:!0},this.send("itemUploaded",s)):(this.send("itemUploaded",s),i())}.bind(this)):Promise.resolve()},itemsPublished:function(e,i,n){var s={items:t.pickMap(e,"id","name","type","language","varSetId","languageIsMaster","isPublished","status","version","channels"),dependencies:t.pickMap(i,"id","name","type","language","varSetId","languageIsMaster","isPublished","status","channels"),repository:this._getContainerForMessage(n),eventParameters:["items","dependencies","repository"]};this.send("itemsPublished",s)},itemsUnpublished:function(e,i){var n={items:t.pickMap(e,"id","name","type","language","varSetId","languageIsMaster","isPublished","status","version","channels"),repository:this._getContainerForMessage(i),eventParameters:["items","repository"]};this.send("itemsUnpublished",n)},resultsDisplayed:function(e,t){if(!(this.disabledCount>0)){var i={items:this._getSelectionForMessage(e),eventParameters:["items"]},n=t.isAssetsSearch||t.isRepository?"repository":"folder";i[n]=this._getContainerForMessage(t),i.eventParameters.push(n),this.send("resultsDisplayed",i)}},serviceClosed:function(e){this.apiResponse(e)},apiResponse:function(e,t){this.send("apiResponse",{requestId:e,response:t})},apiError:function(e,t){this.send("apiError",{requestId:e,response:t})},appLinkReady:function(){this.send("appLinkReady")},dialogClose:function(){this.send("dialog_close")},dialogOk:function(e,i){var n={selection:{location:this._getContainerForMessage(i),selection:this._getSelectionForMessage(e,i)}};t.each(n.selection.selection,(function(e){if("file"===e.type&&e.downloadUrl&&docs.common.EmbedApi.getOptions().documentsView.createapplinks){var t=o.createApplink(e.id);t&&(e.applinkUrl=t.applinkUrl.replace("embed/","").replace("fileview","file")+"?dAppLinkAccessToken="+t.accessToken)}}),this),this.send("dialog_ok",n)},getDragData:function(e){return this._getSelectionForMessage(e)},dragStart:function(e){this.send("dragstart",{dragdata:e,event:"dragStart",eventParameters:["dragdata"]})},dragEnd:function(){this.send("dragend",{event:"dragEnd",eventParameters:[]})},navigate:function(e){this.send("navigate",{route:e,eventParameters:["route"]})},drawerOpened:function(e,t){var i={drawer:e,eventParameters:["drawer"]};this.send("drawerOpened",i)},drawerClosed:function(e,t){var i={drawer:e,canceled:t,eventParameters:["drawer","canceled"]};this.send("drawerClosed",i)},linkPickerDone:function(e){var t={linkUrl:e,eventParameters:["linkUrl"]};this.send("done",t)},linkPickerStepChanged:function(e){var t={step:e,eventParameters:["step"]};this.send("stepChanged",t)},sessionExpired:function(e){this._sendError("sessionExpired",e)},_sendError:function(e,t){this.send("error",{errorName:e,errorMessage:t,eventParameters:["error","errorMessage"]})},_getTargetOrigin:t.memoize((function(){var e;return a.embed&&(e="*"),e})),_getDomain:function(t){var i=e("<a>",{href:t})[0],n=i.protocol+"//"+i.hostname;return i.port&&"0"!==i.port&&"80"!==i.port&&"443"!==i.port&&(n+=":"+i.port),n},_getSelectionForMessage:function(e){var i=[];return t.each(e,(function(e){i.push(this._getItemForMessage(e))}),this),i},_getContainerForMessage:function(e){if("conversations"===e.id)return e;var t=e instanceof i.Model?e:new i.Model(e);t.isTrash=!!e.isTrash,t.isHome=!!e.isHome;var n={id:t.isHome||t.isTrash?t.isHome?"Home":"Trash":t.get("id")};return t.get("name")&&(n.name=t.get("name")),n},_getItemForMessage:function(e){var n,s=e.folderItem||(e instanceof i.Model?e:new i.Model(e));return s.isAsset||s.get("typeCategory")?"DigitalAssetType"===(n={id:s.id,name:s.get("name"),fileExtension:void 0,type:s.get("type"),typeCategory:s.get("typeCategory"),fileGroup:s.get("fileGroup"),version:s.get("version"),language:s.get("language"),languageIsMaster:s.get("languageIsMaster"),translatable:s.get("translatable"),status:s.get("status"),isPublished:s.get("isPublished")}).typeCategory&&(n.fileExtension=s.get("fileExtension")):"file"===(n={id:s.id,name:s.get("name"),type:s.get("type"),url:s.get("url")||(t.isFunction(s.getLinkUrl)?s.getLinkUrl():"")}).type&&(n.version=s.get("revision"),s.isAllowedAction("fileRead")&&(n.downloadUrl=n.url.replace("/fileview/","/file/"))),t.each(n,(function(e,i){t.isUndefined(e)&&delete n[i]})),n},_getExtraSelectionData:function(e,i){if(e.folderItem&&e.folderItem.isAsset){var o=e.folderItem;e.type=i.type=o.getAssetType();var r=o.has("versionInfo")&&o.get("versionInfo").data?o.get("versionInfo").data[0]:{};if(i.url=n.getBaseUrl()+a.memberRoot+"assets/view/"+e.folderItem.id,i.caasGUID=o.id,i.contentType=o.isDigitalAsset()?"":o.get("type"),i.contentTypeName=o.isDigitalAsset()?"DigitalAsset":o.get("type"),i.assetStatus=o.get("status"),i.language=o.get("language")?o.get("language"):o.get("translatable")?"":"und",i.isMaster=o.get("languageIsMaster"),i.isPublished=o.get("isPublished"),i.isLatestPublished=r.latestVersion===r.publishedVersion,i.publishedRevision=r.publishedVersion?r.publishedVersion:"-1",i.translatable=o.get("translatable"),i.revision=o.getRevisionNumber(),o.hasExtendedData())if(i.collections=o.get("collections")?t.pluck(o.get("collections").data,"id"):"",i.publishedChannels=o.get("publishedChannels")?t.pluck(o.get("publishedChannels").data,"id"):"",i.targetedChannels=o.get("channels")?t.pluck(o.get("channels").data,"id"):"",i.tags=o.get("tags")?t.chain(o.get("tags").data).reject((function(e){return"auto"===e.properties.type})).pluck("name").value():"",o.isDigitalAsset()){i.formatType={Images:"Image",Videos:"Video",Documents:"Document"}[o.get("fileGroup")]||o.get("fileGroup")}else i.formatType="";o.isDigitalAsset()?(e.folderItem.isAllowedAction("fileRead")&&(i.downloadUrl=n.getBaseUrl()+a.memberRoot+"file/"+e.folderItem.id),i.name=o.getDisplayName(),i.thumbnailUrl=n.getBaseUrl()+e.folderItem.getThumbnailUrl(),i.extension=e.folderItem.getExtension()):o.isContentAsset()&&(i.thumbnailUrl=n.getBaseUrl()+s.getContentAssetSourcePath(i.caasGUID,i.contentType,"Default","draft"),o.has("fields")&&(i.fields=o.get("fields")))}return i},_getSelectionDifferences:function(e,i){return t.filter(e,(function(e){return!t.find(i,(function(t){return t.id===e.id&&t.revision===e.revision}))}))}}})),define("core/embedapi/EmbedApiV1",["jquery","underscore","backbone","core/util/Globals","core/embedapi/ViewOptions"],(function(e,t,i,docs,n){"use strict";var s=docs.common.Globals;return{v1toViewOptionsMap:{nofocus:function(e){e.takeFocus=!1},layout:function(e,t){e.assetsView.layout=t.slice(7),e.documentsView.layout=t.slice(7)},hide_header:function(e){e.assetsView.header.hide=!0,e.assetViewer.header.hide=!0,e.documentsView.header.hide=!0,e.documentViewer.header.hide=!0,e.themesView.header.hide=!0,e.conversations.header.hide=!0},hide_title:function(e){e.documentsView.header.hideTitle=!0,e.documentViewer.header.hideTitle=!0},hide_titlemenu:function(e){e.documentsView.header.hideMenu=!0},hide_trash:function(e){e.documentsView.header.trash=!1},hide_toolbar:function(e){e.assetsView.toolbar.hide=!0,e.documentsView.toolbar.hide=!0},show_filtervalues:function(e){e.assetsView.filter.bar.keywords=!0,e.assetsView.filter.bar.capsules=!0},hide_breadcrumbs:function(e){e.documentsView.breadcrumb.hide=!0,e.documentViewer.breadcrumb.hide=!0,e.themesView.breadcrumb.hide=!0,e.conversations.breadcrumb.hide=!0},hide_nextprev:function(e){e.documentViewer.breadcrumb.nextprev=!1},show_backbutton:function(e){e.documentsView.breadcrumb.back=!0,e.conversations.breadcrumb.back=!0},hide_filterpanel:function(e){e.assetsView.filter.tabs.filter=!1,e.assetsView.filter.tabs.categories=!1},hide_filtertab:function(e){e.assetsView.filter.tabs.filter=!1},expand_filterpanel:function(e){e.assetsView.filter.expand=!0},hide_sidebar:function(e){e.documentsView.actions.properties=!1,e.documentViewer.actions.properties=!1,t.each(["assetsView","assetViewer","documentsView","documentViewer"],(function(i){t.each(e[i].sidebar,(function(e,i,n){t.isBoolean(n[i])&&(n[i]=!1)}))}))},hide_actions:function(e){t.each(["assetsView","assetViewer","documentsView","documentViewer","themesView"],(function(i){t.each(e[i].actions,(function(e,i,n){"open"!==i&&"favorite"!==i&&"uploadToFolder"!==i&&(t.isObject(e)?t.each(e,(function(e,t,i){i[t]=!1})):n[i]=!1)}))})),t.each(e.dialogs.assetPreview.actions,(function(e,t,i){i[t]=!1})),e.assetsView.sidebar.categories=!1,e.assetsView.sidebar.channels=!1,e.assetsView.sidebar.conversation=!1,e.assetsView.sidebar.inventory=!1,e.assetsView.sidebar.properties=!1,e.assetsView.sidebar.tagsAndCollections=!1,e.assetsView.sidebar.workflow=!1,e.assetViewer.sidebar.workflow=!1,e.documentsView.sidebar.properties=!1,e.documentsView.sidebar.conversation=!1,e.documentsView.sidebar.tagsAndMetadata=!1,e.documentViewer.sidebar.properties=!1,e.documentViewer.sidebar.conversation=!1,e.documentViewer.sidebar.tagsAndMetadata=!1},hide_add:function(e){e.assetsView.header.add.upload=!1,e.assetsView.header.add.documents=!1,e.assetsView.header.add.connectors=[],e.assetsView.header.analytics=!1},hide_create:function(e){e.assetsView.header.create=!1,e.documentsView.header.create=!1},show_create:function(e){e.contentItemEditor.header.create=!0,e.assetViewer.header.create=!0},hide_pin:function(e){e.assetViewer.header.annotate=!1,e.documentViewer.header.annotate=!1},show_pin:function(e){e.contentItemEditor.header.annotate=!0},show_workflow:function(e){e.contentItemEditor.sidebar.workflow=!0,e.assetViewer.sidebar.workflow=!0},show_sidebar:function(e){t.each(e.contentItemEditor.sidebar,(function(t,i,n){"workflow"!==i&&(e.contentItemEditor.sidebar[i]=!0)})),t.each(e.assetViewer.sidebar,(function(t,i,n){"workflow"!==i&&(e.assetViewer.sidebar[i]=!0)}))},hide_new:function(e){e.assetsView.header.create=!1,e.documentsView.header.create=!1,e.conversations.header.create=!1},show_view:function(e){e.contentItemEditor.actions.open=!0,e.assetViewer.actions.open=!0},show_close:function(e){e.assetViewer.header.close=!0,e.documentViewer.header.close=!0,e.contentItemEditor.header.close=!0},show_fullscreen:function(e){e.assetViewer.header.fullScreen=!0,e.documentViewer.header.fullScreen=!0},hide_fitpage:function(e){e.assetViewer.controls.fitPage=!1,e.documentViewer.controls.fitPage=!1},hide_fitwidth:function(e){e.assetViewer.controls.fitWidth=!1,e.documentViewer.controls.fitWidth=!1},hide_zoom:function(e){e.assetViewer.controls.zoom=!1,e.assetViewer.controls.fitOriginal=!1,e.documentViewer.controls.zoom=!1,e.documentViewer.controls.fitOriginal=!1},collpasetn:function(e){e.assetViewer.thumbnails.expand=!1,e.documentViewer.thumbnails.expand=!1},hide_thumbs:function(e){e.assetViewer.thumbnails.hide=!0,e.documentViewer.thumbnails.hide=!0},hide_edit:function(e){e.assetsView.actions.edit=!1,e.assetViewer.actions.edit=!1,e.documentsView.actions.edit.web=!1,e.documentsView.actions.edit.o365=!1,e.documentViewer.actions.edit.web=!1,e.documentViewer.actions.edit.o365=!1},hide_expand:function(e){e.assetsView.actions.languages=!1},hide_publish:function(e){e.assetsView.actions.publish=!1,e.assetsView.actions.unpublish=!1},hide_workflow:function(e){e.assetsView.sidebar.workflow=!1,e.assetViewer.sidebar.workflow=!1},hide_edittags:function(e){e.assetsView.sidebar.tagsAndCollections=!1,e.documentsView.sidebar.tagsAndMetadata=!1,e.documentViewer.sidebar.tagsAndMetadata=!1},hide_collections:function(e){e.assetsView.sidebar.tagsAndCollections=!1,e.assetsView.header.collections=!1},hide_channels:function(e){e.assetsView.sidebar.channels=!1},hide_props:function(e){e.assetsView.sidebar.properties=!1,e.documentsView.sidebar.properties=!1,e.documentViewer.sidebar.properties=!1,e.documentsView.actions.properties=!1,e.documentViewer.actions.properties=!1},hide_copy:function(e){e.assetsView.actions.copy=!1,e.documentsView.actions.copy=!1,e.documentViewer.actions.copy=!1},hide_move:function(e){e.documentsView.actions.move=!1,e.documentViewer.actions.move=!1},hide_duplicate:function(e){e.assetsView.actions.duplicate=!1},hide_delete:function(e){e.assetsView.actions.delete=!1,e.documentsView.actions.delete=!1,e.documentViewer.actions.delete=!1},hide_upload:function(e){e.assetsView.actions.uploadNewVersion=!1,e.assetViewer.actions.uploadNewVersion=!1,e.documentsView.header.upload=!1,e.documentsView.actions.uploadToFolder=!1,e.documentsView.actions.uploadNewVersion=!1,e.documentViewer.actions.uploadNewVersion=!1},hide_dnload:function(e){e.assetsView.actions.download=!1,e.assetViewer.actions.download=!1,e.documentsView.actions.download=!1,e.documentViewer.actions.download=!1,e.dialogs.assetPreview.actions.download=!1},hide_translations:function(e){e.assetsView.actions.translate=!1,e.assetsView.header.translations=!1},hide_translatable:function(e){e.assetsView.actions.translatable=!1,e.assetsView.actions.nonTranslatable=!1},show_findvisuallysimilar:function(e){e.assetsView.actions.findVisuallySimilar=!0},show_findcategorizedsimilar:function(e){e.assetsView.actions.findCategorizedSimilarly=!0},show_categories:function(e,t,i){e.assetsView.sidebar.categories=!i.hide_sidebar&&!i.hide_actions,e.assetsView.filter.tabs.categories=!0},show_preview:function(e){e.assetsView.actions.preview=!0,e.assetViewer.actions.preview=!0,e.contentItemEditor.actions.preview=!0,e.dialogs.assetPreview.actions.preview=!0,e.dialogs.assetLanguages.actions.preview=!0,e.dialogs.mediaPicker.actions.preview=!0,e.dialogs.referencePicker.actions.preview=!0,e.documentsView.actions.preview=!0},hide_analytics:function(e){e.assetsView.header.analytics=!1},hide_keywords:function(e){e.assetsView.filter.bar.keywords=!1},show_relatedkeywords:function(e){e.assetsView.filter.bar.relatedkeywords=!0},noopen:function(e){e.assetsView.actions.open=!1,e.documentsView.actions.open.folder=!1,e.themesView.actions.open=!1,e.conversations.actions.open=!1},noview:function(e){e.assetsView.actions.open=!1,e.documentsView.actions.open.file=!1},singlesel:function(e){e.assetsView.select="single",e.documentsView.select="single",e.themesView.select="single"},nosel:function(e){e.assetsView.select="none",e.documentsView.select="none"},docsonly:function(e){e.documentsView.selectable="documents"},foldersonly:function(e){e.documentsView.selectable="folders"},hide_links:function(e){e.documentsView.actions.shareLink=!1,e.documentViewer.actions.shareLink=!1},hide_members:function(e){e.documentsView.actions.members=!1,e.documentViewer.actions.members=!1,e.conversations.header.members=!1},hide_share:function(e){this.hide_links(e),this.hide_members(e)},hide_reserve:function(e){e.documentsView.actions.lock=!1,e.documentViewer.actions.lock=!1},hide_rename:function(e){e.documentsView.actions.rename=!1,e.documentViewer.actions.rename=!1},hide_favs:function(e){e.documentsView.header.favorites=!1,e.documentsView.actions.favorite=!1,e.documentViewer.actions.favorite=!1},novidctls:function(e){e.assetViewer.videoControls.hide=!0,e.documentViewer.videoControls.hide=!0},autoplay:function(e){e.assetViewer.videoControls.autoplay=!0,e.documentViewer.videoControls.autoplay=!0},loop:function(e){e.assetViewer.videoControls.loop=!0,e.documentViewer.videoControls.loop=!0},mute:function(e){e.assetViewer.videoControls.mute=!0,e.documentViewer.videoControls.mute=!0},assetsFilter_digitalAssetTypes:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.digitalAssetTypes=t},assetsFilter_contentItemTypes:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.contentItemTypes=t},assetsFilter_assetStatus:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.assetStatus=t},assetsFilter_collectionId:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.collectionId=t},assetsFilter_channelId:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.channelId=t},assetsFilter_languageId:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.languageId=t},assetsFilter_categories:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.categories=t},assetsFilter_includeChildCategories:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.includeChildCategories=t},assetsFilter_notCategorized:function(e,t){e.assetsView.filterValue=e.assetsView.filterValue||n.get(!0,2).assetsView.filterValue,e.assetsView.filterValue.notCategorized=t},assetsOptions_repositoryOptions:function(e,t){e.assetsView.filter.repositories=t},assetsOptions_collectionOptions:function(e,t){e.assetsView.filter.collections=t},assetsOptions_channelOptions:function(e,t){e.assetsView.filter.channels=t},assetsOptions_languageOptions:function(e,t){e.assetsView.filter.languages=t},assetsOptions_digitalAssetTypeOptions:function(e,t){e.assetsView.filter.digitalAssetTypes=t},assetsOptions_contentItemTypeOptions:function(e,t){e.assetsView.filter.contentItemTypes=t},assetsOptions_assetStatusOptions:function(e,t){e.assetsView.filter.assetStatus=t},assetsOptions_taxonomyOptions:function(e,t){e.assetsView.filter.taxonomies=t},createapplinks:function(e){e.documentsView.createapplinks=!0},show_findbar:function(e){e.conversations.findBar.show=!0}},convertToV2:function(e){var i=this.options=this._parseUrlParams();t.each(i,(function(n,s){e.v1[s]=n,"assetsOptions"===s||"assetsFilter"==s?t.each(n,(function(t,n){this.v1toViewOptionsMap[s+"_"+n]&&this.v1toViewOptionsMap[s+"_"+n](e,t,i)}),this):this.v1toViewOptionsMap[s]&&this.v1toViewOptionsMap[s](e,n,i)}),this)},getOptions:function(){return this.options||(s.embed?this.defaultEmbedOptions:this.defaultViewOptions)},defaultViewOptions:{show_branding:!0,show_navmenu:!0,show_filtervalues:!0,show_relatedkeywords:!0,show_findvisuallysimilar:!0,show_findcategorizedsimilar:!0,show_categories:!0,show_findbar:!0,show_makecurrent:!0,show_workflow:!0,show_pin:!0,show_sidebar:!0,show_view:!0,show_create:!0,show_close:!0,expand_filterpanel:!0},defaultEmbedOptions:{hide_search:!0},configParams:{show_branding:{code:"brand"},show_fullscreen:{code:"fullscreen"},show_statusLabels:{code:"statuslabels"},show_backbutton:{code:"backbutton"},show_filtervalues:{code:"filterValues"},show_relatedkeywords:{code:"relatedkeywords"},show_findvisuallysimilar:{code:"findsimilar"},show_findcategorizedsimilar:{code:"findcategorizedsimilar"},show_categories:{code:"categories"},show_findbar:{code:"findbar"},show_makecurrent:{code:"makecurrent"},show_preview:{code:"preview"},show_workflow:{},show_pin:{},show_sidebar:{},show_view:{},show_close:{},show_create:{},hide_header:{code:"hdr",legacy:"hhd"},hide_trash:{code:"tsh"},hide_title:{code:"ttl"},hide_breadcrumbs:{code:"bcm",legacy:"hbc"},hide_nextprev:{code:"bnp"},hide_toolbar:{code:"tbr",legacy:"htb"},hide_sidebar:{code:"sbr",legacy:"hsb"},hide_thumbs:{code:"thmb",legacy:""},hide_pin:{legacy:"ham"},hide_actions:{code:"aca",legacy:"nca"},hide_new:{code:"anw",legacy:"hnw"},hide_create:{},hide_manage:{code:"amg"},hide_add:{code:"add"},hide_upload:{code:"aup",legacy:"nup"},hide_dnload:{code:"adn",legacy:"ndl"},hide_rename:{code:"arn"},hide_reserve:{code:"ars"},hide_move:{code:"amv",legacy:"nmv"},hide_copy:{code:"acp",legacy:"ncp"},hide_delete:{code:"ade",legacy:"nde"},hide_props:{code:"apr",legacy:"npr"},hide_favs:{code:"afv",legacy:"hfv"},hide_share:{code:"ash",legacy:"nsh"},hide_members:{code:"mmb"},hide_links:{code:"lnk"},hide_zoom:{},hide_fitpage:{code:"afp",legacy:"hfp"},hide_fitwidth:{code:"afw",legacy:"hfw"},hide_aif:{code:"aif"},hide_titlemenu:{code:"titlemenu"},hide_filterpanel:{},hide_filtertab:{},hide_collections:{code:"collections"},hide_translations:{code:"translations"},hide_analytics:{code:"analytics"},hide_edit:{code:"edt"},hide_edittags:{code:"tags"},hide_developer:{code:"developer"},hide_templates:{code:"templates"},hide_folder:{code:"folder"},hide_conv_icon:{code:"convicon"},hide_publish:{code:"publish"},hide_workflow:{},hide_channels:{},hide_expand:{},hide_duplicate:{},hide_translatable:{},hide_keywords:{},expand_filterpanel:{},nofilterpanel:{code:"nofilterpanel"},noopen:{code:"nop",legacy:"nop"},noview:{code:"nvw",legacy:"nvw"},thinheader:{code:"thd"},thinfilter:{code:"tft"},singlesel:{code:"ssl",legacy:"ssl"},nosel:{},docsonly:{code:"sdo",legacy:"sdo"},foldersonly:{code:"sfo",legacy:"sfo"},launch:{code:"lvw",legacy:"lvw"},simpleDisplay:{code:"sdp",legacy:"sdp"},fitpage:{code:"sfp",legacy:"sfp"},fitwidth:{code:"sfw",legacy:"sfw"},fitoriginal:{code:"sos",legacy:"sos"},collapsetn:{code:"stc",legacy:"stc"},autoplay:{code:"vap",legacy:"vap"},loop:{code:"vlp",legacy:"vlp"},mute:{code:"vmt",legacy:"vmt"},novidctls:{code:"vhc",legacy:"vhc"},nofocus:{code:"nfo"},createapplinks:{code:"cal"},layout_grid:{code:"grid",prefixgroup:!0},layout_compact:{code:"compact",prefixgroup:!0},layout_list:{code:"list",prefixgroup:!0},layout_smalltile:{code:"smalltile",prefixgroup:!0},type_images:{code:"images",arraygroup:!0},type_videos:{code:"videos",arraygroup:!0},type_documents:{code:"documents",arraygroup:!0},type_html:{code:"html",arraygroup:!0},type_other:{code:"other",arraygroup:!0},status_published:{code:"published",arraygroup:!0},status_publishedonly:{code:"publishedonly",arraygroup:!0},status_draft:{code:"draft",arraygroup:!0},status_inreview:{code:"inreview",arraygroup:!0},status_approved:{code:"approved",arraygroup:!0},status_rejected:{code:"rejected",arraygroup:!0},status_unpublished:{code:"unpublished",arraygroup:!0},status_recategorized:{code:"recategorized",arraygroup:!0},objectId:{code:"objectId",prefixgroup:!0},mode:{code:"mode",prefixgroup:!0},sitename:{code:"siteId",prefixgroup:!0},containerId:{code:"containerId",prefixgroup:!0},siteLanguage:{code:"siteLanguage",prefixgroup:!0},pageId:{code:"pageId",prefixgroup:!0},updates:{code:"updates",arraygroup:!0},updateGuids:{code:"updateGuids",arraygroup:!0},nodocsconv:{code:"nodocsconv"}},_buildCodeMap:function(e,i){var n={};return t.each(e,(function(e,t){e[i]&&(n[e[i]]=t)})),n},_normalizePlurality:function(e){return{image:"images",video:"videos",document:"documents"}[e]||e},_getWindowLocationSearch:function(){return window.location.search},_getWindowLocationPathname:function(){return window.location.pathname},_parseUrlParams:function(){var i=this._getWindowLocationSearch(),n=this._getWindowLocationPathname(),s=this._buildCodeMap(this.configParams,"code"),o={};if(t.chain(i.split(/[?&]/)).compact().map((function(e){return e.split("=")})).map((function(e){return 2!==e.length?[s[e[0]]||e[0],!0]:e})).each(function(e){var i,n;if("hide"===e[0]||"show"===e[0]||"expand"===e[0])t.chain(e[1].split(/[\+,]/)).compact().map((function(t){return s[t]||e[0]+"_"+t})).each(function(e){this.configParams[e]&&(o[e]=!0)}.bind(this));else if("layout"===e[0])o[e[0]]="layout_"+e[1];else if("type"===e[0]||"status"===e[0]||"contenttype"===e[0])n={type:{key:"digitalAssetTypes",lcase:!0},contenttype:{key:"contentItemTypes",lcase:!1},status:{key:"assetStatus",lcase:!0}},o.assetsFilter||(o.assetsFilter={}),i=n[e[0]],t.has(o.assetsFilter,i.key)||(o.assetsFilter[i.key]=[]),t.chain(e[1].split(/[\+,]/)).each(function(e){i.lcase&&(e=e.toLowerCase()),e=this._normalizePlurality(e),o.assetsFilter[i.key].push(e)}.bind(this));else if("typeoptions"===e[0]||"contenttypeoptions"===e[0]||"statusoptions"===e[0]||"repositoryoptions"===e[0]||"collectionoptions"===e[0]||"channeloptions"===e[0]||"languageoptions"===e[0]||"taxonomyoptions"===e[0])i=(n={repositoryoptions:{key:"repositoryOptions",lcase:!1},collectionoptions:{key:"collectionOptions",lcase:!1},channeloptions:{key:"channelOptions",lcase:!1},languageoptions:{key:"languageOptions",lcase:!1},typeoptions:{key:"digitalAssetTypeOptions",lcase:!0},contenttypeoptions:{key:"contentItemTypeOptions",lcase:!1},statusoptions:{key:"assetStatusOptions",lcase:!0},taxonomyoptions:{key:"taxonomyOptions",lcase:!1}})[e[0]],o.assetsOptions||(o.assetsOptions={}),t.has(o.assetsOptions,i.key)||(o.assetsOptions[i.key]=[]),t.chain(e[1].split(/[\+,]/)).each(function(e){i.lcase&&(e=e.toLowerCase()),e=this._normalizePlurality(e),o.assetsOptions[i.key].push(e)}.bind(this));else if("suggestiondata"===e[0])o.suggestionData=e[1],o.suggestionData&&(o.show_relatedkeywords=!0,o.show_filtervalues=!0);else if("collection"===e[0])o.assetsFilter=o.assetsFilter||{},o.assetsFilter.collectionId=e[1];else if("channel"===e[0])o.assetsFilter=o.assetsFilter||{},o.assetsFilter.channelId=e[1];else if("language"===e[0])o.assetsFilter=o.assetsFilter||{},o.assetsFilter.languageId=e[1];else if("categories"===e[0])try{var a=JSON.parse(decodeURIComponent(e[1]));a=t.isArray(a)?a:[a],t.reduce(a,(function(e,i){return e&&t.isString(i.taxonomy)&&t.isArray(i.categories)}),!0)&&(o.assetsFilter=o.assetsFilter||{},o.assetsFilter.categories=t.map(a,(function(e){return{taxonomyId:e.taxonomy,categories:e.categories}})),o.show_categories=!0)}catch(e){}else if("includechildcategories"===e[0].toLowerCase())o.assetsFilter=o.assetsFilter||{},o.assetsFilter.includeChildCategories="false"!==e[1];else if("notcategorized"===e[0].toLowerCase())o.assetsFilter=o.assetsFilter||{},o.assetsFilter.notCategorized="false"!==e[1];else if("objectId"===e[0])o.siteUpdateGuid=e[1];else if("objectName"===e[0])o.siteUpdateName=e[1];else if("editorMode"===e[0])o.mode=e[1];else if("containerId"===e[0])o.containerId=e[1];else if("siteId"===e[0])o.siteName=e[1];else if("siteLanguage"===e[0])o.siteLanguage=e[1];else if("pageId"===e[0])o.sitePageId=e[1];else if("updates"===e[0]){o.siteUpdates||(o.siteUpdates=[]);var r=decodeURIComponent(e[1]);t.chain(r.split(/[\+,]/)).each((function(e){o.siteUpdates.push(e)}))}else if("updatesIds"===e[0]){o.siteUpdateGuids||(o.siteUpdateGuids=[]);var l=decodeURIComponent(e[1]);t.chain(l.split(/[\+,]/)).each((function(e){o.siteUpdateGuids.push(e)}))}else"isBuilder"===e[0]?o.siteBuilderMode="1"===e[1]||"true"===e[1].toLocaleLowerCase()||"0"!==e[1]&&"false"!==e[1].toLocaleLowerCase()&&!!e[1]:this.configParams[e[0]]&&(o[e[0]]=!0);return e}.bind(this)),0===t.keys(o).length&&n){var a=this._buildCodeMap(this.configParams,"legacy");o={},t.chain(n.match(/\/cfg=[a-z,+]+|\/vcf=[a-z,+]+/gi)).map((function(e){return e.split("=")})).map((function(e){return e[1].split(/[\+,]/)})).flatten().each((function(e){a[e]&&(o[a[e]]=!0)}))}return e.extend({},this.defaultEmbedOptions,o)}}})),define("core/embedapi/EmbedApiV1Events",["jquery","backbone","underscore","core/util/Globals","core/util/Service","core/util/Utils","core/util/AppLink"],(function(e,t,i,docs,n,s,o){"use strict";var a=docs.common.Globals;return{disabledCount:0,notificationsOff:function(){this.disabledCount++},notificationsOn:function(){this.disabledCount>0&&this.disabledCount--},send:function(e){var t=this._getTargetOrigin();t&&(this.name&&(e.name=this.name),docs.common.Logger("embedapi.send").debug(e),(window.opener||window.parent).postMessage(e,t))},serviceClosed:function(){this.send({message:"service_completed"})},toggleFilterPanel:function(){this.send({message:"toggleFilterPanel"})},selectionChanged:function(e,t,n){if(0===this.disabledCount){var s=i.isUndefined(n);n=n||[];var o={message:"selectionChanged",selection:this._getSelectionForMessage(e,t),container:this._getContainerForMessage(t)};if(n){var a,r;a=this._getSelectionDifferences(o.selection,n),r=this._getSelectionDifferences(n,o.selection),a.length>0&&(o.additions=a),r.length>0&&(o.deletions=r)}return(s||o.additions&&o.additions.length>0||o.deletions&&o.deletions.length>0)&&this.send(o),o.selection}},filterChanged:function(e,t){var n={collection:e.collectionId,channel:e.channelId,language:e.languageId,keywords:e.keywords,type:e.digitalAssetTypes,contentType:e.contentItemTypes,assetStatus:e.assetStatus,categories:i.map(e.categories,(function(e){return{taxonomy:e.taxonomyId,categories:e.categories}})),includeChildCategories:e.includeChildCategories,notCategorized:e.notCategorized};e.similarItem&&(n.similarItem=i.pick(e.similarItem,"id","name"));var s={message:"filterChanged",filter:n,container:this._getContainerForMessage(t)};this.send(s)},layoutChanged:i.noop,sortChanged:i.noop,closed:function(){this.send({message:"closed"})},itemSaved:function(e){var t={message:"itemSaved",item:this._getItemForMessage(e)};this.send(t)},itemUploaded:function(e,t){var i={message:"itemUploaded",item:this._getItemForMessage(e),container:this._getContainerForMessage(t)};return this.send(i),Promise.resolve()},itemsPublished:i.noop,itemsUnpublished:i.noop,resultsDisplayed:i.noop,triggerAction:function(){return Promise.resolve()},sessionExpired:i.noop,appLinkReady:function(){this.send({message:"appLinkReady"})},dialogClose:function(){this.send({message:"dialog_close"})},dialogOk:function(e,t){var n={message:"dialog_ok",selection:{location:this._getContainerForMessage(t),selection:this._getSelectionForMessage(e,t)}};i.each(n.selection.selection,(function(e){if("file"===e.type&&e.downloadUrl&&docs.common.EmbedApi.getOptions().documentsView.createapplinks){var t=o.createApplink(e.id);t&&(e.applinkUrl=t.applinkUrl.replace("embed/","").replace("fileview","file")+"?dAppLinkAccessToken="+t.accessToken)}}),this),this.send(n)},getDragData:function(e){return this._getSelectionForMessage(e)},dragStart:function(e){this.send({message:"dragstart",dragdata:e})},dragEnd:function(){this.send({message:"dragend"})},navigate:i.noop,drawerOpened:i.noop,drawerClosed:i.noop,linkPickerDone:i.noop,linkPickerStepChanged:i.noop,_getTargetOrigin:i.memoize((function(){var e;return a.embed&&(e="*"),e})),_getDomain:function(t){var i=e("<a>",{href:t})[0],n=i.protocol+"//"+i.hostname;return i.port&&"0"!==i.port&&"80"!==i.port&&"443"!==i.port&&(n+=":"+i.port),n},_getSelectionForMessage:function(e){var t=[];return i.each(e,(function(e){t.push(this._getItemForMessage(e))}),this),t},_getContainerForMessage:function(e){if("conversations"===e.id)return e;var i=e instanceof t.Model?e:new t.Model(e);i.isTrash=!!e.isTrash,i.isHome=!!e.isHome;var n={id:i.isHome||i.isTrash?i.isHome?"Home":"Trash":i.get("id")};return i.get("name")&&(n.name=i.get("name")),n},_getItemForMessage:function(e){var t={id:e.id,name:e.name,type:e.type,url:e.url||e.folderItem.getLinkUrl()};return"file"===e.type&&e.folderItem.isAllowedAction("fileRead")&&(t.downloadUrl=t.url.replace("/fileview/","/file/")),t=this._getExtraSelectionData(e,t)},_getExtraSelectionData:function(e,t){if(e.folderItem&&e.folderItem.isAsset){var o=e.folderItem;t.type=o.getAssetType();var r=o.has("versionInfo")&&o.get("versionInfo").data?o.get("versionInfo").data[0]:{};if(t.url=n.getBaseUrl()+a.memberRoot+"assets/view/"+e.folderItem.id,t.caasGUID=o.id,t.contentType=o.isDigitalAsset()?"":o.get("type"),t.contentTypeName=o.isDigitalAsset()?"DigitalAsset":o.get("type"),t.assetStatus=o.get("status"),t.language=o.get("language")?o.get("language"):o.get("translatable")?"":"und",t.isMaster=o.get("languageIsMaster"),t.isPublished=o.get("isPublished"),t.isLatestPublished=r.latestVersion===r.publishedVersion,t.publishedRevision=r.publishedVersion?r.publishedVersion:"-1",t.translatable=o.get("translatable"),t.revision=o.getRevisionNumber(),o.hasExtendedData()?(t.collections=o.get("collections")?i.pluck(o.get("collections").data,"id"):"",t.publishedChannels=o.get("publishedChannels")?i.pluck(o.get("publishedChannels").data,"id"):"",t.targetedChannels=o.get("channels")?i.pluck(o.get("channels").data,"id"):"",t.tags=o.get("tags")?i.chain(o.get("tags").data).reject((function(e){return"auto"===e.properties.type})).pluck("name").value():""):t.targetedChannels=[],o.isDigitalAsset()){t.formatType={Images:"Image",Videos:"Video",Documents:"Document"}[o.get("fileGroup")]||o.get("fileGroup")}else t.formatType="";o.isDigitalAsset()?(e.folderItem.isAllowedAction("fileRead")&&(t.downloadUrl=n.getBaseUrl()+a.memberRoot+"file/"+e.folderItem.id),t.name=o.getDisplayName(),t.thumbnailUrl=n.getBaseUrl()+e.folderItem.getThumbnailUrl(),t.extension=e.folderItem.getExtension()):o.isContentAsset()&&(t.thumbnailUrl=n.getBaseUrl()+s.getContentAssetSourcePath(t.caasGUID,t.contentType,"Default","draft"),o.has("fields")&&(t.fields=o.get("fields")))}return t},_getSelectionDifferences:function(e,t){return i.filter(e,(function(e){return!i.find(t,(function(t){return t.id===e.id&&t.revision===e.revision}))}))}}})),define("core/embedapi/EmbedApi",["jquery","underscore","backbone","core/osnGlobals","core/util/Browser","core/util/Globals","core/util/Service","core/util/Utils","core/util/Logger","core/util/AppLink","core/embedapi/ViewOptions","core/embedapi/EmbedApiEvents","core/embedapi/EmbedApiV1","core/embedapi/EmbedApiV1Events"],(function(e,t,i,osn,n,docs,s,o,a,r,l,c,d,u){"use strict";var h=docs.common.Globals,p={name:window.name,options:{v1:{show_branding:!0,show_navmenu:!0,show_findbar:!0}},events:c,init:function(){if(this.options=l.get(h.embed,h.embedVersion),delete this.options.assetsView.filterValue,this.initDfd=e.Deferred(),h.embed&&h.embedVersion>1){e(window.self).on("message.embedapi",this._onPostMessage.bind(this)),e.clearSessionStorage(this.getName()||"embed");var i=window.location.search.match(/options=([^&]*)/);if(i){try{i=JSON.parse(decodeURIComponent(i[1]))}catch(e){console.warn("Invalid viewOptions parameter. Must be valid JSON")}i&&this.callbacks.setOptions.call(this,null,{options:i})}else this.events.send("getOptions",{methods:this.methods})}else h.embed&&1===h.embedVersion?(e(window.self).on("message.embedapi",this._onPostMessage.bind(this)),d.convertToV2(this.options),this.enforceLimits(),this.evolveAPI(),this.convertAssetSearchFilters(),this.events=u,e.clearSessionStorage(this.getName()||"embed"),this.initDfd.resolve(),this.recordV1ApiMetrics(),console.warn("[Deprecation] Embed V1 api is deprecated and may stop working in a future release. Please upgrade to Embed V2. See https://docs.oracle.com/en/cloud/paas/content-cloud/solutions/embed-web-user-interface-other-applications.html")):(t.extend(this.options,d.getOptions()),this.initDfd.resolve());return osn.pm=this.events,this.initDfd},evolveAPI:function(){this.options.documentsView.actions.versionHistory&&(this.options.documentsView.actions.properties=!0,this.options.documentsView.sidebar.properties=!0),this.options.documentsView.actions.properties?this.options.documentsView.sidebar.properties=!0:this.options.documentsView.sidebar.properties&&(this.options.documentsView.actions.properties=!0),this.options.documentsView.actions.tags&&(this.options.documentsView.sidebar.tagsAndMetadata=!0),this.options.documentsView.sidebar.customProperties&&(this.options.documentsView.sidebar.tagsAndMetadata=!0),this.options.documentViewer.actions.versionHistory&&(this.options.documentViewer.actions.properties=!0,this.options.documentViewer.sidebar.properties=!0),this.options.documentViewer.actions.properties?this.options.documentViewer.sidebar.properties=!0:this.options.documentViewer.sidebar.properties&&(this.options.documentViewer.actions.properties=!0),this.options.documentViewer.sidebar.customProperties&&(this.options.documentViewer.sidebar.tagsAndMetadata=!0),this.options.assetsView.actions.publishNow&&(this.options.assetsView.actions.publish=!0),this.options.assetsView.actions.lockUnlock&&(this.options.assetsView.actions.lock=!0,this.options.assetsView.actions.unlock=!0),this.options.assetsView.actions.deletePublished&&(this.options.assetsView.actions.delete=!0),this.options.documentsView.actions.reserve&&(this.options.documentsView.actions.lock=!0),this.options.documentViewer.actions.reserve&&(this.options.documentViewer.actions.lock=!0)},convertAssetSearchFilters:function(){this.options.assetsView.filter||(this.options.assetsView.filter=l.get(h.embed,2).assetsView.filter),this.options.assetsView.filterValue||(this.options.assetsView.filterValue=l.get(h.embed,2).assetsView.filterValue),t.defaults(this.options.assetsView.filter,{mediaGroups:[],digitalAssetTypes:[],assetTypes:[],contentItemTypes:[]}),t.defaults(this.options.assetsView.filterValue,{mediaGroups:[],digitalAssetTypes:[],assetTypes:[],contentItemTypes:[]});var e=this.options.assetsView.filter,i=this.options.assetsView.filterValue,n=0===e.mediaGroups.length&&0===e.assetTypes.length&&0===i.mediaGroups.length&&0===i.assetTypes.length&&(e.digitalAssetTypes.length>0||e.contentItemTypes.length>0||i.digitalAssetTypes.length>0||i.contentItemTypes.length>0);if(e.digitalAssetTypes.length>0&&0===e.mediaGroups.length&&(e.mediaGroups=this._copyDigitalAssetsArray(e.digitalAssetTypes)),i.digitalAssetTypes.length>0&&0===i.mediaGroups.length&&(i.mediaGroups=this._copyDigitalAssetsArray(i.digitalAssetTypes)),e.contentItemTypes.length>0&&0===e.assetTypes.length&&!t.contains(e.contentItemTypes,"all")&&(e.assetTypes=t.clone(e.contentItemTypes)),i.contentItemTypes.length>0&&0===i.assetTypes.length&&!t.contains(i.contentItemTypes,"all")&&(i.assetTypes=t.clone(i.contentItemTypes)),n&&!t.contains(e.contentItemTypes,"none")){if(e.mediaGroups.length>0&&!t.contains(e.mediaGroups,"none")&&e.mediaGroups.push("contentitem"),!t.contains(i.contentItemTypes,"none")&&i.mediaGroups.length>0&&!t.contains(i.mediaGroups,"none"))i.mediaGroups.push("contentitem");else if(t.contains(i.contentItemTypes,"none")&&0===i.mediaGroups.length){var s=e.mediaGroups.length?e.mediaGroups:l.assetsView.filterValue.mediaGroups.values;i.mediaGroups=t.without(s,"none","contentitem")}}else n&&0===e.mediaGroups.length&&(e.mediaGroups=t.without(l.assetsView.filter.mediaGroups.values,"none","contentitem"))},setAppLinkData:function(e){e.documentsView&&e.documentsView.appLink?r.setAppLinkData(e.documentsView.appLink):e.documentViewer&&e.documentViewer.appLink&&r.setAppLinkData(e.documentViewer.appLink)},getName:function(){return this.name},getOptions:function(){return this.options},recordV1ApiMetrics:function(){if(1===h.embedVersion){var t=window.location.pathname.slice(h.routerRoot.length);"/"===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1));var i=e.extend(!0,{},this.options);"assets"===t?i.component="assetsView":0===t.indexOf("assets/view")?i.component="assetViewer":0===t.indexOf("assets/edit")?i.component="contentItemEditor":0===t.indexOf("assets/create")?i.component="contentItemCreate":0===t.indexOf("folder")?i.component="documentsView":0===t.indexOf("fileview")?i.component="documentViewer":0===t.indexOf("conversations")&&t.length>15?i.component="conversationView":0===t.indexOf("conversations")?i.component="conversationsList":i.component=t,this.recordApiMetrics(i)}},recordApiMetrics:function(e){if(e&&!t.has(e,"caller")){var i={feature:"embedui","event-type":"view",action:"embedui-init","service-name":h.service,"embed-version":h.embedVersion,"embed-component":e.component,"embed-uses-categories":this._hasCategoryOptions(e),"embed-uses-publishing":this._hasPublishingOptions(e),"embed-uses-translations":this._hasTranslationOptions(e),"embed-uses-workflows":this._hasWorkflowOptions(e),"embed-uses-smartcontent":this._hasSmartContentOptions(e),"embed-uses-collections":this._hasCollectionOptions(e)};docs.events.trigger("analytics:action",i)}},enforceLimits:function(){h.isStarterEdition&&e.extend(!0,this.options,l.getDisabled())},methods:{assetsView:[{name:"toggleSidebar",parameters:[],async:!1},{name:"showSidebar",parameters:["sidebar"],async:!1},{name:"hideSidebar",parameters:[],async:!1}],documentsView:[{name:"toggleSidebar",parameters:[],async:!1},{name:"showSidebar",parameters:["sidebar"],async:!1},{name:"hideSidebar",parameters:[],async:!1}]},callbacks:{setOptions:function(t,i){e.extend(!0,this.options,i.options),this.enforceLimits(),this.evolveAPI(),this.convertAssetSearchFilters(),this.setAppLinkData(i.options),l.sanitize(this.options),this.initDfd.resolve(),this.recordApiMetrics(i.options)},actionResponse:function(e,t){t.requestId&&this.events.actionRequests[t.requestId]&&(t.preventDefault&&!this.events.actionRequests[t.requestId].forceResolve||this.events.actionRequests[t.requestId].resolve(t.response),delete this.events.actionRequests[t.requestId])},clearSelection:function(e,t){docs.events.trigger("embedapi:clearSelection",t)},selectItem:function(e,t){docs.events.trigger("embedapi:selectItem",t)},clearItem:function(e,t){docs.events.trigger("embedapi:clearItem",t)},getItem:function(e,t){docs.events.trigger("embedapi:getItem",t)},refreshItem:function(e,t){docs.events.trigger("embedapi:refreshItem",t)},createNewItem:function(e,t){docs.events.trigger("embedapi:createNewItem",t)},applyFilter:function(e,t){docs.events.trigger("embedapi:applyFilter",t)},navigate:function(t,i){i.path&&osn.events.trigger("embedapi:navigate",e.extend({},i,{data:i}))},toggleSidebar:function(e,t){docs.events.trigger("embedapi:"+t.component+":toggleSidebar")},showSidebar:function(e,t){docs.events.trigger("embedapi:"+t.component+":showSidebar",t.sidebar)},hideSidebar:function(e,t){docs.events.trigger("embedapi:"+t.component+":hideSidebar",!0)},closeService:function(e,t){osn.events.trigger("embedapi:closeService",t)},set:function(i,n){t.isUndefined(n.height)&&t.isUndefined(n.width)||(osn.events.trigger("setIframeSize",n.height,n.width),n.width?e("#content-wrapper").width(n.width):e("#content-wrapper").width(e(window).width()),n.height?e("#content-wrapper").height(n.height):e("#content-wrapper").height(e(window).height()),e(window).triggerHandler("resize"))},setAppLinkTokens:function(e,t){docs.events.trigger("embedapi:setAppLinkTokens",t)},linkPickerNext:function(e,t){docs.events.trigger("embedapi:linkPickerNext",t)},linkPickerPrevious:function(e,t){docs.events.trigger("embedapi:linkPickerPrevious",t)},linkPickerCopyLink:function(e,t){docs.events.trigger("embedapi:linkPickerCopyLink",t)}},_onPostMessage:function(e){try{var i=this.events._getTargetOrigin(),n=t.isObject(e.originalEvent.data)?e.originalEvent.data:JSON.parse(e.originalEvent.data);"*"!==i&&i!==e.originalEvent.origin||!this.callbacks.hasOwnProperty(n.message)?docs.common.Logger("embedapi.receive").trace("onPostMessage: Ignored:",n):(docs.common.Logger("embedapi.receive").debug(n),this.callbacks[n.message].call(this,e,n))}catch(t){if(!(t instanceof SyntaxError))throw t;docs.common.Logger("embedapi.receive").trace("onPostMessage: Ignored:",e.originalEvent.data)}},_copyDigitalAssetsArray:function(e){return t.chain(e).filter((function(e){return"all"!==e.toLocaleLowerCase()})).map((function(e){return"html"===e.toLowerCase()?"documents":e})).uniq().value()},_hasCategoryOptions:function(e){return this._isOptionEnabled(e,["categories","categorySuggestions","findCategorizedSimilarly"])},_hasPublishingOptions:function(e){return this._isOptionEnabled(e,["channels","publish","publishNow","publishLater","unpublish"])},_hasTranslationOptions:function(e){return this._isOptionEnabled(e,["translate"])||t.result(e,["assetsView","actions","languages"],!1)||t.result(e,["categorySuggestionsView","actions","languages"],!1)||t.result(e,["assetsView","header","translations"],!1)||t.result(e,["categorySuggestionsView","header","translations"],!1)},_hasWorkflowOptions:function(e){return this._isOptionEnabled(e,["workflowTasks","workflow"])},_hasSmartContentOptions:function(e){return this._isOptionEnabled(e,["categorySuggestions"])},_hasCollectionOptions:function(e){return this._isOptionEnabled(e,["collections","tagsAndCollections"])},_isOptionEnabled:function(e,i){if(!e)return!1;var n=t.isString(i)?[i]:i;return!!t.find(e,(function(e,i){return!(!t.contains(n,i)||!0!==e&&(!t.isArray(e)&&!t.isObject(e)||t.isEmpty(e)))||!(!t.isObject(e)||t.isArray(e))&&this._isOptionEnabled(e,n)}),this)},optionsStack:[],pushEmbedOptionsContext:function(e,t){this.optionsStack.push(this.options),this.options=l.get(!t,2),this.callbacks.setOptions.call(this,null,{options:e})},popEmbedOptionsContext:function(){this.optionsStack.length&&(this.options=this.optionsStack.pop())}};return docs.common.EmbedApi=p,p})),define("core/apm/apmHelper",["underscore"],(function(e){"use strict";var t=window.apmeum||window.apmrum||{};return t.ocmContext={init:function(){this.contextStack=[],this.subTitle="",this.attr2=null},clear:function(){this.init()},pushContext:function(e,t){var i={};i[e]=t,this.contextStack.push(i)},popContext:function(){this.contextStack.pop()},setViewMetaData:function(e,t){t&&(this.attr2=this.attr2||{},this.attr2[e]=t)},clearViewMetaData:function(e){this.attr2&&delete this.attr2[e]},getAttribute2:function(){var e=this.getCustomAttributeObject();return e?JSON.stringify(e):""},getCustomAttributeObject:function(){var e;return 0==this.contextStack.length&&this.attr2?e=this.attr2:this.contextStack.length>0&&(e=this.contextStack[this.contextStack.length-1]),e},getCustomAttribute:function(t){var i=this.getCustomAttributeObject();return i&&t.split("-").forEach((function(e){i=i&&i[e]})),e.isString(i)||e.isBoolean(i)||e.isNumber(i)?i:""}},t.ocmContext.init(),t.ocmContext})),define("core/router/DocsController",["require","jquery","underscore","backbone","core/osnGlobals","core/util/Utils","core/util/Session","core/util/Globals","core/util/UrlParams","core/util/SitesUrlParams","core/util/SiteRequestsUrlParams","core/util/AppsUrlParams","core/util/PublishUrlParams","core/util/TranslationJobsUrlParams","core/util/PublishingEventsUrlParams","core/util/ExperiencesUrlParams","core/util/FeatureFlags","core/embedapi/EmbedApi","core/embedapi/EmbedApiV1","core/apm/apmHelper","core/plugin/jquery.storage"],(function(require,e,t,i,osn,n,s,docs,o,a,r,l,c,d,u,h,p,m,f,g){"use strict";return docs.controller=docs.router=t.extend({routes:{"folder/home/trash(/*params)":"trashRoute","folder/home/favorites(/*params)":"favoritesRoute","folder/home(/*params)":"homeRoute","folder/:id(/_:folderName)(/*params)":"folderRoute","fileview/:id(/_:fileName)(/*params)":"fileviewRoute","trash(/*params)":"trashRoute","linkpicker/:id(/*params)":"linkPickerRoute","contenttypes(/*params)":"contentTypesRoute","contenttype(/:id)":"contentTypeEditorRoute","siteoptions(/*params)":"siteOptionsRoute","sites/trash(/*params)":"sitesTrashRoute","sites/exportjobs(/*params)":"sitesExportJobsRoute","sites/importjobs(/*params)":"sitesImportJobsRoute","sites/requests(/:idOrSubFilter)(/*params)":"siteRequestRoute","sites/copy/:id(/*params)":"siteCopyRoute","sites/new(/:id)(/*params)":"siteCreateRoute","sites/category(/:id)(/*params)":"siteCreateCategoryPickerRoute","sites/translationjob(/:id)(/*params)":"siteTranslationJobRoute","sites/translationjobs(/*params)":"siteTranslationJobsRoute","sites/publish/:id(/*params)":"sitePublishRoute","sites/publishingevents(/*params)":"sitePublishingEventsRoute","sites/properties/addvisitors/:id(/*params)":"sitePropertiesAddVisitorsRoute","sites/properties/visitors/:id(/*params)":"sitePropertiesVisitorsRoute","sites/properties/:id(/*params)":"sitePropertiesRoute","sites/pagetemplates/:id(/*params)":"sitePageTemplatesRoute","base/members(/*params)":"membersFPDRoute","sites(/*params)":"sitesRoute","siteplan/new(/:id)(/*params)":"sitePlanCreateRoute","siteplans(/*params)":"sitePlansRoute","siteplan/members(/*params)":"sitePlanMembersFPDRoute","siteplan(/:id)(/*params)":"sitePlanRoute","themes(/*params)":"themesRoute","templates(/F:id)(/*params)":"templatesRoute","components(/*params)":"componentsRoute","developer/embedui/help(/*params)":"developerEmbedUIHelpViewRoute","developer/embedui(/*params)":"developerEmbedUIViewRoute","developer(/*params)":"developerCenterRoute","repositories(/*params)":"repositoriesRoute","repository/create(/*params)":"repositoryCreateRoute","repository/members/contenttype(/*params)":"repositoryMembersContentTypeRoute","repository/members/category(/*params)":"repositoryMembersCategoryRoute","repository/members(/:id)":"repositoryMembersRoute","repository/editorialRoles(/:id)(/*params)":"repositoryEditorialRolesRoute","repository/member(/*params)":"repositoryMemberEditRoute","repository(/:id)(/*params)":"repositoryEditRoute","channels(/*params)":"channelsRoute","channel/create(/*params)":"channelCreateRoute","channel(/:id)(/*params)":"channelEditRoute","localizations(/*params)":"localizationsRoute","localization/create(/*params)":"localizationCreateRoute","localization(/:id)(/*params)":"localizationEditRoute","locale/languages(/*params)":"editLanguagesRoute","translationjob/create(/*params)":"translationjobCreateRoute","translationjob/import(/*params)":"translationjobImportRoute","siteexportjob/create(/*params)":"siteExportJobRoute","siteexportjob(/:id)(/*params)":"editExportJobRoute","siteimportjob/create(/*params)":"siteImportJobRoute","siteimportjob(/:id)(/*params)":"viewImportJobRoute","rankingpolicies(/*params)":"rankingpoliciesRoute","rankingpolicy/create(/*params)":"rankingpolicyCreateRoute","rankingpolicy(/:id)(/*params)":"rankingpolicyEditRoute",rankingmethod:"rankingMethodRoute","taxonomies(/*params)":"taxonomiesRoute","taxonomy/viewer/:id(/*params)":"taxonomyViewRoute","taxonomy(/:id)(/*params)":"taxonomyEditRoute","audienceattributes(/*params)":"audienceAttributesRoute","assets/collections/dynamic/edit(/*params)":"editDynamicCollectionRoute","assets/collections/dynamic/addRule(/*params)":"addRuleRoute","assets/collections(/*params)":"collectionsRoute","assets/categorysuggestions(/*params)":"categorySuggestionsRoute","assets/categoryproperties/edit(/*params)":"categoryPropertiesEditRoute","assets/taxonomyproperty/create(/*params)":"taxonomyPropertyCreateRoute","assets/relatedcategory(/*params)":"relatedCategoryPickerRoute","assets/translationjob/:id/edit(/*params)":"translationjobEditRoute","assets/translationjob(/:id)(/*params)":"assetTranslationJobRoute","assets/:id/translationjobs(/*params)":"assetTranslationJobsRoute","assets/:id/publishingjobs(/*params)":"assetPublishingJobsRoute","assets/:id/publishingevents(/*params)":"assetPublishingEventsRoute","assets/create/:contentType(/*params)":"assetCreateRoute","assets/translate/:contentType/:language/:contentId":"assetTranslateRoute","assets/copy/:contentType/:contentId":"assetCopyRoute","assets/add(/*params)":"assetAddRoute","assets/attributes(/*params)":"assetEditAttributes","assets/edit/attributes(/*params)":"editAssetAttributes","assets/archive/view(/all)(/undefined)(/O:collectionId)/:fileId(/*params)":"archivedAssetViewRoute","assets/archive(/*params)":"archivedAssetsRoute","assets/transcript(/:id)(/*params)":"transcriptRoute","assets/edit(/all)(/undefined)(/O:collectionId)/:fileId(/*params)":"assetEditRoute","assets/view(/all)(/undefined)(/O:collectionId)/:fileId(/*params)":"assetViewRoute","assets/jsonviewer(/*params)":"assetJsonViewerRoute","assets/imageeditor/:id/:revision/:rendition(/*params)":"assetImageEditorRoute","assets/setfocalpoint/:id/:revision/:rendition(/*params)":"assetSetFocalPointRoute","assets/videoeditor/:id(/*params)":"assetVideoEditorRoute","assets/publish/:id(/*params)":"assetsPublishRoute","assets/publishasync(/*params)":"assetsPublishAsyncRoute","assets/publishlater/:id(/*params)":"assetsPublishLaterRoute","assets/publishlaterjob/:id(/*params)":"assetsScheduledPublishingJobRoute","assets/expand/:id/:repositoryId(/*params)":"assetExpandRoute","assets/manager(/*params)":"rsysRoute","assets/workflowtasks(/*params)":"workflowTasksRoute","assets/analytics(/:p1)(/)":"assetsAnalyticsRoute","assets/sync-linked(/*params)":"assetsSyncLinkedRoute","assets(/*params)":"assetsRoute","recommendations/publish/:id(/*params)":"recommendationsPublishRoute","recommendations/create(/*params)":"recommendationCreateRoute","recommendations/edit/:id(/*params)":"recommendationEditRoute","recommendations/view/:id(/*params)":"recommendationViewRoute","recommendations(/*params)":"recommendationsRoute","experiences/preview(/:id)(/*params)":"experiencePreviewRoute","experiences/properties/:id(/*params)":"experiencePropertiesRoute","experiences/new(/:id)(/*params)":"experienceCreateRoute","experiences(/*params)":"experiencesRoute","workflows(/*params)":"workflowsRoute","workflow/:id(/*params)":"workflowRoute","workflowroles(/*params)":"workflowRolesRoute","editorialroles(/*params)":"editorialRolesRoute","editorialrole/view/:id(/*params)":"editorialRoleViewRoute","editorialrole/create(/*params)":"editorialRoleCreateRoute","editorialrole/edit(/:id)":"editorialRoleEditRoute","renditionpolicies(/*params)":"renditionpoliciesRoute","renditionpolicy/create(/*params)":"renditionpolicyCreateRoute","renditionpolicy(/:id)(/*params)":"renditionpolicyEditRoute","*actions":"defaultRoute"},initRoutesOnce:t.once((function(){t.bindAll(this,"anchorClick"),t.each(this.routes,(function(e,t,n){n[t]={handler:this[n[t]],regex:i.Router.prototype._routeToRegExp(t)}}),this),t.each(this.anchorPaths,(function(t){e("body").on("click","a[href^='"+docs.common.Globals.routerRoot+t+"']",docs.router.anchorClick)}))})),anchorPaths:["folder/","fileview/","sites","templates","themes","digitalassets/","contentitems/","collections/","assets/"],renderRouteView:function(n,s,o){var a,r,l,c;t.isObject(n)&&(s=(a=n).scopeKey,o=a.options,r=a.viewOptions||{},l=a.modelAttrs||{},c=a.modelOptions||{},n=a.fragment);var d=e.Deferred();this.initRoutesOnce();var u=t.find(this.routes,(function(e){return e.regex.test(n)}));this.scopeKey=s;var h=i.Router.prototype._extractParameters(u.regex,n);h&&h.push(c);var p=u.handler.apply(this,h);(!this.lastRouteData||!t.isEqual(p.modelAttrs,this.lastRouteData.modelAttrs)&&t.isEmpty(this.navigateStack))&&(g.clear(),this.lastRouteData=p);var m=[p.view];return t.isString(p.model)&&m.push(p.model),require(m,function(i,n){n=n||p.model,p.modelOptions=p.modelOptions||{},p.modelOptions.scopeKey=this.scopeKey?this.scopeKey:i.prototype.scopeKey,delete this.scopeKey,o=o||f.getOptions(),e.extend(p.modelOptions,o),e.extend(p.viewOptions.urlParams,o),r&&(e.extend(p.viewOptions,r),e.extend(p.modelAttrs,l),e.extend(p.modelOptions,c));var s=new n(p.modelAttrs,p.modelOptions);d.resolve(new i(t.extend({model:s},p.viewOptions)))}.bind(this)),d.promise()},defaultRoute:function(e){return this.homeRoute(e)},_documentsRoute:function(t,i,n,s){var a=o.parse(i);if(a.dialog)return this.dialogRoute(t,a);var r={model:n,modelAttrs:{id:t},modelOptions:a,view:s,viewOptions:e.extend(!0,{urlParams:a||{}},m.options.documentsView)};return docs.common.Globals.embed&&m.options.documentsView.layout?(r.viewOptions.layout="layout_"+m.options.documentsView.layout,delete m.options.documentsView.layout):a.layout&&(r.viewOptions.layout=a.layout),docs.common.Globals.embed&&m.options.documentsView.sort?(r.modelOptions.sortOrder="sort_"+m.options.documentsView.sort,delete m.options.documentsView.sort):a.sortOrder&&(r.modelOptions.sortOrder=a.sortOrder),"folders"===r.viewOptions.selectable?r.modelOptions.itemType="Folder":"documents"!==r.viewOptions.selectable||r.viewOptions.actions.open.folder||(r.modelOptions.itemType="File"),a.sidebar&&(r.viewOptions.sidebar.active=a.sidebar,r.viewOptions.sidebar.expand=!0),r},homeRoute:function(e){var t=s.folderFilter().slice(7);return"favorites"===t?this.favoritesRoute(e):"trash"===t?this.trashRoute(e):this._documentsRoute("home",e,"docs/folderview/model/HomeFolder","docs/folderview/view/HomeView")},folderRoute:function(e,t,i){return this._documentsRoute(e,i,"docs/folderview/model/Folder","docs/folderview/view/FolderView")},trashRoute:function(t){var i=o.parse(t);return{model:"docs/folderview/model/TrashFolder",modelAttrs:{id:"trash"},modelOptions:i,view:"docs/folderview/view/TrashView",viewOptions:e.extend(!0,{urlParams:i||{}},m.options.documentsView)}},favoritesRoute:function(t){var i=o.parse(t);return{model:"docs/folderview/model/FavoritesFolder",modelAttrs:{id:"favorites"},modelOptions:i,view:"docs/folderview/view/FavoritesView",viewOptions:e.extend(!0,{urlParams:i||{}},m.options.documentsView)}},fileviewRoute:function(t,i,n){var s=o.parse(n,"fileview"),a={model:"docs/fileview/model/FileViewItem",modelAttrs:{id:t,revision:s.revision,viewerVersion:s.viewerVersion},modelOptions:void 0,view:"docs/fileview/view/FileView",viewOptions:e.extend(!0,{urlParams:s},m.options.documentViewer)};return s.sidebar&&(a.viewOptions.sidebar.active=s.sidebar,a.viewOptions.sidebar.expand=!0),a},_getQueryParams:function(){return t.chain(window.location.search.split(/[?&]/)).compact().map((function(e){return e.split("=")})).object().value},_parseAssetsManagerRouteParams:function(i,n,s,a){var r={};if(a&&a.includes("repository=")){var l=a.substring(11).toUpperCase();docs.common.Globals.repositoryId=l,require(["common/assets/model/Repositories"],(function(e){e.setDefaultId(l)}))}if(r.repositoryId=docs.common.Globals.repositoryId,docs.common.Globals.embed&&m.getOptions().assetsFilter)t.extend(r,f.getOptions().assetsFilter),delete f.getOptions().assetsFilter;else if(r.repositoryId){var c=(docs.common.Globals.embed?(docs.common.EmbedApi.getName()||"embed")+"_":"")+n+"_filter_"+r.repositoryId;t.defaults(r,e.sessionStorage(c,void 0,{}))}docs.common.Globals.embed&&f.getOptions().assetsOptions&&t.extend(r,f.getOptions().assetsOptions);var d=o.parse(i,s,!0);return{modelAttrs:r,modelOptions:d,urlParams:d}},collectionsRoute:function(i){return t.isUndefined(this.scopeKey)?(docs.router.navigate("assets",{trigger:!1,replace:!0}),this.assetsRoute(i)):{model:"assets/model/Collections",modelAttrs:{id:docs.common.Globals.repositoryId,role:"manager"},modelOptions:{},view:"assets/view/CollectionsView",viewOptions:e.extend(!0,{},m.options.categorySuggestionsView)}},editDynamicCollectionRoute:function(i){return t.isUndefined(this.scopeKey)?(docs.router.navigate("assets",{trigger:!1,replace:!0}),this.assetsRoute(i)):{model:"common/container/model/EmptyContainer",modelAttrs:{},modelOptions:{},view:"assets/view/dynamiccollections/DynamicCollectionDrawerView",viewOptions:e.extend(!0,{},m.options.categorySuggestionsView)}},addRuleRoute:function(i){return t.isUndefined(this.scopeKey)?(docs.router.navigate("assets",{trigger:!1,replace:!0}),this.assetsRoute(i)):{model:"common/container/model/EmptyContainer",modelAttrs:{},modelOptions:{},view:"assets/view/dynamiccollections/AddRuleDrawerView",viewOptions:e.extend(!0,{},m.options.categorySuggestionsView)}},categorySuggestionsRoute:function(i,n,s){return!i||s&&!t.isEmpty(s)?{model:"assets/categorysuggestions/SuggestedAssets",modelAttrs:{id:docs.common.Globals.repositoryId},modelOptions:s,view:"assets/categorysuggestions/CategorySuggestionsView",viewOptions:e.extend(!0,{},m.options.categorySuggestionsView)}:this.assetsRoute(i)},assetTranslationJobsRoute:function(e,t){var i=d.parse(t);return{model:"assets/model/TranslationJobs",modelAttrs:{id:e,type:"assets"},modelOptions:i,view:"assets/view/TranslationJobsView",viewOptions:{urlParams:i}}},assetPublishingJobsRoute:function(e,t){var i=docs.common.UrlParams.parse(t);return{model:"assets/model/PublishingJobs",modelAttrs:{id:e,type:"assets"},modelOptions:i,view:"assets/view/PublishingJobsView",viewOptions:{urlParams:i}}},assetPublishingEventsRoute:function(e,t){var i=u.parse(t);return{model:"assets/model/PublishingEvents",modelAttrs:{id:e,type:"assets"},modelOptions:i,view:"assets/view/PublishingEventsView",viewOptions:{type:"assets",urlParams:i}}},sitePublishingEventsRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"sites/model/SitesPublishingEvents",modelAttrs:{type:"sites"},modelOptions:t,view:"sites/view/SitesPublishingEventsView",viewOptions:{type:"sites",urlParams:t}}},assetTranslationJobRoute:function(e,t){return{model:"common/assets/model/TranslationJob",modelAttrs:{id:e,type:"assets"},modelOptions:void 0,view:"assets/view/TranslationJobView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},siteTranslationJobsRoute:function(e){if(!docs.common.Globals.isEnterpriseUser||docs.common.Globals.isStarterEdition)return docs.router.navigate("sites",{trigger:!0,replace:!0}),this.sitesRoute();var t=d.parse(e);return{model:"assets/model/TranslationJobs",modelAttrs:{type:"sites"},modelOptions:t,view:"assets/view/TranslationJobsView",viewOptions:{urlParams:t}}},siteTranslationJobRoute:function(e,t){return{model:"common/assets/model/TranslationJob",modelAttrs:{id:e,type:"sites"},modelOptions:void 0,view:"assets/view/TranslationJobView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},sitePublishRoute:function(e,t){var i=c.parse(t);return{model:"sites/model/SiteValidationModel",modelAttrs:{id:e},modelOptions:i,view:"sites/view/SiteValidationView",viewOptions:{urlParams:i}}},sitePropertiesAddVisitorsRoute:function(e,t,i){var n=a.parse(t);return n.lastFragment=window.location.pathname,{model:"sites/model/SitePropertiesAddVisitors",modelAttrs:{id:e},modelOptions:i||n,view:"sites/view/SitePropertiesAddVisitorsView",viewOptions:{urlParams:n}}},sitePropertiesVisitorsRoute:function(e,t,i){var n=a.parse(t);return n.lastFragment=window.location.pathname,{model:"sites/model/SitePropertiesVisitors",modelAttrs:{id:e},modelOptions:i||n,view:"sites/view/SitePropertiesVisitorsView",viewOptions:{urlParams:n}}},sitePropertiesRoute:function(e,t,i,n){var s=a.parse(t);return s.lastFragment=window.location.pathname,{model:"sites/model/SiteProperties",modelAttrs:{id:e},modelOptions:n||s,view:"sites/view/SitePropertiesView",viewOptions:{urlParams:s}}},membersFPDRoute:function(e,t,n){var s=a.parse(t);return s.lastFragment=window.location.pathname,{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n||s,view:"sites/view/MembersFPDView",viewOptions:{urlParams:s}}},assetExpandRoute:function(e,t,i){return{model:"assets/model/AssetTranslations",modelAttrs:{id:e,repoId:t},modelOptions:{},view:"assets/view/ExpandedView",viewOptions:{urlParams:o.parse(i)}}},rsysRoute:function(e){var t=f.getOptions();return t.hide_filterpanel=!1,t.hide_add=!0,t.hide_create=!0,t.hide_collections=!0,t.hide_translations=!0,t.assetsFilter=t.assetsFilter||{},t.assetsFilter.digitalAssetTypes=["images"],t.assetsFilter.digitalAssetTypeOptions=["images"],t.assetsFilter.contentItemTypeOptions=["none"],t.assetsFilter.assetStatus=["published"],t.assetsFilter.assetStatusOptions=["published"],t.assetsFilter.languageOptions=["none"],t.assetsFilter.languageId="nonTranslatable",this.assetsRoute(e)},_parseRepositoryParameter:function(e){if(e&&e.includes("repository=")){var t=e.substring(11).toUpperCase();docs.common.Globals.repositoryId=t,require(["common/assets/model/Repositories"],(function(e){e.setDefaultId(t)}))}return docs.common.Globals.repositoryId},assetsRoute:function(i,n){var s,a=this.scopeKey||"assets",r=o.parse(i,void 0,!0);docs.common.Globals.embed&&m.options.assetsView.filterValue&&m.options.assetsView.filterValue.repositoryId?(s=m.options.assetsView.filterValue.repositoryId,delete m.options.assetsView.filterValue.repositoryId):s=this._parseRepositoryParameter(n);var l={model:"assets/model/AssetsSearch",modelAttrs:{repositoryId:s},modelOptions:{filter:m.options.assetsView.filter},view:"assets/view/AssetsView",viewOptions:e.extend(!0,{urlParams:r},m.options.assetsView)},c=(docs.common.Globals.embed?(docs.common.EmbedApi.getName()||"embed")+"_":"")+a+"_filter_"+l.modelAttrs.repositoryId,d=e.sessionStorage(c);return docs.common.Globals.embed&&m.options.assetsView.filterValue&&!d?t.defaults(l.modelAttrs,m.options.assetsView.filterValue):d&&t.defaults(l.modelAttrs,d),docs.common.Globals.embed&&m.options.assetsView.filterValue.collectionId&&delete m.options.assetsView.filterValue.collectionId,docs.common.Globals.embed&&m.options.assetsView.layout?(l.viewOptions.layout="layout_"+m.options.assetsView.layout,delete m.options.assetsView.layout):r.layout&&(l.viewOptions.layout=r.layout),docs.common.Globals.embed&&m.options.assetsView.sort?(l.modelOptions.sortOrder="sort_"+m.options.assetsView.sort,delete m.options.assetsView.sort):r.sortOrder&&(l.modelOptions.sortOrder=r.sortOrder),l},archivedAssetsRoute:function(i,n){var s,a=o.parse(i,void 0,!0),r=this.scopeKey||"archivedAssets";docs.common.Globals.embed&&m.options.dialogs.archivedAssets.filterValue&&m.options.dialogs.archivedAssets.filterValue.repositoryId?(s=m.options.dialogs.filterValue.repositoryId,delete m.options.dialogs.archivedAssets.filterValue.repositoryId):s=this._parseRepositoryParameter(n);var l={model:"archivedAssets/model/ArchivedAssetsSearch",modelAttrs:{repositoryId:s},modelOptions:{filter:m.options.dialogs.archivedAssets.filter},view:"archivedAssets/view/ArchivedAssetsView",viewOptions:e.extend(!0,{urlParams:a},m.options.dialogs.archivedAssets)},c=(docs.common.Globals.embed?(docs.common.EmbedApi.getName()||"embed")+"_":"")+r+"_filter_"+l.modelAttrs.repositoryId,d=e.sessionStorage(c);return docs.common.Globals.embed&&m.options.dialogs.archivedAssets.filterValue&&!d?t.defaults(l.modelAttrs,m.options.dialogs.archivedAssets.filterValue):d&&t.defaults(l.modelAttrs,d),docs.common.Globals.embed&&m.options.dialogs.archivedAssets.filterValue.collectionId&&delete m.options.dialogs.archivedAssets.filterValue.collectionId,docs.common.Globals.embed&&m.options.dialogs.archivedAssets.layout?(l.viewOptions.layout="layout_"+m.options.dialogs.archivedAssets.layout,delete m.options.dialogs.archivedAssets.layout):a.layout&&(l.viewOptions.layout=a.layout),docs.common.Globals.embed&&m.options.dialogs.archivedAssets.sort?(l.modelOptions.sortOrder="sort_"+m.options.dialogs.archivedAssets.sort,delete m.options.dialogs.archivedAssets.sort):a.sortOrder&&(l.modelOptions.sortOrder=a.sortOrder),l},assetJsonViewerRoute:function(e,t,i,n){return{model:"assets/model/JsonViewerAsset",modelAttrs:{id:e,version:t,rendition:i},modelOptions:{},view:"assets/dialog/JsonViewerView",viewOptions:{urlParams:o.parse(n)}}},assetImageEditorRoute:function(e,t,i,n){return{model:"imageeditor/controller/ImageEditorController",modelAttrs:{id:e,version:t,rendition:i},modelOptions:{},view:"imageeditor/view/ImageEditorView",viewOptions:{urlParams:o.parse(n)}}},assetSetFocalPointRoute:function(e,t,i,n){return{model:"imageeditor/controller/SetFocalPointController",modelAttrs:{id:e,version:t,rendition:"original"},modelOptions:{},view:"imageeditor/view/SetFocalPointView",viewOptions:{urlParams:o.parse(n),renditionForFocal:i}}},assetVideoEditorRoute:function(t,i){var n=this.scopeKey||"assets",s=this._parseAssetsManagerRouteParams(i,n,"fileview"),o=s.urlParams,a=s.modelAttrs||{};return{model:"assets/advvideo/editor/AdvVideoEditorController",modelAttrs:{id:t,version:o.revision,mode:"edit"},modelOptions:a,view:"assets/advvideo/editor/AdvVideoEditorView",viewOptions:e.extend(!0,{urlParams:o},m.options.videoEditorView)}},assetViewRoute:function(e,t,i,n,s){return this._assetViewRoute({mode:"view",id:t,params:i,modelOptions:s})},assetEditRoute:function(e,t,i){return this._assetViewRoute({mode:"edit",id:t,params:i,viewOptions:m.options.contentItemEditor})},assetCreateRoute:function(e,t){return this._assetViewRoute({mode:"create",type:e,params:t,viewOptions:m.options.contentItemCreate})},assetTranslateRoute:function(e,t,i){return this._assetViewRoute({mode:"create",type:e,translationOf:i,language:t,sourceId:i})},assetCopyRoute:function(e,t){return this._assetViewRoute({mode:"create",type:e,copyOf:t})},assetAddRoute:function(e,i,n){if(!n||t.isEmpty(n))return this.assetsRoute(e);var s=o.parse(e);return s=s||{},t.isUndefined(s.show_categories)&&(s.show_categories=!0),{model:"assets/model/AddAssetsQueue",view:"assets/view/AddAssets",viewOptions:{urlParams:s}}},assetEditAttributes:function(e,t,n){var s=docs.common.UrlParams.parse(e);return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n,view:"assets/view/EditAssetsAttributesView",viewOptions:{urlParams:s}}},categoryPropertiesEditRoute:function(e,t,n){var s=docs.common.UrlParams.parse(e);return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n,view:"assets/taxonomy/CategoryPropertiesEditView",viewOptions:{urlParams:s}}},taxonomyPropertyCreateRoute:function(e,t,n){var s=docs.common.UrlParams.parse(e);return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n,view:"assets/taxonomy/TaxonomyPropertyView",viewOptions:{urlParams:s}}},relatedCategoryPickerRoute:function(e,t,n){var s=docs.common.UrlParams.parse(e);return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n,view:"assets/taxonomy/RelatedCategoryView",viewOptions:{urlParams:s}}},editAssetAttributes:function(e,t,n){var s=docs.common.UrlParams.parse(e);return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n,view:"assets/view/AttributesEditView",viewOptions:{urlParams:s}}},archivedAssetViewRoute:function(t,i,n,s,a,r){this.scopeKey;var l=this._parseRepositoryParameter(r),c=o.parse(n,"fileview",!0);(a=a||{}).repositoryId=l,a.mode="view";var d={id:i,version:c.revision,viewerVersion:c.viewerVersion,rendition:c.renditionId,mode:"view"},u=e.extend(!0,{prefBitmask:c.config,urlParams:c,viewMode:"view"},m.options.dialogs.archivedAssetView);return c.sidebar&&(u.sidebar.active=c.sidebar,u.sidebar.expand=!0),{model:"archivedAssets/model/ArchivedAssetViewerAsset",modelAttrs:d,modelOptions:a,view:"archivedAssets/view/ArchivedAssetViewer",viewOptions:u}},_assetViewRoute:function(t,i){this.scopeKey;var n=this._parseRepositoryParameter(i),s=o.parse(t.params,"fileview",!0),a=t.modelOptions||{};a.repositoryId=n,a.mode=t.mode,a.copyOf=t.copyOf,a.translationOf=t.translationOf,a.language=t.language;var r={id:t.id,type:t.type,version:s.revision,viewerVersion:s.viewerVersion,rendition:s.renditionId,mode:t.mode};a.translationOf&&(r.translatable=!0,r.language=t.language,r.soruceId=t.soruceId);var l=e.extend(!0,{prefBitmask:s.config,urlParams:s,viewMode:t.mode},t.viewOptions||m.options.assetViewer);return s.sidebar&&(l.sidebar.active=s.sidebar,l.sidebar.expand=!0),{model:"assets/model/AssetViewerAsset",modelAttrs:r,modelOptions:a,view:"assets/view/AssetViewer",viewOptions:l}},assetsPublishRoute:function(e,t){return{model:"assets/components/model/ValidationResult",modelAttrs:{id:e},view:"assets/view/ValidationView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},assetsPublishAsyncRoute:function(e){return{model:"assets/model/PublishAsync",view:"assets/view/PublishAsyncView",viewOptions:{urlParams:docs.common.UrlParams.parse(e)}}},assetsPublishLaterRoute:function(e,t){return{model:"assets/components/model/ValidationResult",modelAttrs:{id:e,mode:"SCHEDULED_ASSETS"},view:"assets/view/ValidationForPublishLaterView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},assetsScheduledPublishingJobRoute:function(e,t){return{model:"assets/model/AssetsScheduledPublishingJob",modelAttrs:{id:e,mode:"SCHEDULED_ASSETS"},view:"assets/view/AssetsScheduledPublishingJobView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},assetsSyncLinkedRoute:function(e,t,i){return{model:"assets/model/AssetsSyncValidate",modelAttrs:i,view:"assets/view/SyncLinkedAssetsView",viewOptions:{urlParams:docs.common.UrlParams.parse(e)}}},recommendationsPublishRoute:function(e,t){return{model:"assets/model/RecommendationsValidationResult",modelAttrs:{id:e},view:"assets/view/RecommendationsValidationView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},recommendationCreateRoute:function(e){var t=this.scopeKey||"recommendations",i=this._parseAssetsManagerRouteParams(e,t),n=i.modelAttrs||{};return delete n.id,{model:"assets/model/Recommendation",modelAttrs:n,modelOptions:{mode:"edit"},view:"assets/recommendation/RecommendationEditorView",viewOptions:{urlParams:i.urlParams}}},recommendationEditRoute:function(e,t){var i=this.scopeKey||"recommendations",n=this._parseAssetsManagerRouteParams(t,i);return{model:"assets/model/Recommendation",modelAttrs:{id:e},modelOptions:{mode:"edit",showPublishedVersion:!!n.urlParams.revision},view:"assets/recommendation/RecommendationEditorView",viewOptions:{urlParams:n.urlParams}}},recommendationViewRoute:function(e,t){var i=this.scopeKey||"recommendations",n=this._parseAssetsManagerRouteParams(t,i);return{model:"assets/model/Recommendation",modelAttrs:{id:e},modelOptions:{mode:"view",showPublishedVersion:!!n.urlParams.revision},view:"assets/recommendation/RecommendationEditorView",viewOptions:{urlParams:n.urlParams}}},recommendationsRoute:function(t){var i=this.scopeKey||"recommendations",n=this._parseAssetsManagerRouteParams(t,i);return n.modelAttrs=n.modelAttrs||{},n.modelOptions=n.modelOptions||{},n.urlParams=n.urlParams||{},n.modelAttrs.recommendationsUI=!0,n.modelOptions.recommendationsUI=!0,n.urlParams.recommendationsUI=!0,{model:"assets/model/RecommendationsSearch",modelAttrs:n.modelAttrs,modelOptions:n.modelOptions,view:"assets/view/RecommendationsView",viewOptions:e.extend(!0,{urlParams:n.urlParams},m.options.recommendationsView)}},experiencePreviewRoute:function(e,t){return{model:"experiences/model/ExperienceViewer",modelAttrs:{id:e},modelOptions:{},view:"experiences/dialog/ExperienceViewerView",viewOptions:{urlParams:o.parse(t)}}},experiencePropertiesRoute:function(e,t,i,n){var s=h.parse(t);return s.lastFragment=window.location.pathname,{model:"experiences/model/Experience",modelAttrs:{id:e},modelOptions:n||s,view:"experiences/view/ExperiencePropertiesView",viewOptions:{urlParams:s}}},experienceCreateRoute:function(e,t){var n=h.parse(t);return n.lastFragment=window.location.pathname,{model:i.Model.extend({fetch:function(e){return this.trigger("fetchedRenderContentForOJet"),e.success(this)}}),modelAttrs:{id:"F:SCS:SITES"},modelOptions:n,view:"experiences/dialog/ExperienceCreateView",viewOptions:{urlParams:n}}},experiencesRoute:function(e){e=e&&e.replace(/\/+$/,"");var t=h.parse(e);return{model:"experiences/model/Experiences",modelAttrs:{id:"F:SCS:EXPERIENCES"},modelOptions:t,view:"experiences/view/ExperiencesView",viewOptions:{urlParams:t}}},repositoryCreateRoute:function(e){return{model:"common/assets/model/Repository",modelAttrs:{},view:"assets/admin/RepositoryView",viewOptions:{urlParams:docs.common.UrlParams.parse(e)}}},transcriptRoute:function(e,t,n,s){var a=o.parse(t);return{model:i.Model.extend({fetch:function(e){this.trigger("change")}}),modelAttrs:s,view:"assets/view/TranscriptView",viewOptions:{urlParams:a}}},repositoryEditRoute:function(e,i,n,s){var o=docs.common.UrlParams.parse(i);return{model:"common/assets/model/Repository",modelAttrs:{id:e},modelOptions:t.extend({ignoreCache:!0},s),view:"assets/admin/RepositoryView",viewOptions:{urlParams:o}}},repositoryMembersRoute:function(e,t){return{model:"assets/model/RepositoryMembers",modelAttrs:{id:e},view:"assets/admin/AssetSecurityMembersView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},repositoryEditorialRolesRoute:function(e,t){return{model:"assets/model/RepositoryEditorialRoles",modelAttrs:{id:e},view:"assets/admin/AssetSecurityEditorialRolesView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},repositoryMemberEditRoute:function(e,t){var n=docs.common.UrlParams.parse(t);return{model:i.Model.extend({fetch:function(e){return this.trigger("change"),e.success(this)}}),view:"assets/admin/AssetSecurityMemberEditView",viewOptions:{urlParams:n}}},repositoryMembersContentTypeRoute:function(e,t){var n=docs.common.UrlParams.parse(t);return{model:i.Model.extend({fetch:function(e){return this.trigger("change"),e.success(this)}}),modelOptions:n,view:"assets/admin/AssetSecurityMemberContentTypeView",viewOptions:{urlParams:n}}},repositoryMembersCategoryRoute:function(e,t){var n=docs.common.UrlParams.parse(t);return{model:i.Model.extend({fetch:function(e){return this.trigger("change"),e.success(this)}}),modelOptions:n,view:"assets/admin/AssetSecurityMemberCategoryView",viewOptions:{urlParams:n}}},repositoriesRoute:function(e){var t=this._repositoriesUrlParams.parse(e);return{model:"common/assets/model/Repositories",modelAttrs:{id:"F:REPOSITORIES",role:"manager"},modelOptions:t,view:"assets/admin/RepositoriesView",viewOptions:{admin:!0,urlParams:t}}},channelCreateRoute:function(e){return{model:"common/assets/model/Channel",modelAttrs:{},modelOptions:void 0,view:"assets/admin/ChannelView",viewOptions:{urlParams:o.parse(e)}}},channelEditRoute:function(e,t){return{model:"common/assets/model/Channel",modelAttrs:{id:e},modelOptions:void 0,view:"assets/admin/ChannelView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},channelsRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"common/assets/model/Channels",modelAttrs:{role:"manager"},modelOptions:t,view:"assets/admin/ChannelsView",viewOptions:{admin:!0,urlParams:t}}},localizationsRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"assets/model/LocalizationPolicies",modelAttrs:{},modelOptions:t,view:"assets/admin/LocalizationPoliciesView",viewOptions:{admin:!0,urlParams:t}}},localizationCreateRoute:function(e){return{model:"common/assets/model/LocalizationPolicy",modelAttrs:{},modelOptions:void 0,view:"assets/admin/LocalizationPolicyView",viewOptions:{urlParams:o.parse(e)}}},localizationEditRoute:function(e,t){return{model:"common/assets/model/LocalizationPolicy",modelAttrs:{id:e},modelOptions:void 0,view:"assets/admin/LocalizationPolicyView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},editLanguagesRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"assets/model/LanguageCodes",modelAttrs:{},modelOptions:t,view:"assets/admin/languages/LanguagesView",viewOptions:{urlParams:t}}},_contentTypesUrlParams:t.extend({},o,{filters:["all","ContentType","DigitalAssetType"]}),_repositoriesUrlParams:t.extend({},o,{filters:["all","standard","business"]}),translationjobCreateRoute:function(e,t){var n=t.split("&"),s={};return n.forEach((function(e){e=e.split("="),s[e[0]]=decodeURIComponent(e[1]||"")})),{model:i.Model.extend({fetch:function(e){return this.trigger("change"),e.success(this)}}),modelAttrs:{type:"sites"},modelOptions:s,view:"assets/dialog/CreateTranslationJobView",viewOptions:s}},translationjobEditRoute:function(e,t){return{model:"common/assets/model/TranslationJob",modelAttrs:{id:e,type:"assets"},modelOptions:void 0,view:"assets/dialog/EditTranslationJobView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},translationjobImportRoute:function(e,t,i){return{model:"common/assets/model/TranslationJob",modelAttrs:{},modelOptions:i,view:"assets/dialogs/ImportTranslationJobView",viewOptions:{urlParams:null}}},siteExportJobRoute:function(e,t,n){return{model:i.Model.extend({fetch:function(e){return this.trigger("change"),e.success(this)}}),modelAttrs:{type:"sites",siteId:n.siteId,siteName:n.siteName},modelOptions:n,view:"assets/dialog/CreateSiteExportJobView",viewOptions:{urlParams:null}}},editExportJobRoute:function(e,t,i){return{model:"sites/model/ExportJob",modelAttrs:{id:e},modelOptions:i,view:"assets/dialog/CreateSiteExportJobView",viewOptions:{urlParams:null}}},viewImportJobRoute:function(e,t,i){return{model:"sites/dialogs/importsite/ImportJob",modelAttrs:{id:e},modelOptions:i,view:"assets/dialog/ViewSiteImportJobView",viewOptions:{urlParams:null}}},siteImportJobRoute:function(e,t,i){return{model:"common/container/model/EmptyContainer",modelAttrs:{},modelOptions:i,view:"sites/dialogs/importsite/CreateSiteImportJobView",viewOptions:{urlParams:this._contentTypesUrlParams.parse(e)}}},contentTypesRoute:function(e){var i=this._contentTypesUrlParams.parse(e);return{model:"common/assets/model/ContentTypes",modelAttrs:{role:"manager"},modelOptions:t.extend({fields:"id,name,description,roleName"},i),view:"assets/admin/ContentTypesView",viewOptions:{urlParams:i}}},contentTypeEditorRoute:function(t,n){var s=o.parse(n);return e.sessionStorage("caas.contenttypeeditor.closelink",i.history.fragment),{model:"common/assets/model/ContentType",modelAttrs:{name:t},modelOptions:s,view:"assets/view/ContentTypeEditorView",viewOptions:{urlParams:s}}},_taxonomiesUrlParams:t.extend({},o,{filters:["all","draft","promoted"]}),rankingpoliciesRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"assets/rankingpolicies/RankingPolicies",modelAttrs:{},modelOptions:t,view:"assets/rankingpolicies/RankingPoliciesView",viewOptions:{admin:!0,urlParams:t}}},rankingpolicyCreateRoute:function(e,t){return{model:"assets/rankingpolicies/RankingPolicy",modelAttrs:{},modelOptions:void 0,view:"assets/rankingpolicies/RankingPolicyEditView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},rankingpolicyEditRoute:function(e,t){return{model:"assets/rankingpolicies/RankingPolicy",modelAttrs:{id:e,rankingId:e},modelOptions:void 0,view:"assets/rankingpolicies/RankingPolicyEditView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},rankingMethodRoute:function(e,t){return{model:"assets/rankingpolicies/RankingMethod",modelAttrs:t,view:"assets/rankingpolicies/RankingMethodView",viewOptions:{}}},renditionpoliciesRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"assets/renditionpolicies/RenditionPolicies",modelAttrs:{},modelOptions:t,view:"assets/renditionpolicies/RenditionPoliciesView",viewOptions:{admin:!0,urlParams:t}}},renditionpolicyCreateRoute:function(e,t){return{model:"assets/renditionpolicies/RenditionPolicy",modelAttrs:{},modelOptions:void 0,view:"assets/renditionpolicies/RenditionPolicyEditView",viewOptions:{urlParams:docs.common.UrlParams.parse(t)}}},renditionpolicyEditRoute:function(e,t){var i=docs.common.UrlParams.parse(t);return{model:"assets/renditionpolicies/RenditionPolicy",modelAttrs:{id:e},modelOptions:i,view:"assets/renditionpolicies/RenditionPolicyEditView",viewOptions:{urlParams:i}}},taxonomiesRoute:function(e){var t=this._taxonomiesUrlParams.parse(e);return{model:"assets/taxonomy/Taxonomies",modelAttrs:{},modelOptions:t,view:"assets/taxonomy/TaxonomiesView",viewOptions:{admin:!0,urlParams:t}}},taxonomyEditRoute:function(e,t){return{model:"assets/taxonomy/Taxonomy",modelAttrs:{id:e},modelOptions:void 0,view:"assets/taxonomy/TaxonomyEditView",viewOptions:{urlParams:docs.common.UrlParams.parse(t),sidebar:{active:"taxonomy_properties"}}}},taxonomyViewRoute:function(e,t){var n=docs.common.UrlParams.parse(t);return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:{id:e},modelOptions:void 0,view:"assets/taxonomy/TaxonomyViewer",viewOptions:{urlParams:n}}},audienceAttributesRoute:function(e){var i=null,n=docs.common.UrlParams.parse(e);return t.indexOf(["null",null],e)<0&&(i=e),i?{modelAttrs:{},modelOptions:t.extend(n,{categoryId:i}),model:"assets/audienceattributes/AudienceAttributes",view:"assets/audienceattributes/AudienceAttributesTableView",viewOptions:{admin:!0,urlParams:n}}:{modelAttrs:{},modelOptions:t.extend(n,{categoryId:i}),model:"assets/audienceattributes/AudienceAttributes",view:"assets/audienceattributes/AudienceAttributesView",viewOptions:{admin:!0,urlParams:n}}},pushExclusiveNavigate:function(e){t.isEmpty(this.navigateStack)&&(this.navigateStack=[]),this.navigateStack.splice(0,0,e)},popExclusiveNavigate:function(e){0===t.indexOf(this.navigateStack,e)&&this.navigateStack.splice(0,1)},linkPickerRoute:function(t,n){return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:{id:t},view:"docs/embedapi/linkpicker/LinkPickerDialog",viewOptions:e.extend(!0,{},m.options.linkPicker)}},dialogRoute:function(e,t){return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:{id:e},view:{picker:"docs/embedapi/EmbedPickerDialog",eloqua:"docs/embedapi/EloquaPickerDialog",linkpicker:"docs/embedapi/linkpicker/LinkPickerDialog"}[t.dialog],viewOptions:{urlParams:t}}},_GovSitesUrlParams:t.extend({},o,{filters:docs.common.Globals.isStandardExternalUser?["all","shared","online","offline"]:["all","owned","shared","online","offline","requests"],sorts:["updated","nameasc","expiry"]}),siteRequestRoute:function(e,t){if(!osn.authz.can("route","SitesGov")||docs.common.Globals.isStandardExternalUser)return this.sitesRoute(t);if(!e)return this.sitesRoute("requests");var i,n=r.parse(t);return r.subFilters.indexOf(e)<0?(n.lastFragment=window.location.pathname,i={model:"sites/model/SiteRequestItem",modelAttrs:{id:e},modelOptions:n,view:"sites/view/SiteRequestView",viewOptions:{urlParams:n,displayOption:"editRequest"}}):(n.filter="filter_requests",i={model:"sites/model/SiteRequests",modelAttrs:{if:"F:SCS:SITE_REQUESTS",subFilter:e},modelOptions:n,view:"sites/view/SitesView",viewOptions:{urlParams:n}}),i},siteCopyRoute:function(e,t){var i=a.parse(t);return i.lastFragment=window.location.pathname,{model:"sites/model/GovSiteCopyItem",modelAttrs:{id:e},modelOptions:i,view:"sites/view/SiteCopyView",viewOptions:{urlParams:i,displayOption:"copySite"}}},siteCreateRoute:function(e,t){if(docs.common.Globals.isStandardExternalUser)return this.sitesRoute();var n=a.parse(t);n.lastFragment=window.location.pathname;var s={model:i.Model.extend({fetch:function(e){return this.trigger("fetchedRenderContentForOJet"),e.success(this)}}),modelAttrs:{id:"F:SCS:SITES"},modelOptions:n,view:"sites/view/SiteRequestView",viewOptions:{urlParams:n}};return e&&(s.model="sites/model/GovTemplateItem",s.modelAttrs={id:e,createSiteFromTemplate:!0,fetchPolicy:osn.authz.can("route","SitesGov")},s.viewOptions.fromTemplate=!0),s},siteCreateCategoryPickerRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:i.Model.extend({fetch:function(e){return this.trigger("change"),e.success(this)}}),modelOptions:t,view:"sites-gov/viewModels/siteCreateCategoryPickerView",viewOptions:{urlParams:t}}},sitePageTemplatesRoute:function(e,t){var i=o.parse(t);return{model:"sites/model/SitePageTemplates",modelAttrs:{id:e},modelOptions:i,view:"sites/view/SitePageTemplatesView",viewOptions:{urlParams:i}}},siteOptionsRoute:function(e){return{model:"site-plan/model/SiteOptions",view:"site-plan/view/SiteOptionsCenterView",viewOptions:{urlParams:{}}}},sitesRoute:function(e){e=e&&e.replace(/\/+$/,"");var t=a.parse(e),i={model:"sites/model/GovSites",modelAttrs:{id:"F:SCS:SITES"},modelOptions:t,view:"sites/view/SitesView",viewOptions:{urlParams:t}};if(osn.authz.can("route","SitesGov")&&!docs.common.Globals.isStandardExternalUser&&"sitesDlg"!==this.scopeKey){var n=docs.common.Session.folderFilterSites();!e&&n&&(e=n.substr("filter_".length)),t=this._GovSitesUrlParams.parse(e),i.modelOptions=t,i.viewOptions.urlParams=t,"requests"===e&&(i.model="sites/model/SiteRequests",i.modelAttrs.id="F:SCS:SITE_REQUESTS",i.modelAttrs.subFilter=r.subFilters[0])}return i},sitePlansRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"site-plan/model/SitePlans",modelAttrs:{},modelOptions:t,view:"site-plan/view/SitePlansView",viewOptions:{urlParams:t}}},sitePlanRoute:function(e,i){var n=docs.common.UrlParams.parse(i);return t.extend(n,{sidebar:"siteplanode_properties"}),{model:"site-plan/model/SitePlan",modelAttrs:{id:e},modelOptions:n,view:"site-plan/view/SitePlanView",viewOptions:{urlParams:n}}},_GovTemplatesUrlParams:t.extend({},o,{filters:["all","yours"]}),sitePlanCreateRoute:function(e,t){var i=a.parse(t);return i.lastFragment=window.location.pathname,{model:"site-plan/model/SitePlan",modelAttrs:{id:"F:SCS:SITEPLANS",action:"action_create"},modelOptions:i,view:"site-plan/view/SitePlanRequestView",viewOptions:{urlParams:i}}},sitePlanMembersFPDRoute:function(e,t,n){var s=a.parse(t);return s.lastFragment=window.location.pathname,{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:n||s,view:"site-plan/view/SitePlanMembersFPDView",viewOptions:{urlParams:s}}},templatesRoute:function(e,t){var i,n=docs.common.UrlParams.parse(t);if(e)n=this._GovTemplatesUrlParams.parse(t),i={model:"sites/model/GovTemplateItem",modelAttrs:{id:"F"+e,fetchPolicy:osn.authz.can("route","SitesGov")},modelOptions:void 0,view:"sites/view/GovTemplateView",viewOptions:{urlParams:n,displayOption:"templateDetailsTab"}};else{if(i={model:"sites/model/GovTemplates",modelAttrs:{id:"F:SCS:TEMPLATES"},modelOptions:n,view:"sites/view/TemplatesView",viewOptions:{urlParams:n}},osn.authz.can("route","SitesGov")&&docs.common.Globals.isSitesAdmin)switch(n=this._GovTemplatesUrlParams.parse(t),i.modelOptions=n,i.viewOptions.urlParams=n,t){case null:case"all":case"unpub":case"pub":i.model="sites/model/GovTemplates"}}return i},themesRoute:function(t){var i=docs.common.UrlParams.parse(t);return{model:"sites/model/Themes",modelAttrs:{id:"F:SCS:THEMES"},modelOptions:i,view:"sites/view/ThemesView",viewOptions:e.extend(!0,{urlParams:i},m.options.themesView)}},componentsRoute:function(e){var t=l.parse(e);return{model:"sites/model/Apps",modelAttrs:{id:"F:SCS:APPS"},modelOptions:t,view:"sites/view/AppsView",viewOptions:{urlParams:t}}},sitesTrashRoute:function(e){var t=a.parse(e),i="sites/model/SitesTrashFolder",n=t.fragment&&t.fragment.indexOf("sites")>0;return n=n||"filter_sites"===docs.common.Session.folderFilterSitesTrash(),osn.authz.can("route","SitesGov")&&docs.common.Globals.isSitesAdmin&&n&&(i="sites/model/GovSitesTrashModel"),{model:i,modelAttrs:{id:"sites-trash"},modelOptions:t,view:"sites/view/SitesTrashView",viewOptions:{urlParams:t}}},sitesExportJobsRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"sites/model/ExportJobs",modelAttrs:{},modelOptions:t,view:"sites/view/ExportJobsView",viewOptions:{admin:!0,urlParams:t}}},sitesImportJobsRoute:function(e){var t=docs.common.UrlParams.parse(e);return{model:"sites/dialogs/importsite/ImportJobs",modelAttrs:{},modelOptions:t,view:"sites/dialogs/importsite/ImportJobsView",viewOptions:{admin:!0,urlParams:t}}},developerCenterRoute:function(e){return{model:"sites/model/Developer",view:"sites/view/DeveloperCenterView",viewOptions:{urlParams:{}}}},workflowsRoute:function(e){var t=o.parse(e);return{model:"assets/model/Workflows",modelAttrs:{role:"manager"},modelOptions:t,view:"assets/admin/WorkflowsView",viewOptions:{admin:!0,urlParams:t}}},workflowRoute:function(e,t){var i=o.parse(t);return{model:"assets/model/Workflow",modelAttrs:{id:e},modelOptions:i,view:"assets/admin/WorkflowView",viewOptions:{urlParams:i}}},workflowRolesRoute:function(e){var t=o.parse(e);return{model:"assets/model/WorkflowRoles",modelAttrs:{roleName:"manager"},modelOptions:t,view:"assets/admin/WorkflowRolesView",viewOptions:{admin:!0,urlParams:t}}},editorialRolesRoute:function(e){var t=o.parse(e);return{model:"assets/model/EditorialRoles",modelAttrs:{roleName:"manager"},modelOptions:t,view:"assets/admin/EditorialRolesView",viewOptions:{admin:!0,urlParams:t}}},editorialRoleCreateRoute:function(e){var t=o.parse(e);return{model:"assets/model/EditorialRole",modelAttrs:{},modelOptions:t,view:"assets/dialog/CreateEditorialRoleView",viewOptions:t}},editorialRoleViewRoute:function(e,t){t=t&&t.replace(/\/+$/,"");var i=o.parse(t);return{model:"assets/model/EditorialRole",modelAttrs:{id:e},modelOptions:i,view:"assets/dialog/ViewEditorialRoleView",viewOptions:i}},editorialRoleEditRoute:function(e,t){var i=o.parse(t);return{model:"assets/model/EditorialRole",modelAttrs:{id:e},modelOptions:i,view:"assets/dialog/EditEditorialRoleView",viewOptions:i}},developerEmbedUIHelpViewRoute:function(e){return{model:i.Model.extend({fetch:function(){this.trigger("change")}}),modelAttrs:{},view:"developer/embedui/help/EmbedUIHelpView",viewOptions:{urlParams:{}}}},developerEmbedUIViewRoute:function(e){return{model:"developer/embedui/EmbedUIModel",modelAttrs:{component:"assetsView"},view:"developer/embedui/EmbedUIView",viewOptions:{urlParams:{}}}},workflowTasksRoute:function(){return{model:"assets/model/WorkflowTasks",modelAttrs:{id:docs.common.Globals.repositoryId},modelOptions:{},view:"assets/view/WorkflowTasksView",viewOptions:{urlParams:{}}}},assetsAnalyticsRoute:function(e){return{model:"common/container/model/EmptyContainer",modelAttrs:{},modelOptions:{},view:"assets/analytics/AssetsAnalyticsView",viewOptions:{urlParams:{},section:e}}},navigate:function(i,n){n=!0===n?{trigger:!0}:n,docs.router.lastFragmentRenderedDfd?n.trigger&&"pending"==docs.router.lastFragmentRenderedDfd.state()&&(i.indexOf(docs.router.lastFragmentRendered)<0||i===docs.router.lastFragmentRendered)&&(osn.debug("nav","DocsController.navigate force resolving pending lastFragmentRenderedDfd with '"+i+"'"),docs.router.lastFragmentRenderedDfd.resolve(i)):docs.router.lastFragmentRenderedDfd=e.Deferred().resolve(i),docs.router.lastFragmentRenderedDfd.done(function(e){if(osn.debug("nav","DocsController.navigate lastFragmentRenderedDfd resolved with '"+e+"'"),t.isEmpty(this.navigateStack)){if(!n.trigger&&i&&e&&(i.indexOf(e)<0||"assets"==e&&this.routes["assets/view(/all)(/undefined)(/O:collectionId)/:fileId(/*params)"].regex.test(i)))return void osn.debug("nav","DocsController.navigate ignoring '"+i+"' not matching last rendered view which is "+e);n.trigger?this.preNavigateCheck().fail(t.bind((function(){docs.events.trigger("navigate:cancelled")}),this)).done(t.bind((function(){n.cancelNavigate||this.triggerNavigate(i,n)}),this)):this.triggerNavigate(i,n)}else this.trigger(t.first(this.navigateStack),i,n)}.bind(this))},triggerNavigate:function(e,t){this.docsMainView?this.docsMainView.onNavigate(e,t):this.defaultNavigateHandler(e,t),this.trigger("navigate",e,t),t.trigger&&m.events.navigate(e)},preNavigateCheck:function(){var i=e.Deferred();return require(window.CKEDITOR?["common/dialog/ConfirmationDialogView"]:[],(function(){var e=n.getActiveEditorInstances(),s=t.some(e,(function(e){return!(e.name&&e.name.indexOf("caasCKEditor")>-1)&&(e.getData?e.getData():e.getContent&&e.getContent())})),o={isDirty:!1};docs.events.trigger("view:isDirty",o),s||o.isDirty?(o.dialogOptions=o.dialogOptions||{},osn.views.ConfirmationDialogView.show({confirm:function(){t.each(e,(function(e){e.readOnly||(e.getData&&e.getData()&&e.setData(""),e.getContent&&e.getContent()&&e.setContent(""))})),i.resolve()},cancelFn:function(){i.reject()},title:o.dialogOptions.title?o.dialogOptions.title:osn.i18n.t("leavePage"),primaryButtonText:o.dialogOptions.okButtonText,secondaryButtonText:o.dialogOptions.cancelButtonText,primaryButtonTextI18n:"leavePage",content:o.dialogOptions.message?o.dialogOptions.message:osn.i18n.t("unsavedChangesWarning")+" "+osn.i18n.t("leavePageConfirmation")})):i.resolve()})),i},anchorClick:function(t){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget).attr("href");this.handleAnchorHref(i)},handleAnchorHref:function(e){var t=e.replace(new RegExp(docs.common.Globals.routerRoot+"embed"),"");t=t.replace(new RegExp(docs.common.Globals.routerRoot),"");var i=o.parse(window.location.pathname),n=o.getConfigUrlPart(i);return t+=n+=o.getViewConfigUrlPart(i),docs.router.navigate(t,{trigger:!0,replace:!1}),!1},defaultNavigateHandler:function(e,t){var n="";docs.common.Service.linkId&&(n=docs.common.Service.isAppLink?"link/app/":"link/",n+=docs.common.Service.linkId+"/"),i.history.navigate(n+e+window.location.search,t)},fullPageDialogStack:{openDialogs:[],clean:function(){t.each(this.openDialogs,(function(e){e.close()}))},add:function(e){this.openDialogs.push(e)},remove:function(e){this.openDialogs=t.without(this.openDialogs,e)}}},i.Events),docs.router})),define("core/fc",["jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/util/Service","core/util/FeatureFlags","core/AppEvents"],(function(e,t,i,osn,docs,n){"use strict";var s,o,a,r;const l=/\/(auth)?link\/(L[0-9A-F]*)\//;o=function(e,t,i,n){var s={ModuleName:e,MethodName:t,Arguments:i||[]};return n?s:[s]},a=function(e){var i=[];return t.each(e,(function(e){t.isObject(e)&&!t.isArray(e)?i.push(e):i.push(o(e[0],e[1],e[2],!0))}),this),i},r=function(e,i){t.isArray(i)&&t.each(i,(function(t,i){if("success"===t.returnStatus){var n=JSON.parse(e.data)[i],s=n.MethodName,o=n.Arguments;s&&(osn.debug("fc","triggering event: "+s),osn.events.trigger(s,[t.returnValue,o]))}}))},s=function(i){osn.debug("fc","Initializing the FrontChannel");var s={},c=["waggle.object.NoSuchObjectException","waggle.exceptions.AccessDeniedException","waggle.object.WrongObjectTypeException"];osn.fc={sendRequest:function(){var d,u,h=c.slice(),p=arguments[3]&&arguments[3].ignoreErrorCodes||arguments[1]&&arguments[1].ignoreErrorCodes||[],m=[],f=!1;if(d=t.isArray(arguments[0])?a(arguments[0]):o(arguments[0],arguments[1],arguments[2]),!i.socialInitialized){var g=o("XConnectModule$Server","getLoginInfo",[],!0);s[JSON.stringify(g)]||(f=!0,d.splice(0,0,g))}return 0===(d=t.reject(d,(function(e){var t=s[JSON.stringify(e)];if(t)return m.push(t),!0}))).length?(osn.debug("fc","all requests covered by others already in-flight"),e.when.apply(null,t.uniq(m))):(u=e.Deferred(),e.ajax({xhrFields:{withCredentials:!0},url:i.fcURL+"/RemoteJSONBatch"+n.getRemoteJSONBatchRequestURLParameters(d),type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(d),beforeSend:function(e){if(i.locale&&e.setRequestHeader("X-Waggle-ForceLanguage",i.locale),e.setRequestHeader("X-Waggle-RandomID",i.randomId),e.setRequestHeader("X-Waggle-ClientID",i.clientId),e.setRequestHeader("X-Waggle-Agent",i.agent),e.setRequestHeader("X-Waggle-APIVersion",i.apiVersion),e.hasOwnProperty("withCredentials")&&(e.withCredentials=!0),!t.findWhere(d,{ModuleName:"XHiveModule$Server"})){var n=l.exec(window.location.pathname);null!=n&&e.setRequestHeader("X-Waggle-PublicLinkID",n[2])}}}).always((function(e,o){if(t.each(d,(function(e){delete s[JSON.stringify(e)]})),r(this,e),f&&t.isArray(e)){var a=e.shift();if("success"===a.returnStatus){i.socialInitialized=!0;var l=a.returnValue;i.randomId=l.apiRandomID,i.apiVersion=l.APIVersion}}var c;e[0]&&"success"===e[0].returnStatus?u.resolve(e):(c={inline:docs.common.Globals.embed},p&&p.length&&(h=t.difference(h,p||[])),window.console.log("FC: Error in response to request: "+JSON.stringify(e)),e[0]&&e[0].returnValue?(c.message=e[0].returnValue.Message,osn.util.isRedirectingError(e[0].returnValue.ResourceID)&&(osn.debug("fc","Redirecting error triggered"),c.close=function(){osn.util.navigateToContextRoot({trigger:!0})}),t.contains(h,e[0].returnValue.ResourceID)?("waggle.object.WrongObjectTypeException"===e[0].returnValue.ResourceID&&(c.message=osn.i18n.t("invalidId")),osn.events.trigger("error",c)):"waggle.modules.api.LoginRequired"===e[0].returnValue.ResourceID&&osn.events.trigger("sessionexpiry")):n.isSSOLoginPage(e)&&osn.events.trigger("sessionexpiry"),u.reject(e))})),t.each(d,(function(e){s[JSON.stringify(e)]=u})),m.length?e.when.apply(null,m.concat([u])):u.promise())}}},osn.events.on("fc-init",(function(e){s(e),osn.events.off("fc-init")}))})),define("core/cache",["jquery","underscore","core/osnGlobals","core/fc"],(function(e,t,osn){"use strict";var i,n,s,o;return n=function(e,t){e[t.ID]=t,osn.debug("cache",t._class+": "+t.ID+" updated")},o=function(e){e&&(e=e[0],t.isEmpty(i.XChatInfo.data[e.ID])&&(i.XChatInfo.set([{Arguments:[e]}]),"USER_ANNOTATION_GROUP"===e.Type&&osn.fc.sendRequest("XChatModule$Server","getChat",[e.ID])))},i={AppConfig:{set:function(e){this.data=e,osn.debug("cache","AppConfig added to cache")},setIframeSize:function(e,t){e?this.data.iframeHeight=e:delete this.data.iframeHeight,t?this.data.iframeWidth=t:delete this.data.iframeWidth},clearIframeSize:function(){delete this.data.iframeHeight,delete this.data.iframeWidth}},XLoginInfo:{set:function(e){this.data=e,osn.debug("cache","XLoginInfo added to cache"),i.me.data.id=e.UserID,i.XUserInfo.update([{Arguments:[e.UserInfo]}]),osn.events.trigger("loginInfo-updated",e)}},XUserInfo:{data:{},set:function(e){osn.debug("cache","XUserInfo added to cache "+e.ID),this.data[e.ID]=e},update:function(e){if(e&&e[0]){var t=e[0].ID?e[0]:e[0].Arguments[0];this.set(t),osn.events.trigger("userInfo-updatedUser",t.ID)}},get:function(e){return this.data[e]||osn.util.isNumeric(e)?this.data[e]:t.find(this.data,(function(t){return t.Name&&t.Name.toLowerCase()===e.toLowerCase()}))},getByName:function(e){if(!t.isEmpty(e))return t.find(this.data,(function(t){return t.Name&&t.Name.toLowerCase()===e.toLowerCase()}))},setUsers:function(e){t.each(e[0],(function(e){this.update([e])}),this)},remove:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];delete this.data[t.ID],i.XUserWallInfo.remove(t.WallID),i.XUserProfileInfo.remove(t.ID),osn.debug("cache","XUserInfo removed from cache: "+t.ID)}},XUserWallInfo:{data:{},set:function(e){var s=e[0].ID?e[0]:e[0].Arguments[0],a=[{field:"WallMemberInfo",module:"XUserInfo",id:s.WallMemberInfo.ID}];s.LastChatInfo&&(a.push({field:"LastChatInfo",module:"XChatInfo",id:s.LastChatInfo.ID}),i.XChatInfo.set([{Arguments:[s.LastChatInfo]}]),o(s.LastChatBrothersInfo)),s._wallUserId=s.WallMemberInfo.ID,s.__linkedData=a,n(this.data,t.omit(s,t.pluck(a,"field"))),i.XUserInfo.update([{Arguments:[s.WallMemberInfo]}])},remove:function(e){delete this.data[e],osn.debug("cache","XUserWallInfo removed from cache: "+e)}},XUserProfileInfo:{data:{},set:function(e){var t=e[0],n=i.XLoginInfo.data.UserID;if(n===t.ParentID){var s=i.XUserProfileInfo.data[n];s&&t.ShowMembershipMessagesDefault!==s.ShowMembershipMessagesDefault&&i.XConversationGetInfo.reset()}this.data[t.ParentID]&&(t._FieldsInfo=this.data[t.ParentID]._FieldsInfo),this.data[t.ParentID]=t},create:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];this.set([t]),osn.events.trigger("userProfileInfo-newItem",t.ParentID),osn.debug("cache","XUserProfileInfo: "+t.ParentID+" created")},update:function(e){var i=e[1]||e[0].Arguments[1];this.set([t.extend(i,t.pick(i.ParentID&&this.data[i.ParentID]||{},"CSServers"))]),osn.events.trigger("userProfileInfo-updatedItem",i.ParentID),osn.debug("cache","XUserProfileInfo: "+i.ParentID+" updated")},updateMyProfile:function(e){this.update([void 0,e[0]])},updateFieldsInfo:function(e){var t=e[1][0],i=this.data[t],n=e[0];i&&(i._FieldsInfo=n,osn.events.trigger("userProfileInfo-updatedItem",t),osn.debug("cache","XUserProfileInfo: "+t+" updated FieldsInfo"))},remove:function(e){delete this.data[e],osn.debug("cache","XUserProfileInfo removed from cache: "+e)}},XGroupInfo:{data:{},set:function(e){var t=e[0].ID?e[0]:e[0].GroupInfo?e[0].GroupInfo:e[0].Arguments[0];if(void 0!==e[0].GroupManageable)t._isManager=e[0].GroupManageable,t._isMember="NONE"!==e[0].GroupRole;else if(e[0].MethodName&&["groupInaccessible","groupAccessible"].indexOf(e[0].MethodName)>=0)t._isMember="groupAccessible"===e[0].MethodName;else if(t.Deleted)return void this.remove(e);return n(this.data,t),t},setGroups:function(e){t.each(e[0],(function(e){this.update([e])}),this)},create:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];this.set(e),osn.events.trigger("groupInfo-createdItem",t.ID),osn.debug("cache","XGroupInfo: created "+t.ID)},update:function(e){var t=this.set(e);t&&(osn.events.trigger("groupInfo-updatedItem",t.ID),osn.debug("cache","XGroupInfo: updated "+t.ID))},updateMembers:function(e){var n=e[0].ID?e[0]:e[0].Arguments[0],s=e[0].ID?e[1]:e[0].Arguments[1],o=e[0].ID?e[2]:e[0].Arguments[2],a=t.some(s,(function(e){return e.ID===i.me.data.id}),this),r=t.some(o,(function(e){return e.ID===i.me.data.id}),this);(a||r)&&osn.fc.sendRequest([osn.models.GroupModel.getRequests({id:n.ID,force:!0})]),this.set(e),osn.debug("cache","XGroupInfo: "+n.ID+" membership updated.")},remove:function(e){var n=e[0].ID?e[0]:e[0].Arguments[0];if(n.WallID=this.data[n.ID]?this.data[n.ID].WallID:void 0,delete this.data[n.ID],n.WallID)i.XGroupWallInfo.remove([{ID:n.WallID}]);else{var s=t.find(i.XGroupWallInfo.data,(function(e){return e._wallGroupId===n.ID}));s&&i.XGroupWallInfo.remove([{ID:s.ID}])}osn.events.trigger("groupInfo-removedItem",n.WallID)}},XGroupWallInfo:{data:{},set:function(e){var s=e[0].ID?e[0]:e[0].Arguments[0],a=[{field:"WallMemberInfo",module:"XGroupInfo",id:s.WallMemberInfo.ID}];s.LastChatInfo&&(a.push({field:"LastChatInfo",module:"XChatInfo",id:s.LastChatInfo.ID}),i.XChatInfo.set([{Arguments:[s.LastChatInfo]}]),o(s.LastChatBrothersInfo)),s._wallGroupId=s.WallMemberInfo.ID,s.__linkedData=a,n(this.data,t.omit(s,t.pluck(a,"field"))),i.XGroupInfo.set([{Arguments:[s.WallMemberInfo]}])},remove:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];delete this.data[t.ID],osn.debug("cache","XGroupWallInfo removed from cache: "+t.ID)}},XHashTagInfo:{data:{},get:function(e){var t=e.toLowerCase();return this.data[t]},set:function(e){var t=e.Name.toLowerCase();return this.data[t]=e,t},handleFind:function(e){var t=e[0];t&&this.set(t)},handleUpdate:function(e){var t=e[0].Arguments[0],i=this.set(t);osn.events.trigger("hashtagInfo-updated",i)},handleAdd:function(e){var t=e[0].Arguments[0],n=e[0].Arguments[1],s=this.set(t);i.XChatInfo.set([n]),osn.events.trigger("hashtagInfo-added",s,n.ID)},handleRemove:function(e){var t=e[0].Arguments[0],n=e[0].Arguments[1],s=this.set(t);i.XChatInfo.set([n]),osn.events.trigger("hashtagInfo-removed",s,n.ID)}},XOneOnOneInfo:{data:{},set:function(e){var n=e[0].ID?e[0]:e[0].Arguments[0],s=n.OneOnOneUserInfo1,a=n.OneOnOneUserInfo2,r=[{field:"OneOnOneUserInfo1",module:"XUserInfo",id:s.ID},{field:"OneOnOneUserInfo2",module:"XUserInfo",id:a.ID}];n.LastChatInfo&&(r.push({field:"LastChatInfo",module:"XChatInfo",id:n.LastChatInfo.ID}),i.XChatInfo.set([n.LastChatInfo]),o(n.LastChatBrothersInfo)),i.XUserInfo.update([s]),i.XUserInfo.update([a]),n.__linkedData=r,this.data[n.ID]=t.omit(n,"OneOnOneUserInfo1","OneOnOneUserInfo2","LastChatInfo"),osn.debug("cache","XOneOnOneInfo added to cache: "+n.ID)}},XConvInfo:{data:{},set:function(e){var s=e[0].ID?e[0]:e[0].Arguments[0];"XConvInfo"===s._class?s.LastChatInfo?(s.__linkedData=[{field:"LastChatInfo",module:"XChatInfo",id:s.LastChatInfo.ID}],n(this.data,t.omit(s,"LastChatInfo")),i.XChatInfo.set([{Arguments:[s.LastChatInfo]}]),o(s.LastChatBrothersInfo)):n(this.data,s):i[s._class].set(e)},create:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];osn.fc.sendRequest("XConversationModule$Server","getConversation",[t.ConversationID]),osn.events.trigger("convInfo-createdItem",t.ConversationID),osn.debug("cache","XConvInfo: "+t.ConversationID+" created")},update:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];this.set(e),osn.events.trigger("convInfo-updatedItem",t.ConversationID),osn.debug("cache","XConvInfo: "+t.ConversationID+" updated")},updateProperties:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];this.set(e),osn.events.trigger("convInfo-updatedProperties",t.ConversationID),osn.debug("cache","XConvInfo: "+t.ConversationID+" updatedProperties")},updateState:function(e){var t=e[0].ID?e[0]:e[0].Arguments[0];this.set(e),osn.events.trigger("convInfo-updatedState",t),osn.debug("cache","XConvInfo: "+t.ConversationID+" state updated")},updateMembers:function(e){var n=e[0].ID?e[0]:e[0].Arguments[0],s=e[0].ID?e[1]:e[0].Arguments[1];t.some(s,(function(e){return e.ID===i.me.data.id}),this)&&!i.XConversationGetInfo.data[n.ConversationID]?this.create(e):this.update(e),osn.debug("cache","XConvInfo: "+n.ConversationID+" membership updated.")},remove:function(e){var t=e[0].ID||e[0].Arguments[0].ID;delete this.data[t],osn.debug("cache","XConvInfo removed from cache: "+t)}},XConversationGetInfo:{data:{__requests:[]},set:function(e){var n=e[0],s=n.ConversationInfo,o={field:"ConversationInfo",module:s._class,id:s.ID};this.data[s.ID]=t.omit(n,"ConversationInfo"),this.data[s.ID].__linkedData=[o],s.PrimaryExternalID&&(this.data[s.PrimaryExternalID]=this.data[s.ID]),osn.debug("cache","XConversationGetInfo: "+s.ID+" set"),i.XConvInfo.set([s])},updateConversation:function(e){if(!t.isUndefined(e[0])){var i=e[0].ConversationInfo.ID;this.data[i]?(osn.debug("cache","XConversationGetInfo: "+i+" updated"),this.set(e),osn.events.trigger("convGetInfo-updatedItem",i)):(osn.debug("cache","XConversationGetInfo: "+i+" created"),this.set(e),osn.events.trigger("convGetInfo-newItem",i))}},updateConversationAccessible:function(e){var t=e[0].Arguments[0],n=e[0].Arguments[1],s=t.ConversationID,o=osn.util.getModuleName(t.ConversationObjectType),a=this.data[s];a&&(a.ConversationRole=n),i.me.removeFromInaccessibleConversations(s),osn.debug("cache","XConversationGetInfo: updating conversation role to: "+n),osn.events.trigger("convGetInfo-updateRole",{id:s,role:n,isPublic:t.Discoverable}),i[o].set(e)},updateConversationInaccessible:function(e){var t,n=e[0].Arguments[0],s=n.ConversationID,o=osn.util.getModuleName(n.ConversationObjectType),a=this.data[s],r=n.Discoverable;r?(t="DISCOVERER",a?(a.ConversationRole=t,i[o].set(e)):osn.fc.sendRequest("XConversationModule$Server","getConversation",[s])):(t="NONE",this.remove(s),i[o].data[s]&&i[o].remove([i[o].data[s]]),i.me.addToInaccessibleConversations(s),i.XFollowupChatInfo.updateInaccessibleFollowups(s)),osn.events.trigger("convGetInfo-updateRole",{id:s,role:t,isPublic:r})},updateShowMembershipMessages:function(e){var t=e[0].Arguments[0],i=e[0].Arguments[1],n=t.ConversationID,s=this.data[n];s&&(s.EffectiveShowMembershipMessages=i,osn.events.trigger("convGetInfo-updateShowMembershipMessages",{id:n,isShowMessages:i}))},updateConversationsDetail:function(e){var n=e[0].ConversationInfos;e[1]&&e[1][0]&&this.data.__requests.push(e[1][0]),t.each(n,(function(n){var s=n.Conversation;i.XConversationGetInfo.data[s.ConversationInfo.ID];n.LastFollowedHashTagChat&&(s.ConversationInfo.LastChatInfo=n.LastFollowedHashTagChat,t.isEmpty(i.XChatInfo.data[n.LastFollowedHashTagChat.ID])&&i.XChatInfo.set([n.LastFollowedHashTagChat])),s.ConversationInfo.LastChatInfo&&(s.ConversationInfo.LastChatInfo._LimitedFollowupEnabled=e[0].LimitedFollowupEnabled),this.set([s])}),this),osn.debug("cache","XConversationGetInfo: updated with "+(n?n.length:0)+" entries")},updateWithNewChat:function(e){var n,s,o=e[0].Arguments[0],a=osn.util.getModuleName(o.ConversationObjectType),r=this.data[o.ConversationID],l=i[a].data[o.ConversationID],c={field:"LastChatInfo",module:"XChatInfo",id:o.ID};r?(o.CreatedTimestamp===o.ModifiedTimestamp&&(r.ReadInfo.NChats+=1,o.Ordinal&&(r.ReadInfo.NMarkableChats+=1,r.ReadInfo.NUnread+=1)),osn.debug("cache","XConversationGetInfo updated with chat: "+o.ID),o.CreatedByUserID!==i.me.data.id&&osn.events.trigger("convGetInfo-updateReadInfo",{id:o.ConversationID,readInfo:r.ReadInfo})):this.data.__requests.length&&osn.fc.sendRequest("XConversationModule$Server","getConversation",[o.ConversationID]),l&&((n=l.__linkedData)?(s=t.find(n,(function(e){return"XChatInfo"===e.module})))?s.id=o.ID:n.push(c):l.__linkedData=[c],osn.debug("cache",a+" updated with chat: "+o.ID),osn.events.trigger("convInfo-updatedItem",o.ConversationID))},updateReadInfo:function(e){var t=e[1][0],i=this.data[t],n=e[0];i&&(i.ReadInfo=n),osn.events.trigger("convGetInfo-updateReadInfo",{id:t,readInfo:n})},chatsReadInfoChanged:function(e){var t=e[0].Arguments;this.updateReadInfo({0:t[1],1:[t[0]]})},updateConversationMuted:function(e){var t=e[0].Arguments[0],i=e[0].Arguments[1],n=this.data[t.ID];n&&(n.ConversationMuted=i),osn.debug("cache","XConversationGetInfo: "+t.ID+" Muted value updated"),osn.events.trigger("convGetInfo-updateMuted",{id:t.ID,muted:i})},updateNew:function(e){var t=e[0].Arguments[0].ConversationID,n=e[0].Arguments[0].UserID,s=this.data[t];s&&n===i.me.data.id&&(s.New=!1,this.data[t]=s,osn.debug("cache","XConversationGetInfo: "+t+" New value updated"),osn.events.trigger("convGetInfo-updateNew",t))},remove:function(e){var i;i=t.isObject(e)?e[0].__linkedData?e[0].__linkedData[0].id:e[0].Arguments[0].__linkedData[0].id:e,delete this.data[i],osn.debug("cache","XConversationGetInfo removed from cache: "+i),osn.events.trigger("convGetInfo-removedItem",i)},reset:function(){this.data={__requests:[]},osn.debug("cache","resetting the XConversationGetInfo cache module")}},XConversationMapInfo:{data:{},set:function(e){var i=e[0],n=e[1][0].ConversationID;(i=this._isWall(n)?this._reorderWallMap(i,n):i)._conversationId=n,i._elementsByType={unread:t.filter(i.Elements,(function(e){return"CHAT_UNREAD"===e.Type})),flags:t.filter(i.Elements,(function(e){return"FOLLOWUP_ASSIGNEE_UNREAD"===e.Type||"FOLLOWUP_ASSIGNEE_READ"===e.Type}))},delete i.Elements,this.data=i,osn.debug("cache","Triggering convMap event for Conversation with ID: "+n),osn.events.trigger("convMapInfo-mapChanged",n)},get:function(e){return this.data._conversationId===e?this.data:{}},conversationInaccessible:function(e){var t=e[0].Arguments[0].ConversationID;this.data._conversationId===t&&(this.data._elementsByType.flags=[],osn.events.trigger("convMapInfo-mapChanged",t))},chatCreated:function(e){var n,s,o,a,r=e[0].Arguments[0];this.data._conversationId===r.ConversationID&&(n=this._isWall(this.data._conversationId),r.ParentID===this.data._conversationId?a=n?0:this.data.ChatIDs.length:(o=t.indexOf(this.data.ChatIDs,r.ParentID),s=t.lastIndexOf(this.data.ParentIDs,r.ParentID),a=Math.max(o,s)+1),this.data.ChatIDs.splice(a,0,r.ID),this.data.ParentIDs.splice(a,0,r.ParentID),this.data.Ordinals.splice(a,0,r.Ordinal),t.each(this.data._elementsByType.unread,(function(e){e.Number>=a&&(e.Number+=1)})),t.each(this.data._elementsByType.flags,(function(e){e.Number>=a&&(e.Number+=1)})),r.Ordinal&&r.CreatedByUserID!==i.me.data.id&&this._unread(r.ID,a,!0),osn.events.trigger("convMapInfo-mapChanged",r.ConversationID))},chatsRead:function(e){var i=e[0].Arguments,n=i[0],s=i[1],o=this;this.data._conversationId===n&&(t.each(this.data.Ordinals,(function(e,i){t.contains(s,e)&&o._read(i)})),osn.events.trigger("convMapInfo-mapChanged",n))},chatsAllRead:function(e){var t=e[0].Arguments[0];this.data._conversationId===t&&(this.data._elementsByType.unread=[],osn.events.trigger("convMapInfo-mapChanged",t))},chatsUnread:function(e){var i=e[0].Arguments,n=i[0],s=i[1],o=this;this.data._conversationId===n&&(t.each(this.data.Ordinals,(function(e,i){t.contains(s,e)&&o._unread(o.data.ChatIDs[i],i)})),osn.events.trigger("convMapInfo-mapChanged",n))},followupsOpened:function(e){var n,s=e[0].Arguments,o=s[0],a=s[1],r=s[2];this.data._conversationId===o&&t.contains(r,i.me.data.id)&&(this._hasFlag(a)||(-1!==(n=t.indexOf(this.data.ChatIDs,a))&&this._flag(this.data.ChatIDs[n],n),osn.events.trigger("convMapInfo-mapChanged",o)))},followupsClosed:function(e){var n,s=e[0].Arguments,o=s[0],a=s[1],r=s[2];this.data._conversationId===o&&t.contains(r,i.me.data.id)&&(-1!==(n=t.indexOf(this.data.ChatIDs,a))&&this._unflag(n),osn.events.trigger("convMapInfo-mapChanged",o))},_read:function(e){this._removeElement("unread",e)},_unread:function(e,t){this._addElement("unread",e,t,"CHAT_UNREAD")},_flag:function(e,t){this._addElement("flags",e,t,"FOLLOWUP_ASSIGNEE_UNREAD")},_unflag:function(e){this._removeElement("flags",e)},_hasFlag:function(e){var i=this.data._elementsByType.flags;return t.some(i,(function(t){return t.ChatID===e}))},_addElement:function(e,i,n,s){var o=this.data._elementsByType[e];o.push({ChatID:i,Number:n,Type:s}),this.data._elementsByType[e]=t.sortBy(o,t.property("Number"))},_removeElement:function(e,i){var n=this.data._elementsByType[e],s=t.indexOf(t.pluck(n,"Number"),i,!0);return-1!==s&&(n.splice(s,1),!0)},_isWall:function(e){var t=osn.util.getXConversationInfoFromCache(e);return osn.util.isUserWall(t)||osn.util.isGroupWall(t)},_reorderWallMap:function(e,i){var n=[];return t.each(e.ChatIDs,(function(s,o){var a=e.ParentIDs[o],r=e.Ordinals[o],l=a!==i;n.push({id:s,parent:a,ordinal:r,elements:[],parentOrdinal:l?t.last(n).parentOrdinal:r})})),t.each(e.Elements,(function(e){n[e.Number].elements.push(e)})),n.sort((function(e,t){return e.parentOrdinal===t.parentOrdinal?e.ordinal-t.ordinal:t.parentOrdinal-e.parentOrdinal})),t.each(n,(function(e,i){t.each(e.elements,(function(e){e.Number=i}))})),{ChatIDs:t.pluck(n,"id"),ParentIDs:t.pluck(n,"parent"),Ordinals:t.pluck(n,"ordinal"),Elements:t.flatten(t.pluck(n,"elements"))}}},XChatInfo:{data:{__requests:[]},set:function(e){var s,o=e[0].ID?e[0]:e[0].Arguments[0];o.CommentOnID&&this.addNewComment(o.CommentOnID,o.ID),o.CommentByInfos&&(o.__linkedData=o.__linkedData||[],o.__linkedData.push({field:"CommentByInfos",module:"XChatInfo",ids:[]}),t.each(o.CommentByInfos,(function(e){o.__linkedData[0].ids.push(e.ID),i.XChatInfo.set([{Arguments:[e]}])}),this)),o.FollowupInfos&&(o.__linkedData=o.__linkedData||[],o.__linkedData.push({field:"FollowupInfos",module:"XFollowupInfo",ids:[]}),s="FollowupInfos"===o.__linkedData[0].field?0:1,t.each(o.FollowupInfos,(function(e){o.__linkedData[s].ids.push(e.ID),i.XFollowupInfo.set([{Arguments:[e]}])}),this)),o.AssociatedArtifactInfo&&"XVersionInfo"===o.AssociatedArtifactInfo._class&&(o.__linkedData=o.__linkedData||[],o.__linkedData.push({field:"AssociatedArtifactInfo",module:"XVersionInfo",id:o.AssociatedArtifactInfo.ID}),i.XVersionInfo.set([o.AssociatedArtifactInfo])),n(this.data,t.omit(o,["CommentByInfos","FollowupInfos","AssociatedArtifactInfo"]))},create:function(t){this.set(t);var n,s,o=t[0].ID?t[0]:t[0].Arguments[0];o.CommentOnID&&"USER_CHAT"===o.Type?(n=this.data[o.CommentOnID],(s={id:o.CommentOnID,data:e.extend(!0,{},o),isAnnotationReply:n&&"USER_ANNOTATION"===n.Type}).isAnnotationReply&&(s.versionId=n.AnnotatedArtifactInfo.ID),osn.debug("cache","XChatInfo: created reply "+o.ID),osn.events.trigger("chatInfo-createdReply",s)):(osn.debug("cache","XChatInfo: created chat "+o.ID),"USER_ANNOTATION"===o.Type&&i.XVersionInfo.addAnnotation(o),"USER_ANNOTATION_GROUP"!==o.Type&&osn.events.trigger("chatInfo-createdItem",{id:o.ConversationID,data:e.extend(!0,{},o)}))},update:function(e){this.set(e);var t=e[0].ID?e[0]:e[0].Arguments[0];i.XFollowupChatInfo.update([t]),osn.events.trigger("chatInfo-updatedItem",t.ID),t.Removed&&osn.events.trigger("chatInfo-removedItem",t)},updates:function(e){e[1]&&this.data.__requests.push(e[1]),t.each(e[0],(function(e){this.update([e])}),this)},addNewComment:function(e,i){var n,s=this.data[e],o=function(t){s.__linkedData=t,osn.debug("cache","XChatInfo: adding reply to linkedData for "+e),s.__linkedData.push({field:"CommentByInfos",module:"XChatInfo",ids:[i]})};s&&(s.CommentByTotal=s.CommentByTotal?s.CommentByTotal+1:1,s.__linkedData?(n=t.find(s.__linkedData,(function(e){return"CommentByInfos"===e.field})))?-1===t.indexOf(n.ids,i)&&(osn.debug("cache","XChatInfo: adding reply to linkedData for "+e),n.ids.push(i),"USER_ANNOTATION_GROUP"===s.Type&&osn.events.trigger("annotationGroupUpdated",s)):o(s.__linkedData):o([]))},updateRequestTracking:function(e){var i=e[1][0];osn.debug("cache","XChatInfo: removing entries in __requests with ID: "+i),this.data.__requests=t.filter(this.data.__requests,(function(e){return e[0]!==i}))},remove:function(e){var t=e[0].ID||e[0].Arguments[0].ID;delete this.data[t],osn.debug("cache","XChatInfo removed from cache: "+t)}},XChatTypeInfo:{data:{},set:function(e){t.each(e[0],(function(e){this.data[e.Type]=e}),this),osn.debug("cache","XChatTypeInfo added to cache")}},XFollowupInfo:{data:{},set:function(e){n(this.data,e[0].Arguments[0])},followupOpened:function(e){var t=e[0].Arguments,n=t[2];osn.fc.sendRequest("XChatModule$Server","getChat",[t[1]]).done(i.XFollowupChatInfo.update),osn.events.trigger("followupsUpdated",{type:"opened",chatId:t[1],assigneeIds:n,followupInfo:t[4]}),osn.debug("cache","XFollowupInfo added to chat: "+t[1])},followupClosed:function(e){var t=e[0].Arguments,n=t[2];osn.fc.sendRequest("XChatModule$Server","getChat",[t[1]]).done(i.XFollowupChatInfo.update),osn.events.trigger("followupsUpdated",{type:"closed",chatId:t[1],assigneeIds:n}),osn.debug("cache","XFollowupInfo removed from chat: "+t[1])}},XFollowupChatInfo:{data:{__requests:[]},set:function(e){e[1]&&e[1].length&&this.data.__requests.push(e[1][0]),t.each(e[0],(function(e){var t=e.ChatInfo,n=e.FollowupInfo,s=t.ID+"_"+n.ID;this.data[s]={__linkedData:[{field:"ChatInfo",module:"XChatInfo",id:t.ID,ConversationID:t.ConversationID},{field:"FollowupInfo",module:"XFollowupInfo",id:n.ID}]},i.XChatInfo.set([{Arguments:[t]}]),i.XFollowupInfo.set([{Arguments:[n]}])}),this)},update:function(e){var i=e[0].returnValue||e[0],n=new RegExp("^"+i.ID+"_"),s=t.filter(t.keys(this.data),(function(e){return e.match(n)})),o=t.map(i.FollowupInfos,(function(e){return i.ID+"_"+e.ID})),a=t.difference(o,s),r=t.difference(s,o);r.length&&t.each(r,(function(e){delete this.data[e],osn.events.trigger("followupChatInfo-removedItem",e)}),this),a.length&&t.each(a,(function(e){var t=e.split("_");this.data[e]={__linkedData:[{field:"ChatInfo",module:"XChatInfo",id:t[0],ConversationID:i.ConversationID},{field:"FollowupInfo",module:"XFollowupInfo",id:t[1]}]},osn.events.trigger("followupChatInfo-newItem",e)}),this)},updateInaccessibleFollowups:function(e){var n=t.filter(this.data,(function(t){if(t.__linkedData&&"XChatInfo"===t.__linkedData[0].module)return t.__linkedData[0].ConversationID===e}));n.length&&t.each(n,(function(e){var t=e.__linkedData[0].id+"_"+e.__linkedData[1].id;delete this.data[t],osn.events.trigger("followupChatInfo-removedItem",t),osn.events.trigger("followupsUpdated",{type:"closed",chatId:e.__linkedData[0].id,assigneeIds:[i.me.data.id]})}),this)}},XFileInfo:{data:{},set:function(e){var s=e[0];s.__linkedData=[{field:"HeadVersionInfo",module:"XVersionInfo",id:s.HeadVersionInfo.ID}],osn.debug("cache","XFileInfo added to cache: "+s.ID),i.XVersionInfo.set([s.HeadVersionInfo]),n(this.data,t.omit(s,"HeadVersionInfo"))},versionAdded:function(e){var t=e[0].Arguments[0];this.set([t]),osn.debug("cache","XFileInfo version added to file: "+t.ID),osn.events.trigger("XFileInfo-versionAdded",t.ID)},versionRemoved:function(e){var t=e[0].Arguments[0],i=e[0].Arguments[1];(this.data[t.ID]&&this.data[t.ID].__linkedData[0].id)===i.ID&&(osn.debug("cache","XFileInfo head version removed from file: "+t.ID),t.HeadVersionInfo?this.set([t]):delete this.data[t.ID],osn.events.trigger("XFileInfo-headVersionRemoved",t.ID))},artifactMoved:function(e){var t=e[0].Arguments[0];"XFileInfo"===t._class&&this.set([t])}},XVersionInfo:{data:{},set:function(e){osn.debug("cache","XVersionInfo added to cache: "+e[0].ID),n(this.data,e[0])},renditionsReady:function(e){var t=e[0].Arguments[1];n(this.data,t),osn.debug("cache","XVersionInfo renditions ready: "+t.ID),osn.events.trigger("XVersionInfo-renditionsReady",t.ID)},remove:function(e){var t=e[0].Arguments[1];delete this.data[t.ID],osn.debug("cache","XVersionInfo removed from cache: "+t.ID),osn.events.trigger("XVersionInfo-versionRemoved",t.ID)},addAnnotation:function(e){var t=e.AnnotatedArtifactInfo;n(this.data,t),osn.debug("cache","XVersionInfo annotation added to: "+t.ID),osn.events.trigger("XVersionInfo-annotationAdded",{versionId:t.ID,chatId:e.ID})}},UserPropertyInfo:{data:{},set:function(e){var i=e[0].ID?e[0][1]:e[0].Arguments[1];t.each(i,(function(e){this.data[e.PropertyName]=e,osn.debug("cache","UserPropertyInfo added to cache: "+e.PropertyName)}),this)}},XPropertyInfo:{data:{},set:function(e){var i=e[0];t.each(i,(function(e){this.data[e.PropertyName]=e,osn.events.trigger("propertyChanged",e.PropertyName),osn.debug("cache","XPropertyInfo added to cache: "+e.PropertyName)}),this)},remove:function(e){delete this.data[e]}},XAdminInfo:{data:{},set:function(e){e[0]&&e[0].length>0&&e[0][0]._class&&(this.data[e[0][0]._class]=e[0])}},PictureDataUri:{data:{},set:function(e){e[0]?(this.data[e[1]]={value:e[0],setBySystem:!!e[2]},osn.debug("cache","triggering event: pictureDataUpdated. PictureDataUri for user ID: "+e[1]+" updated"),osn.events.trigger("pictureDataUpdated",{id:e[1][0],data:this.data[e[1]].value})):(this.data[e[1]]={value:null},osn.events.trigger("pictureDataUpdated",{id:e[1][0]}))}},me:{data:{favorites:[],likes:[],notificationSettings:[],inaccessibleConversations:[]},setFavorites:function(e){this.data.favorites=e[0]},addFavorite:function(e){var t=e[0].Arguments[0].ID;osn.debug("cache","Favorite added for: "+t),this.data.favorites.push(t),osn.events.trigger("updateFavorite",{id:t,favorite:!0})},removeFavorite:function(e){var i=e[0].Arguments[0].ID;osn.debug("cache","Favorite removed for: "+i),this.data.favorites=t.without(this.data.favorites,i),osn.events.trigger("updateFavorite",{id:i,favorite:!1})},setLikes:function(e){this.data.likes=e[0]},addLike:function(e){var t;e[0].Arguments[1]===this.data.id&&(t=e[0].Arguments[0].ID,osn.debug("cache","Like added for chat: "+t),this.data.likes.push(t),osn.events.trigger("updateLike",{id:t,like:!0}))},removeLike:function(e){var i;e[0].Arguments[1]===this.data.id&&(i=e[0].Arguments[0].ID,osn.debug("cache","Like removed for chat: "+i),this.data.likes=t.without(this.data.likes,i),osn.events.trigger("updateLike",{id:i,like:!1}))},setNotificationSettings:function(e){this.data.notificationSettings=e[0]},addToInaccessibleConversations:function(e){this.data.inaccessibleConversations.push(e)},removeFromInaccessibleConversations:function(e){this.data.inaccessibleConversations=t.without(this.data.inaccessibleConversations,e)}}},s=function(e){var t=e[0].Arguments[0];i.XUserInfo.data[t]?i.XPropertyInfo.set([e[0].Arguments[1]]):osn.debug("cache","PROPERTY CHANGED: "+JSON.stringify(e[0]))},t.each(i,(function(e){t.each(e,(function(i,n){t.isFunction(i)&&(e[n]=t.bind(i,e))}))})),osn.events.on("setAppConfig",(function(e,t){i.AppConfig.set(e),t||osn.events.off("setAppConfig")})),osn.events.on("getLoginInfo",(function(e,t){i.XLoginInfo.set(e[0]),t||(osn.events.off("getLoginInfo"),localStorage.loginInfo=JSON.stringify(e[0]))})),osn.events.on("getChatTypes",(function(e){i.XChatTypeInfo.set(e),osn.events.off("getChatTypes")})),osn.events.on("setIframeSize",i.AppConfig.setIframeSize),osn.events.on("clearIframeSize",i.AppConfig.clearIframeSize),osn.events.on("userLoggedIn userLoggedOut userUpdated getUser getUserByName userProfileUpdated",i.XUserInfo.update),osn.events.on("getUsers getLikersPaged getGroupMembersPaged",i.XUserInfo.setUsers),osn.events.on("getConversationMembers getConversationMembershipSortedPaged",(function(e){var n=e[0].MemberInfos||e[0];t.each(n,(function(e){i[e.MemberInfo._class].update([e.MemberInfo])}))})),osn.events.on("userDeleted",i.XUserInfo.remove),osn.events.on("propertiesChanged",s),osn.events.on("userPropertiesChanged",i.UserPropertyInfo.set),osn.events.on("getSpecifiedProperties",i.XPropertyInfo.set),osn.events.on("getLocales getDateFormats getTimeZones",i.XAdminInfo.set),osn.events.on("getProfileNotificationSettings",i.me.setNotificationSettings),osn.events.on("chatCreated",i.XChatInfo.create),osn.events.on("chatUpdated getChat likeAdded likeRemoved",i.XChatInfo.update),osn.events.on("getLastChatsFiltered getPreviousChatsFiltered getNextChatsFiltered getAroundChatsFiltered",i.XChatInfo.updates),osn.events.on("chatDeleted",i.XChatInfo.remove),osn.events.on("joinDiscoverableConversation",i.XChatInfo.updateRequestTracking),osn.events.on("findFollowups",i.XFollowupChatInfo.set),osn.events.on("followupsOpened",i.XFollowupInfo.followupOpened),osn.events.on("followupsClosed",i.XFollowupInfo.followupClosed),osn.events.on("groupCreated",i.XGroupInfo.create),osn.events.on("groupUpdated groupNameChanged getGroup getGroupDetails groupInaccessible",i.XGroupInfo.update),osn.events.on("groupMembershipChanged groupMembersChanged groupMembersChangedOnDemand",i.XGroupInfo.updateMembers),osn.events.on("groupDeleted groupDestroyed",i.XGroupInfo.remove),osn.events.on("findHashTagByName",i.XHashTagInfo.handleFind),osn.events.on("hashTagUpdated",i.XHashTagInfo.handleUpdate),osn.events.on("hashTagAdded",i.XHashTagInfo.handleAdd),osn.events.on("hashTagRemoved",i.XHashTagInfo.handleRemove),osn.events.on("hashTagFollowAdded",(function(e){i.me.addFollowingHashTagID(e),i.XHashTagInfo.handleUpdate(e)})),osn.events.on("hashTagFollowRemoved",(function(e){i.me.removeFollowingHashTagID(e),i.XHashTagInfo.handleUpdate(e)})),osn.events.on("conversationCreated",i.XConvInfo.create),osn.events.on("conversationNameChanged conversationUpdated conversationDiscoverableChanged lastChatChanged",i.XConvInfo.update),osn.events.on("conversationStateChanged",i.XConvInfo.updateState),osn.events.on("conversationMembersChanged conversationMembershipChanged",i.XConvInfo.updateMembers),osn.events.on("getScaledProfilePictureDataUri getMyScaledProfilePictureDataUri getScaledWebhookPictureDataUri",i.PictureDataUri.set),osn.events.on("getMyProfile getProfile",i.XUserProfileInfo.create),osn.events.on("getProfileFieldsInfo",i.XUserProfileInfo.updateFieldsInfo),osn.events.on("userProfileUpdated",i.XUserProfileInfo.update),osn.events.on("updateMyProfile",i.XUserProfileInfo.updateMyProfile),osn.events.on("getVersion",i.XVersionInfo.set),osn.events.on("versionRenditionsReady",i.XVersionInfo.renditionsReady),osn.events.on("versionRemoved",i.XVersionInfo.remove),osn.events.on("getDocument",i.XFileInfo.set),osn.events.on("versionAdded versionUnremoved",i.XFileInfo.versionAdded),osn.events.on("versionRemoved",i.XFileInfo.versionRemoved),osn.events.on("artifactMoved",i.XFileInfo.artifactMoved),osn.events.on("conversationShowMembershipMessagesChanged",i.XConversationGetInfo.updateShowMembershipMessages),osn.events.on("getConversation getConversationByPrimaryExternalID getWallConversation getConversationIfAccessible",i.XConversationGetInfo.updateConversation),osn.events.on("conversationAccessible conversationAccessibleChanged",i.XConversationGetInfo.updateConversationAccessible),osn.events.on("conversationInaccessible",i.XConversationGetInfo.updateConversationInaccessible),osn.events.on("chatCreated",i.XConversationGetInfo.updateWithNewChat),osn.events.on("getConversationsDetail",i.XConversationGetInfo.updateConversationsDetail),osn.events.on("conversationMutedChanged",i.XConversationGetInfo.updateConversationMuted),osn.events.on("conversationEntered",i.XConversationGetInfo.updateNew),osn.events.on("getChatsRead",i.XConversationGetInfo.updateReadInfo),osn.events.on("chatsReadInfoChanged",i.XConversationGetInfo.chatsReadInfoChanged),osn.events.on("searchSummary searchUsers searchGroups",(function(e){var n=t.pluck(e[0],"ObjectInfo"),s=t.filter(n,(function(e){return"XUserInfo"===e._class})),o=t.filter(n,(function(e){return"XGroupInfo"===e._class}));i.XUserInfo.setUsers([s]),i.XGroupInfo.setGroups([o])})),osn.events.on("getConversationMap",i.XConversationMapInfo.set),osn.events.on("conversationInaccessible",i.XConversationMapInfo.conversationInaccessible),osn.events.on("chatCreated",i.XConversationMapInfo.chatCreated),osn.events.on("chatsRead",i.XConversationMapInfo.chatsRead),osn.events.on("chatsAllRead",i.XConversationMapInfo.chatsAllRead),osn.events.on("chatsUnread",i.XConversationMapInfo.chatsUnread),osn.events.on("followupsOpened",i.XConversationMapInfo.followupsOpened),osn.events.on("followupsClosed",i.XConversationMapInfo.followupsClosed),osn.events.on("getStarIDs",i.me.setFavorites),osn.events.on("starAdded",i.me.addFavorite),osn.events.on("starRemoved",i.me.removeFavorite),osn.events.on("getLikeIDs",i.me.setLikes),osn.events.on("likeAdded",i.me.addLike),osn.events.on("likeRemoved",i.me.removeLike),osn.events.on("conversationMembersChanged conversationMembershipChanged groupMembersChanged groupMembershipChanged",(function(e){var n=e[0].Arguments[1],s=e[0].Arguments[2],o=n.concat(s),a=e[0].ID?e[0]:e[0].Arguments[0],r="XGroupInfo"===a._class?"groupInfo":"convInfo",l={id:a.ID},c=e[0].MethodName.indexOf("MembershipChanged")>0?"membershipChanged":"membersChanged";t.each(o,(function(e){i[e._class].update([e])})),(n.length<2&&!s.length||s.length<2&&!n.length)&&(l.addedMembers=n,l.removedMembers=s),l.changes={addedMembers:n,removedMembers:s},osn.debug("cache","Membership change handler triggered '"+r+"-"+c+"'' with payload "+JSON.stringify(l)),osn.events.trigger(r+"-"+c,l)})),osn.cache={get:function(n,s,o){var a;if(o=o||{},n)if("ALL"===n)a={},t.each(i,(function(t,i){a[i]=e.extend(!0,{},t.data)}));else if("XUserInfo"===n&&o.byName)a=e.extend(!0,{},i.XUserInfo.getByName(s));else{var r=i[n];r&&r.data&&(a=void 0===s?e.extend(!0,{},r.data):e.extend(!0,{},r.get?r.get(s):r.data[s]))}return a}},osn.cache})),define("core/authz",["jquery","underscore","core/osnGlobals","core/util/util","core/cache","core/util/FeatureFlags","core/util/Globals","core/embedapi/EmbedApi"],(function(e,t,osn){"use strict";var i,n,s,o,a;function r(){return osn.cache.get("AppConfig")}function l(){return osn.cache.get("XLoginInfo")}return(i={Overview:{access:["never"],route:["never"],createConversation:["!meIsPublicUser"],createGroup:["never"],supportExternalUsers:["isExternalUsersEnabled"],supportExternalUsersTypeAhead:["isExternalUsersTypeAheadEnabled"],externalUsersEnabledForItem:["isExternalUsersEnabledForItem"],externalUsersTypeAheadEnabledForItem:["isExternalUsersTypeAheadEnabledForItem"],showExternalUserLinkBanner:["showExternalUserLinkBanner"]},Chat:{delete:["deletableChat"],undelete:["async_undeletableChat"],edit:["editableChat"],reply:["replyableChat"],markRead:["markableAsReadChat"],markUnread:["markableAsUnreadChat"],autoMarkRead:["autoMarkAsReadEnabled"]},Home:{access:["isHomeDashboardEnabled"],route:["isHomeDashboardEnabled"]},SitesGov:{route:["isSitesGovEnabled"],create:[""],copy:[""],createFromTemplate:[""]},Governance:{route:["isSitesGovEnabled"]},Conversation:{access:["hasAccessToConversation","!meIsPublicUser"],changeVisibility:["!changeVisibilityHidden"],enterExit:["canEnterExitConversation"],close:["meIsNotExternalUser","closeableConversation"],rename:["meIsNotExternalUser","meIsConversationMember","enabledConversation","renameableConversation","!isConversationMainForAsset","!isConversationMainForSite"],showSharebar:["meIsConversationMember","!membersHidden"],manageMembers:["!meIsPublicUser","allowMembershipChange","manageableMembership","!membersHidden","!isConversationMainForAsset","!isConversationMainForSite"],shareConversation:["meIsNotExternalUser","allowMembershipChange","manageableMembership","!membersHidden","!isConversationMainForAsset","!isConversationMainForSite"],manageSettings:["meIsNotExternalUser"],markAllRead:["meIsConversationMember"],mute:["meIsConversationMember","!isConversationMainForAsset","!isConversationMainForSite"],showHideMembershipMessages:["meIsConversationMember","!isConversationMainForDocument","!isConversationMainForAsset","!isConversationMainForSite"],discard:["!meIsPublicUser","meIsOnlyMember","!isConversationMainForDocument","!isDiscoverable","!isConversationMainForAsset","!isConversationMainForSite"],changeLanguage:["meIsConversationMember","meIsNotExternalUser","enabledConversation"],favorite:["!isAppLinkUser","!isConversationMainForAsset","!isConversationMainForSite"],accessMembersAndMore:["!isAppLinkUser","!isConvInDocsSidebar"],appLinkUserPostMessages:["isAppLinkUser"],showFindBar:["!findBarHidden"],showAddDocBtn:["!isAppLinkUser"],uploadDocument:["!meIsPublicUser","allowUpload","enabledConversation"]},ConversationMessages:{access:["!meIsPublicUser"],route:["async_validAccessToken","!meIsPublicUser","async_conversationNotMainForDocs"],create:["never"],flag:["!isAppLinkUser"]},Conversations:{access:["!meIsPublicUser","!isStarterEdition"],route:["!meIsPublicUser","allowEmbedOnlyInStarterEdition"],createConversation:["!meIsPublicUser","!embedHideNew"],createGroup:["never"]},Document:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden","!meIsPublicUser"]},Documents:{access:["!isStarterEdition"],route:["allowEmbedOnlyInStarterEdition"]},DocumentsFile:{access:["!isStarterEdition"],route:[]},Docs:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},EmbedLoginSuccess:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},EmbedLoginWait:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Experiences:{access:["!meIsPublicUser","meIsEnterpriseUser"],route:["!meIsPublicUser","meIsEnterpriseUser"],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Developer:{access:[],route:[]},SiteOptions:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},SitePlans:{access:["!meIsPublicUser","meIsEnterpriseUserOrEnterpriseExternalUser"],route:["!meIsPublicUser","meIsEnterpriseUserOrEnterpriseExternalUser"],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Sites:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},SitesTrash:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Templates:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Themes:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Components:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},Install:{access:[],route:[],delete:["!meIsPublicUser"],expand:["!meIsPublicUser"],upload:["!uploadAndCopyHidden"]},ErrorPage:{access:[],route:[]},Folder:{rename:["!meIsPublicUser"]},Flags:{access:["!meIsPublicUser"],route:["!meIsPublicUser"],create:["never"]},Favorites:{access:["never"],route:["never"],create:["never"]},Group:{accessGroupProfileView:["!meIsPublicUser","meIsGroupMember"],create:["!meIsPublicUser"],edit:["isGroupEnabled","meIsGroupManager","isGroupInternal"],rename:["isGroupEnabled","meIsGroupManager","isGroupInternal"],manageMembers:["meIsGroupMember","!meIsPublicUser","allowMembershipChange","isGroupEnabled","isGroupInternal"],startConversation:["meIsGroupManager","!meIsPublicUser","isGroupEnabled","isGroupInternal"],download:["meIsGroupMember","!meIsPublicUser"],enable:["meIsGroupManager","isGroupInternal"],changeLanguage:["meIsGroupMember","!meIsPublicUser","isGroupEnabled"]},Groups:{access:["!meIsPublicUser"],route:["!meIsPublicUser"],createConversation:["never"],createGroup:["!meIsStdExternalUser"]},GroupWall:{access:["!meIsPublicUser"],route:["!meIsPublicUser"],create:["never"],showHideMembershipMessages:["meIsGroupMember"]},GroupProfile:{access:["!meIsPublicUser"],route:["!meIsPublicUser"]},Hashtag:{access:[],route:[],create:["never","!meIsPublicUser"]},KeyboardNav:{doListActions:["!isAppLinkUser","!isConvInDocsSidebar"],jump:["!navMenuHidden"],manageMembers:["!meIsPublicUser","manageableMembership"]},OneOnOne:{manageMembers:["manageableMembership"]},People:{access:["!meIsPublicUser"]},Search:{access:[],route:[],splitFoldersDocs:["never"],create:["never"],view:["!searchMenuHidden","!meIsPublicUser"]},Preferences:{access:["!meIsPublicUser"],route:[]},Settings_Downloads:{access:["!meIsStdExternalUser"]},Analytics:{access:["meIsAnalyticsUser"],route:["meIsAnalyticsUser"]},Admin:{access:["meIsAdminOrTenant"],route:["meIsAdminOrTenant"]},Capture:{access:[],route:[]},Applications:{access:[],route:[]},Integrations:{access:[],route:[]},User:{access:["!meIsPublicUser"]},UserProfile:{access:["!meIsPublicUser"],route:["!meIsPublicUser"],create:["never"]},UserWall:{access:["!meIsPublicUser"],route:["!meIsPublicUser"],have:["never"],post:["allowWallPosts"],create:["never"]},Links:{openHashtagLink:["!isAppLinkUser"],openUserLink:["!isAppLinkUser"],openWaggleLink:["!meIsPublicUser"],triggerNavigateToAnnotation:["isConvInDocsSidebar"]},ApiDoc:{access:[],route:[]},NavMenu:{view:["!navMenuHidden","!meIsPublicUser","!isSitePlanPage"]},MastHead:{view:["!isSitePlanPage"]},BreadCrumbs:{view:["!breadCrumbsHidden"]},BackButton:{view:["showBackButton"]},Help:{view:["!helpHidden","!meIsPublicUser"]},Caas:{access:["!meIsPublicUser","meIsEnterpriseUser"],route:["!meIsPublicUser","meIsEnterpriseUser"]},EnterpriseUser:{access:["!meIsPublicUser","meIsEnterpriseUser"],route:["!meIsPublicUser","meIsEnterpriseUser"]},Assets:{access:["!meIsPublicUser","meIsEnterpriseUserOrEnterpriseExternalUser"],route:["!meIsPublicUser","meIsEnterpriseUserOrEnterpriseExternalUser"]},VBCS:{access:["!meIsPublicUser","meIsEnterpriseUser"],route:["!meIsPublicUser","meIsEnterpriseUser"]}}).All=i.Overview,n={never:function(){return!1},isStarterEdition:function(){return docs.common.Globals.isStarterEdition},allowEmbedOnlyInStarterEdition:function(){return!docs.common.Globals.isStarterEdition||docs.common.Globals.embed},meIsPublicUser:function(){var e=r();return e?e.publicUser:docs.common.Globals.isPublicUser||docs.common.Globals.isAppLinkUser},meIsStdExternalUser:function(){return docs.common.Globals.isStandardExternalUser},meIsEnterpriseUser:function(){return docs.common.Globals.isEnterpriseUser},meIsEnterpriseExternalUser:function(){return checkFeatureFlag("EnterpriseExternalUsers")&&docs.common.Globals.isEnterpriseExternalUser},meIsEnterpriseUserOrEnterpriseExternalUser:function(){return this.meIsEnterpriseUser()||this.meIsEnterpriseExternalUser()},meIsAnalyticsUser:function(){return docs.common.Globals.isEnterpriseUser&&!docs.common.Globals.isStarterEdition||docs.common.Globals.isAdmin},meIsContentAdmin:function(){return docs.common.Globals.isContentAdmin},meIsNotExternalUser:function(){return!this.meIsStdExternalUser()&&!this.meIsPublicUser()},allowMembershipChange:function(){return!r().disallowMembershipChange},uploadAndCopyHidden:function(){var e=r().hide;return e&&t.contains(e,"uploadandcopy")},documentsHidden:function(){var e=r().hide;return e&&t.contains(e,"documents")},changeVisibilityHidden:function(){return!0},meIsAdmin:function(){return l().Admin},meIsTenantAdmin:function(){return l().Tenant},meIsAdminOrTenant:function(){return this.meIsAdmin()||this.meIsTenantAdmin()},manageableMembership:function(e){var t,i;return e instanceof osn.models.ListItemModel&&(t=!(e.isOneOnOne()||"DISCOVERER"===e.get("ConversationRole")||e.isUserWall()),(i=e.get("ConversationInfo"))&&"wc/conversation"===e.get("_clientObjectType")&&i.MembersLocked?!i.MembersLocked:t)},hasAccessToConversation:function(e){return e.isCurrentUserMember()||this.isAppLinkUser(e)||e.isDiscoverer()&&!this.meIsPublicUser()},canEnterExitConversation:function(e){return e.isCurrentUserMember()||this.isAppLinkUser(e.get("ConversationInfo"))},closeableConversation:function(e){return e.isCurrentUserMember()&&!e.isOneOnOne()},enabledConversation:function(e){return!e.isClosed()},meIsConversationMember:function(e){var i;return t.isFunction(e.isCurrentUserMember)?e.isCurrentUserMember():(i=osn.cache.get("XConversationGetInfo",e).ConversationRole)&&!t.include(["DISCOVERER","NONE"],i)},meIsOnlyMember:function(e){return this.meIsConversationMember(e)&&e.isOnlyOneMember()},isDiscoverable:function(e){return e.isDiscoverable()},isConversationMainForDocument:function(e){return t.isFunction(e.isMainForDocument)?e.isMainForDocument():osn.util.isConversationMainForDocument(e)},isConversationMainForAsset:function(e){return t.isFunction(e.isMainForAsset)?e.isMainForAsset():osn.util.isConversationMainForAsset(e)},isConversationMainForSite:function(e){return t.isFunction(e.isMainForSite)?e.isMainForSite():osn.util.isConversationMainForSite(e)},renameableConversation:function(e){return!e.isOneOnOne()&&!e.isMainForDocument()},editableChat:function(e){return e.isConversationOpen()&&e.isEditable()&&e.isPostedByMe()},deletableChat:function(e){return e.isConversationOpen()&&e.isRemovable()},async_undeletableChat:function(e){return e.checkUndeletePermissions()},markableAsReadChat:function(e){return e.isMarkable()&&e.get("_unread")},markableAsUnreadChat:function(e){return e.isMarkable()&&!e.get("_unread")},autoMarkAsReadEnabled:function(){return t.isUndefined(osn.cache.get("XPropertyInfo").AUTO_MARK_READ)||t.isUndefined(osn.cache.get("XPropertyInfo").AUTO_MARK_READ.PropertyValue)||JSON.parse(osn.cache.get("XPropertyInfo").AUTO_MARK_READ.PropertyValue)},replyableChat:function(e){return e.isConversationOpen()&&e.isCommentable()},allowUpload:function(e){return"DISCOVERER"!==e.get("ConversationRole")},allowWallPosts:function(e){return e.isMyWall()},meIsGroupManager:function(e){return e.get("_isManager")||e.get("CreatedByUserID")===l().UserID},meIsGroupMember:function(e){return e.get("_isMember")},isGroupEnabled:function(e){return e.get("Enabled")},isGroupInternal:function(e){return e.get("Internal")},isHomeDashboardEnabled:function(){return!0},isSitesGovEnabled:function(){return docs.common.Globals.governanceEnabled},isExternalUsersEnabled:function(){return docs.common.Globals.standardExternalUsersEnabled},isExternalUsersTypeAheadEnabled:function(){return docs.common.Globals.standardExternalUsersTypeAheadSearchEnabled},isExternalUsersEnabledForItem:function(e){return!!(e.isFolder&&!e.get("flags").stdExternalUsersDisabled&&!e.get("parentExternalUsersDisabled")||e.isSite&&e.get("externalUserEnabled")&&!e.get("enterprise")||e.isGroup||e.isConversation)},isExternalUsersTypeAheadEnabledForItem:function(e){return this.isExternalUsersTypeAheadEnabled()&&this.isExternalUsersEnabledForItem(e)},showExternalUserLinkBanner:function(){return docs.common.Globals.externalUsersAndLinksAccessWarningEnabled},isUserEnabled:function(e){return e.get("Enabled")},isSitePlanPage:function(){return window.location.pathname.indexOf("/siteplan/")>=0},navMenuHidden:function(){return!docs.common.EmbedApi.options.v1.show_navmenu},membersHidden:function(){return!docs.common.EmbedApi.options.conversations.header.members},breadCrumbsHidden:function(){return docs.common.EmbedApi.options.conversations.breadcrumb.hide},showBackButton:function(){return docs.common.EmbedApi.options.conversations.breadcrumb.back},searchMenuHidden:function(){return!!docs.common.EmbedApi.options.v1.hide_search},findBarHidden:function(){return!docs.common.EmbedApi.options.conversations.findBar.show},embedHideNew:function(){return!docs.common.EmbedApi.options.conversations.header.create},helpHidden:function(){var e=r().hide;return e&&t.contains(e,"help")},async_validAccessToken:function(t){var i,n,s=t.accessToken||t.hybridLink;if(s)return n=["XConnectModule$Server",t.accessToken?"assertAccessToken":"assertHybridLink",[s]],i=e.Deferred(),osn.fc.sendRequest.apply(null,n).done((function(e){"success"===e[0].returnStatus?(window.sessionStorage.setItem("hybridLink",void 0!==t.hybridLink),i.resolve(!0)):i.resolve(!1)})).fail((function(){i.resolve(!1)})),i},isAppLinkUser:function(e){var i=!t.isEmpty(e)&&(t.isUndefined(e.Discoverable)?osn.cache.get("XConvInfo",e.get("ConversationID")):e);return!!i&&(!i.Discoverable&&"DISCOVERER"===osn.cache.get("XConversationGetInfo",i.ID).ConversationRole)},isConvInDocsSidebar:function(){return osn.util.isConversationShownInSidebar()},async_conversationNotMainForDocs:function(i){var n,s,o,a=i.convId;return i.hybridLink?e.Deferred().resolve(!0):a?(n=e.Deferred(),s=e.Deferred(),o=osn.cache.get("XConvInfo",a),"0001"===a?n.resolve({ConversationInfo:{ID:"0001",Name:"test conversation",ConversationName:"test conversation",State:"OPEN_ACTIVE"},ConversationRole:"CONTRIBUTOR"}):t.isEmpty(o)?osn.fc.sendRequest("XConversationModule$Server","getConversation",[a]).done((function(e){"success"===e[0].returnStatus?s.resolve(osn.cache.get("XConvInfo",a)):s.reject()})).fail((function(){s.reject()})):s.resolve(o),s.done(function(e){this.isStarterEdition()?osn.util.isConversationMainForSite(e)||osn.util.isConversationMainForAsset(e)&&!window.location.href.includes("/conversations")?n.resolve(!0):n.resolve(!1):n.resolve(!osn.util.isConversationMainForDocument(e))}.bind(this)).fail((function(){n.resolve(!1)})),n):void 0}},s=function(e,i){var s,o=!0;return e&&e.length&&t.find(e,(function(e){return t.isFunction(e)?s=e(i):"!"===e[0]?(e=e.slice(1),s=!n[e](i)):s=n[e](i),!(o=o&&s)})),o},o=function(i,s){var o=e.Deferred(),a=[];return t.each(i,(function(e){a.push(n[e](s))})),e.when.apply(null,a).done((function(){o.resolve(!t.contains(arguments,!1))})).fail(o.reject),o},a={can:function(e,t,n){if(!i[t][e])throw new Error("Invalid capability: "+e+" "+t);return s(i[t][e],n)},canAsync:function(n,a,r){var l=[],c=[];if(!i[a][n])throw new Error("Invalid capability: "+n+" "+a);return t.each(i[a][n],(function(e){"async_"===e.substring(0,6)?l.push(e):c.push(e)})),(s(c,r)?o(l,r):e.Deferred().resolve(!1)).promise()},add:function(n,s,o){var a={};a[s]={},a[s][n]=o,(i=e.extend(!0,a,i))[s][n]=t.union(i[s][n],[o])}},osn.authz=Object.freeze(a),osn.authz})),define("jquery-ui-touch",["jquery","underscore","jqueryui-amd/widgets/mouse"],(function(e,t){"use strict";if("ontouchstart"in document){var i=!1;e.ui.mouse.prototype._mouseInitOrig=e.ui.mouse.prototype._mouseInit,e.ui.mouse.prototype._mouseDestroyOrig=e.ui.mouse.prototype._mouseDestroy,e.ui.mouse.prototype._mouseInit=function(){var i=this;this._touchHandlers={touchstart:t.bind(i.onTouchStart,i),touchmove:t.bind(i.onTouchMove,i),touchend:t.bind(i.onTouchEnd,i)},Object.keys(this._touchHandlers).forEach((function(e){i.element.on(e,i._touchHandlers[e])})),e.ui.mouse.prototype._mouseInitOrig.call(this)},e.ui.mouse.prototype._mouseDestroy=function(){var t=this;this._touchHandlers&&(Object.keys(this._touchHandlers).forEach((function(e){t.element.off(e,t._touchHandlers[e])})),delete this._touchHandlers),e.ui.mouse.prototype._mouseDestroyOrig.call(this)},e.ui.mouse.prototype.onTouchStart=function(e){e.originalEvent.touches.length>1||!i&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,this.touchMoved=!1,n(e,["mouseover","mousemove","mousedown"]))},e.ui.mouse.prototype.onTouchMove=function(e){i&&(this.touchMoved=!0,n(e,"mousemove"))},e.ui.mouse.prototype.onTouchEnd=function(e){if(i){var t=["mouseup","mouseout"];this.touchMoved||t.push("click"),n(e,t),i=!1}}}function n(e,i){e.preventDefault();var n=e.originalEvent.changedTouches[0];(i=t.isArray(i)?i:[i]).forEach((function(t){var i=new MouseEvent(t,{bubbles:!0,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});e.target.dispatchEvent(i)}))}})),
/*!
 * jQuery UI Controlgroup 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/widgets/controlgroup",["jquery","../widget"],e):e(jQuery)}((function(e){"use strict";var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,(function(n,s){var o,a={};if(s)return"controlgroupLabel"===n?((o=t.element.find(s)).each((function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),t._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(e.fn[n]&&(a=t["_"+n+"Options"]?t["_"+n+"Options"]("middle"):{classes:{}},t.element.find(s).each((function(){var s=e(this),o=s[n]("instance"),r=e.widget.extend({},a);if("button"!==n||!s.parent(".ui-spinner").length){o||(o=s[n]()[n]("instance")),o&&(r.classes=t._resolveClassesValues(r.classes,o)),s[n](r);var l=s[n]("widget");e.data(l[0],"ui-controlgroup-data",o||s[n]("instance")),i.push(l[0])}}))))})),this.childWidgets=e(e.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each((function(){var i=e(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()}))},_updateCornerClass:function(e,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,n){var s={};return e.each(i,(function(e){var o=n.options.classes[e]||"";o=String.prototype.trim.call(o.replace(t,"")),s[e]=(o+" "+i[e]).replace(/\s+/g," ")})),s},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],(function(e,n){var s=t[n]().data("ui-controlgroup-data");if(s&&i["_"+s.widgetName+"Options"]){var o=i["_"+s.widgetName+"Options"](1===t.length?"only":n);o.classes=i._resolveClassesValues(o.classes,s),s.element[s.widgetName](o)}else i._updateCornerClass(t[n](),n)})),this._callChildMethod("refresh"))}})})),function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/form",["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}})),
/*!
 * jQuery UI Form Reset Mixin 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/form-reset-mixin",["jquery","./form","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout((function(){var i=t.data("ui-form-reset-instances");e.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element._form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}})),
/*!
 * jQuery UI Labels 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/labels",["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.fn.labels=function(){var t,i,n,s,o;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),(n=this.attr("id"))&&(o=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),i="label[for='"+e.escapeSelector(n)+"']",s=s.add(o.find(i).addBack(i))),this.pushStack(s)):this.pushStack([])}})),
/*!
 * jQuery UI Checkboxradio 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/widgets/checkboxradio",["jquery","../form-reset-mixin","../labels","../widget"],e):e(jQuery)}((function(e){"use strict";return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,n,s=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",(n=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=n.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(s.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(s.disabled=t),s},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i="input[name='"+e.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(i):e(i).filter((function(){return 0===e(this)._form().length}))).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each((function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio})),
/*!
 * jQuery UI Button 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/widgets/button",["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],e):e(jQuery)}((function(e){"use strict";var t;return e.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var n="iconPosition"!==t,s=n?this.options.iconPosition:i,o="top"===s||"bottom"===s;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(s),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=(t=e.fn.button,function(i){var n="string"==typeof i,s=Array.prototype.slice.call(arguments,1),o=this;return n?this.length||"instance"!==i?this.each((function(){var t,n=e(this).attr("type"),a="checkbox"!==n&&"radio"!==n?"button":"checkboxradio",r=e.data(this,"ui-"+a);return"instance"===i?(o=r,!1):r?"function"!=typeof r[i]||"_"===i.charAt(0)?e.error("no such method '"+i+"' for button widget instance"):(t=r[i].apply(r,s))!==r&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:e.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")})):o=void 0:(s.length&&(i=e.widget.extend.apply(null,[i].concat(s))),this.each((function(){var n=e(this).attr("type"),s="checkbox"!==n&&"radio"!==n?"button":"checkboxradio",o=e.data(this,"ui-"+s);if(o)o.option(i||{}),o._init&&o._init();else{if("button"===s)return void t.call(e(this),i);e(this).checkboxradio(e.extend({icon:!1},i))}}))),o}),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button})),
/*!
 * jQuery UI Disable Selection 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/disable-selection",["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t})),
/*!
 * jQuery UI Resizable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/widgets/resizable",["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],e):e(jQuery)}((function(e){"use strict";return e.widget("ui.resizable",e.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;if(t[n]>0)return!0;try{t[n]=1,s=t[n]>0,t[n]=0}catch(e){}return s},_create:function(){var t,i=this.options,n=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",(function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())})).on("mouseleave",(function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var t,i,n,s,o,a=this.options,r=this;if(this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this._addedHandles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)s="ui-resizable-"+(t=String.prototype.trim.call(n[i])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+s),o.css({zIndex:a.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(t){var i,n,s,o;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")})),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var i,n,s,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,n+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,s=this.originalMousePosition,o=this.axis,a=t.pageX-s.left||0,r=t.pageY-s.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,a,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,s,o,a,r,l,c=this.options,d=this;return this._helper&&(s=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,o=n?0:d.sizeDiff.width,a={width:d.helper.width()-o,height:d.helper.height()-s},r=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:r})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,s,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),s<o.maxHeight&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),o&&c&&(e.left=r-t.minWidth),n&&c&&(e.left=r-t.maxWidth),a&&d&&(e.top=l-t.minHeight),s&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],s=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(s[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),a=o&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,s,o,a,r,l=e(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,h=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;h&&(l.containerElement=e(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each((function(e,n){i[e]=l._num(t.css("padding"+n))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,r=l._hasScroll(h)?h.scrollHeight:s,l.parentData={element:h,left:n.left,top:n.top,width:a,height:r}))},resize:function(t){var i,n,s,o,a=e(this).resizable("instance"),r=a.options,l=a.containerOffset,c=a.position,d=a._aspectRatio||t.shiftKey,u={top:0,left:0},h=a.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),d&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),d&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),s=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),s&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,d&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,d&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,s=t.containerPosition,o=t.containerElement,a=e(t.helper),r=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:r.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:r.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})}))},resize:function(t,i){var n=e(this).resizable("instance"),s=n.options,o=n.originalSize,a=n.originalPosition,r={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};e(s.alsoResize).each((function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),s={},o=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var i=(n[t]||0)+(r[t]||0);i&&i>=0&&(s[t]=i||null)})),t.css(s)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,s=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,u=Math.round((s.width-o.width)/c)*c,h=Math.round((s.height-o.height)/d)*d,p=o.width+u,m=o.height+h,f=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<m,v=n.minWidth&&n.minWidth>p,_=n.minHeight&&n.minHeight>m;n.grid=l,v&&(p+=c),_&&(m+=d),f&&(p-=c),g&&(m-=d),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=m):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=m,i.position.top=a.top-h):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=m,i.position.left=a.left-u):((m-d<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),m-d>0?(i.size.height=m,i.position.top=a.top-h):(m=d-t.height,i.size.height=m,i.position.top=a.top+o.height-m),p-c>0?(i.size.width=p,i.position.left=a.left-u):(p=c-t.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),e.ui.resizable})),
/*!
 * jQuery UI Dialog 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/widgets/dialog",["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],e):e(jQuery)}((function(e){"use strict";return e.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",t)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,s=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),o=Math.max.apply(null,s);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.first(),s=i.last();t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){s.trigger("focus")})),t.preventDefault()):(this._delay((function(){n.trigger("focus")})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||Array.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,(function(i,n){var s,o;n="function"==typeof n?{click:n,text:i}:n,n=e.extend({type:"button"},n),s=n.click,o={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,e("<button></button>",n).button(o).appendTo(t.uiButtonSet).on("click",(function(){s.apply(t.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,s){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",i,n(s))},drag:function(e,i){t._trigger("drag",e,n(i))},stop:function(s,o){var a=o.offset.left-t.document.scrollLeft(),r=o.offset.top-t.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",s,n(o))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,s=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,n){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,a(n))},resize:function(e,i){t._trigger("resize",e,a(i))},stop:function(n,s){var o=t.uiDialog.offset(),r=o.left-t.document.scrollLeft(),l=o.top-t.document.scrollTop();i.height=t.uiDialog.height(),i.width=t.uiDialog.width(),i.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",n,a(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,s={};e.each(t,(function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(s[e]=t)})),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,i){var n,s,o=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((n=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((s=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),s&&"string"==typeof i&&o.resizable("option","handles",i),s||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=e.fn.jquery.substring(0,4),i=!0;this._delay((function(){i=!1})),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(e){if(!i){var n=this._trackingInstances()[0];n._allowInteraction(e)||(e.preventDefault(),n._focusTabbable(),"3.4."!==t&&"3.5."!==t||n._delay(n._restoreTabbableFocus))}}.bind(this)),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog})),
/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define("jqueryui-amd/widgets/menu",["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}((function(e){"use strict";return e.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(t){var i=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this._menuItems().first();t||this.focus(e,i)},blur:function(t){this._delay((function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(t){if(!this.previousFilter&&(t.clientX!==this.lastMousePosition.x||t.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:t.clientX,y:t.clientY};var i=e(t.target).closest(".ui-menu-item"),n=e(t.currentTarget);i[0]===n[0]&&(n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n)))}},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each((function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()}))},_keydown:function(t){var i,n,s,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,n=this.previousFilter||"",o=!1,s=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),s===n?o=!0:s=n+s,i=this._filterMenuItems(s),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(s=String.fromCharCode(t.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(t,i),this.previousFilter=s,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,n,s,o=this,a=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),i=t.prev(),n=e("<span>").data("ui-menu-submenu-caret",!0);o._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(t=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);o._isDivider(t)&&o._addClass(t,"ui-menu-divider","ui-widget-content")})),s=(n=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,n,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),s=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,o,a,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=t.outerHeight(),s<0?this.activeMenu.scrollTop(o+s):s+r>a&&this.activeMenu.scrollTop(o+s-a+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n}),i?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first()),n&&n.length&&this.active||(n=this._menuItems(this.activeMenu)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.innerHeight(),0===e.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n-s<0})),this.focus(t,i)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.innerHeight(),0===e.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n+s>0})),this.focus(t,i)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return n.test(String.prototype.trim.call(e(this).children(".ui-menu-item-wrapper").text()))}))}})})),define("core/extensions",["jquery","underscore","backbone","jquery-ui-touch","jqueryui-amd/widgets/dialog","jqueryui-amd/widgets/menu"],(function(e,t,i){"use strict";if(String.prototype._greedySplit=function(e){var i=new RegExp("(.*)"+e+"(.*)$","g").exec(this);return i?t.rest(i):[this.toString()]},RegExp.escape=RegExp.escape||function(e){return t.isString(e)?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e},e.fn.extend({addSVGClass:function(t){return this.each((function(){e(this).attr("class",(function(e,i){return-1===i.indexOf(t)?i+" "+t:i}))}))},removeSVGClass:function(t){return this.each((function(){e(this).attr("class",(function(e,i){return i.replace(" "+t,"")}))}))},hasScrollBar:function(){var e={},t=this.get(0);return e.vertical=t.scrollHeight>t.clientHeight,e.horizontal=t.scrollWidth>t.clientWidth,e},highlightText:function(i,n){var s=RegExp.escape(i),o=new RegExp(s,"gi");this.each((function(){e(this).contents().filter((function(){return 3===this.nodeType&&o.test(this.nodeValue)})).replaceWith((function(){return t.escape(this.nodeValue||"").replace(o,(function(e){return"<span class='"+n+"'>"+e+"</span>"}))}))}))},cssAnimate:function(t){var i=e.Deferred();return this.addClass(t),this.one(function(e){var t={animation:"animationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var i in t)if(void 0!==e.style[i])return t[i]}(this.get(0)),(function(){i.resolve()})),i}}),e.extend(e.ui.dialog.prototype.options.classes,{"ui-dialog":"alta-dialog","ui-dialog-titlebar":"alta-dialog-titlebar","ui-dialog-title":"alta-dialog-title","ui-dialog-titlebar-close":"alta-dialog-close","ui-dialog-content":"alta-dialog-content","ui-dialog-buttonpane":"alta-dialog-buttonpane"}),e.ui.dialog.prototype._allowInteraction=function(t){return!!e(t.target).closest(".ui-dialog, .ui-datepicker, .select2-dropdown, .ui-dialog ~ .full-page-dialog").length},e.widget("ui.menu",e.ui.menu,{next:function(e){this._move("next",this.active?"last":"first",e)},previous:function(e){this._move("prev",this.active?"first":"last",e)}}),"rtl"===document.documentElement.dir){var n=e.ui.keyCode.LEFT;e.ui.keyCode.LEFT=e.ui.keyCode.RIGHT,e.ui.keyCode.RIGHT=n}var s=i.View;i.View=s.extend({constructor:function(e){this.options=e||{},s.apply(this,arguments)},close:function(){this.onCloseView&&this.onCloseView(),this.unbind(),this.remove()}});var o=i.Model;i.Model=o.extend({sync:function(e,t,n){return this.options&&this.options.restAPI&&(n.emulateJSON=!1,n.emulateHTTP=!1),i.sync(e,t,n)}}),i.Klass=function(){this.initialize.apply(this,arguments)},t.extend(i.Klass.prototype,i.Events,{initialize:function(){}}),i.Klass.extend=i.Model.extend;var a=t.toPath;return t.mixin({toPath:function(e){return t.isString(e)?e.split("."):a(e)}}),t.set||t.mixin({set:function(e,t,i){t=t.split(/[\.\[\]]+/g);for(var n=0;n<t.length-1;n++)e[t[n]]||(e[t[n]]=isNaN(t[n+1])?{}:[]),e=e[t[n]];e[t[n]]=i}}),t.pickMap||t.mixin({pickMap:function(e){var i=t.rest(arguments);return t.map(e,(function(e){return t.pick.apply(t,t.union([e],i))}))}}),t.diffObjects||t.mixin({diffObjects:function(e,i){return function e(i,n){var s={};for(var o in i)if(i.hasOwnProperty(o)){var a=i[o],r=n[o];if(typeof a!=typeof r)s[o]=a;else if(t.isArray(a)){var l=t.difference(a,r);l.length&&(s[o]=l)}else if(t.isObject(a)){var c=e(a,r);t.keys(c).length&&(s[o]=c)}else a!==r&&(s[o]=a)}return s}(e,i)}}),{}})),define("core/util/LinkBackContext",["jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/util/Service","core/util/Constants","core/util/Utils","core/router/DocsController","core/authz","core/extensions"],(function(e,t,i,osn,docs,n,s,o){"use strict";var a=s.FileViewRE,r="~base",l=[s.ItemType.ASSET_TYPE_DA,s.ItemType.ASSET_TYPE_CI],c={fv:"fileview",cv:"collections/view",da:"assets/view",ci:"contentitems/view"};return i.Klass.extend({},{createContext:function(e,i){var n=t.extend({objectId:e.get("id"),objectName:e.get("name")},i),o=window.location.pathname,r=a.re.exec(o);if(e.isAsset?(n.idType="caas",n.objectType="file",n.objectVersion=""+e.getRevisionNumber()||"",n.assetType=e.isContentAsset()?s.ItemType.ASSET_TYPE_CI:s.ItemType.ASSET_TYPE_DA,n.language=e.get("language")||"",n.languageVariationSetId=e.get("varSetId")||"",e.has("renditionType")&&(n.renditionType=e.get("renditionType"),n.renditionId=e.get("renditionId"),n.renditionName=e.get("renditionName"))):(n.idType="docs",n.objectType=e.get("type").toLowerCase(),e.isFile&&(n.objectVersion=""+e.get("revision")||"")),r&&r[a.index_link_id])n.objectLinkId=r[a.index_link_id];else{(r=/\/o(\d+)\/m(\d+)\/l(L[A-Z0-9]*)/g.exec(o))&&r[3]&&(n.objectLinkId=r[3])}return n},createSiteContext:function(e,i){return t.extend({idType:"sites",objectType:"site",siteUpdateName:e.siteUpdateName||r,siteUpdateGuid:e.siteUpdateGuid||"",mode:e.mode,siteName:e.siteName,siteUpdateGuids:e.siteUpdateGuids,siteUpdates:e.siteUpdates,siteLanguage:e.siteLanguage||"",sitePageId:e.sitePageId},i)},formatAnnotationUrl:function(e,i,s,o,a){var r,d=(a=a||{}).objectName&&n.filterSpecialCharacters(a.objectName),u=!1,h=!0,p=/\/wimg/.test(window.location.href);return s&&0===s.indexOf("file")?t.isEmpty(a.assetType)?(r=c.fv+"/"+o,a.checkForAsset&&(u=!0)):(h=!1,t.isEmpty(a.assetView)?(t.contains(l,a.assetType)||console.debug("unknown assetType",a.assetType),r=c.da):r=c[a.assetView],t.isEmpty(a.caasGuid)?r+="/"+o:r+="/"+a.caasGuid):"site"===s?(h=!1,r="builder/view/"+a.siteName+"/"+a.siteLanguage+"/"+a.siteUpdateName):r=s+"/"+o,h&&d&&0!==d.indexOf("_")?d="_"+d:h||(d=""),!a.objectVersion||!t.isNumber(a.objectVersion)&&t.isEmpty(a.objectVersion)||(d+=(d?"/v":"v")+a.objectVersion),a.objectLinkId&&(r="link/"+a.objectLinkId+"/"+r),r+=d?"/"+d:"",r+=p?"/wimg":"",r+=e?"/o"+e:"",r+=i?"/m"+i+(a.isReply?"/reply":""):"",r+=a.replyToId?"/a"+a.replyToId:"","site"!==s&&(r+="/sbr=conversations"),u&&(r+="/checkForAsset"),"site"===s&&(r+="?ssc=true"),r},getLinkBackContext:function(e){osn.debug("view","LinkBackContext: getLinkBackContext");var i=t.find(e,(function(e){return"LinkBackContext"===e.PropertyName}));return i&&JSON.parse(i.PropertyValue)},getLinkBackUrl:function(e,t,i){osn.debug("view","LinkBackContext: getLinkBackUrl");var n,s=this.getLinkBackContext(i);if(s)return!s.assetView&&s.assetCollection&&"contentasset"===s.assetType&&(s.assetView="cv"),("site"===(n="file"===s.objectType?"fileview":s.objectType)?"/sites":osn.cache.get("AppConfig").contextPath)+"/"+this.formatAnnotationUrl(e,t,n,s.objectId,s)},navToAnnotation:function(n,r,d,u){osn.debug("view","LinkBackContext: navToAnnotation");var h,p=!1,m=this.getLinkBackContext(d),f=i.history.getFragment(),g=this.formatAnnotationUrl(n,r,m.objectType,m.objectId,m),v=f.split("/"),_={trigger:!0,replace:!1},b=m.assetView;if(osn.authz.can("triggerNavigateToAnnotation","Links")){h=e(".conv-"+n).data("docLastRevision")||"",f=(f=f.replace(/\/o(\d+).*/,"")).replace(/\/wimg/,""),"folder"===v[0]&&v[1]===m.objectId&&(f=v[0]+"/"+v[1]);var y=a.re.exec(f);y&&!y[a.index_revision]&&(f+="/v"+h),t.contains(v,"wimg")&&(f+="/wimg");var E=g.split("/"),w=f.split("/");if(g.indexOf(f)>=0)p=!0,t.contains(l,m.assetType)&&(p=E[3]===w[3]);else if(m.assetType===s.ItemType.ASSET_TYPE_CI)E[0]===w[0]&&E[2]===w[2]&&E[3]===w[3]&&(p=!0);else{var C=a.re.exec(g);y=a.re.exec(f),C&&y&&C[a.index_file_id]===y[a.index_file_id]&&o.areVersionsEqual(C[a.index_revision],y[a.index_revision])&&(p=!0,C[a.index_view_type]!==y[a.index_view_type]&&(g=g.replace(C[a.index_view_type]+"/",y[a.index_view_type]+"/"),b=t.invert(c)[y[a.index_view_type]]),y[a.index_name]&&(g=g.replace(C[a.index_name],y[a.index_name])))}if(p){var S={conversationId:n,chatId:u||r,linkId:m.objectLinkId,docId:m.objectId,docName:m.objectName,docRevision:m.objectVersion,assetType:m.assetType,assetView:b,renditionType:m.renditionType,renditionId:m.renditionId};S.assetType===s.ItemType.ASSET_TYPE_DA&&(t.isEmpty(S.renditionType)||t.isEmpty(S.renditionId))&&(S.renditionType=s.Rendition.Type.PREVIEW,S.renditionId=s.Rendition.ID.PREVIEW),docs.events.trigger("osn:navigateToAnnotation",S),g=g.replace(/sbr=conversations$/,""),_={trigger:!1,replace:!0}}}docs.router.navigate(g,_)},formatLinkBack:function(e,i,n,s){osn.debug("view","LinkBackContext: formatLinkBack");var o=this.getLinkBackUrl(e,i,n,s),a=this.getLinkBackContext(n),c=!0;if(s&&a&&t.contains(l,a.assetType)){var d=a.language&&s.get("translatable")?a.language+" ":"";d+=docs.i18n.t("VER_NUM",a.objectVersion);var u,h=a.objectName;return s.get("renditionList")&&(u=t.find(s.get("renditionList").models,(function(e){return e.getId()===a.renditionId}))),a.renditionId&&a.renditionName&&(u&&t.contains(["preview","original"],u.getId())?h+=" | "+u.getName():h+=" | "+a.renditionName),u||t.isUndefined(a.renditionName)||(c=!1),c?a.objectName&&osn.i18n.t("linkBackWithInfo",h,o,d):a.objectName&&osn.i18n.t("linkBackNoUrl",h,d)}if(a&&"site"===a.objectType){var p,m=a.siteLanguage||"",f=t.isEqual(a.siteUpdateName,r),g=f||t.contains(docs.common.EmbedApi.options.v1.siteUpdateGuids,a.siteUpdateGuid);return window.location.search.indexOf("objectId=")>0&&window.location.search.split("objectId=")[1].split("&")[0],window.location.search.indexOf("siteLanguage=")>0&&window.location.search.split("siteLanguage=")[1].split("&")[0],a.siteUpdateName&&(p=f?osn.i18n.t("baseSite"):docs.common.Service.filterSpecialCharacters(a.siteUpdateName)),p&&g||p&&!a.siteUpdateGuid?p&&osn.i18n.t("linkBack",p+" "+m,""):p&&osn.i18n.t("linkBackNoUrl",p+" "+m,"")}return a&&a.objectName&&osn.i18n.t("linkBack",a.objectName,o)}})})),define("core/util/util",["jquery","underscore","backbone","core/osnGlobals","core/util/Constants","core/util/LinkBackContext"],(function(e,t,i,osn,n,s){"use strict";var o,a={"waggle/conversation":{moduleName:"XConvInfo",authzName:"Conversation",route:"conversations"},"waggle/one-on-one":{moduleName:"XOneOnOneInfo",authzName:"OneOnOne",route:"conversations"},"waggle/wall":{moduleName:"XUserWallInfo",authzName:"Wall",route:"people"},"waggle/wall-group":{moduleName:"XGroupWallInfo",authzName:"GroupWall",route:"groups"},"waggle/group":{moduleName:"XGroupInfo",authzName:"Group",route:"groups"},"waggle/user":{moduleName:"XUserInfo",authzName:"User",route:"people"},"waggle/user-profile":{moduleName:"XUserProfileInfo",authzName:"UserProfile",route:"people"},"waggle/chat":{moduleName:"XChatInfo",authzName:"Chat",route:"conversations"}},r={"wc/conversation":{route:"conversations"},"wc/wall":{route:"people"},"wc/user":{route:"people"},"wc/wall-group":{route:"groups"},"wc/group":{route:"groups"},"wc/chat":{route:"conversations"},"wc/folder":{route:"documents"},"wc/file":{route:"documents"},"wc/hashtag":{route:"hashtags"}},l={NoSuchObjectError:"waggle.object.NoSuchObjectException",AccessDeniedError:"waggle.exceptions.AccessDeniedException",WrongObjectTypeError:"waggle.object.WrongObjectTypeException"},c={"wc/file":"artifact","wc/folder":"folder","wc/wall":"user","wc/user":"user","wc/wall-group":"group","wc/group":"group"},d={default:"CECMC-GUID-767EC5E0-ECEE-4D56-A1AD-B4389F91A636","folder(/*fragment)":"CECMC-GUID-767EC5E0-ECEE-4D56-A1AD-B4389F91A636","fileview(/*fragment)":"CECMC-GUID-767EC5E0-ECEE-4D56-A1AD-B4389F91A636","conversations(/*fragment)":"CECMC-GUID-0138E86A-ACBC-4C7C-9AD6-546CF56F6202","flags(/*fragment)":"CECMC-GUID-580F27EE-F110-4DFF-8A76-AE7D2C3026EA","people(/*fragment)":"CECMC-GUID-5A9F24FD-A92A-45C8-B0BA-790A582E31E4","groups(/*fragment)":"CECMC-GUID-0E1686F8-EE5E-4E77-8C73-7A9F9630A9D5","assets/collections(/*params)":"CECDA-GUID-456341D7-26C2-4530-8967-6285F137E075","assets/view/:id(/*params)":"CECDA-GUID-9BCA1400-E7FA-42DB-95B4-B09C9E1625EA","assets/view(/*params)":"CECDA-GUID-BE49B0D5-5A5A-4288-B07B-444FE5811CB9","assets/create(/*params)":"CECDA-GUID-71AA1543-7978-49C5-A5D2-C808ABEE19C5","assets/edit(/*params)":"CECDA-GUID-BE49B0D5-5A5A-4288-B07B-444FE5811CB9","assets/publish(/*params)":"CECDA-GUID-A8C08985-74C1-4B54-9E96-A96A2BFFF034","assets/workflowtasks(/*params)":"CECDA-GUID-05BE20D4-856A-402E-838A-1BFA7AD449AD","assets/:id/translationjobs(/*params)":"CECDA-GUID-141A301D-9DE3-41D1-B32D-0A483F116A91","assets/:id/publishingevents(/*params)":"CECDA-GUID-5C743FCC-84DF-4CA3-9FE8-E8068C8C2F00","assets/:id/publishingjobs(/*params)":"CECDA-GUID-61809716-172C-45E7-84BA-41ADBB6663E5","assets(/*fragment)":"CECDA-GUID-2CEFE4A4-A64D-40B5-BEEB-6A52CE616B7A","recommendations(/*fragment)":"CECDA-GUID-371ED107-3326-419E-B6CF-D49EFF175145","repositories(/*fragment)":"CECCE-GUID-2363F1BA-B2F4-4A19-A625-94A3C2CA94E2","repository(/*fragment)":"CECCE-GUID-1C3D2028-815A-4089-80A1-D6969120E05B","channels(/*fragment)":"CECCE-GUID-9972AB7D-A80D-4A12-AC2D-F21F22B77743","channel(/*fragment)":"CECCE-GUID-9972AB7D-A80D-4A12-AC2D-F21F22B77743","localizations(/*fragment)":"CECCE-GUID-7BCAD5AA-DB81-4689-A4EE-996471F6DEE2","localization(/*fragment)":"CECCE-GUID-7BCAD5AA-DB81-4689-A4EE-996471F6DEE2","contenttypes(/*fragment)":"CECDA-GUID-85B5E201-C7E7-4C6E-90DA-18BDD4AAA36F","contenttype(/*fragment)":"CECDA-GUID-85E3FFF9-A19B-488C-BC03-713F00515CAE","taxonomies(/*fragment)":"CECCE-GUID-D000D075-7963-478D-A67C-47DCC6070104","taxonomy(/*fragment)":"CECCE-GUID-D000D075-7963-478D-A67C-47DCC6070104","audienceattributes(/*fragment)":"CECDA-GUID-B2302FCA-E0F7-45D5-9A54-36BD0CFAB978","workflows(/*fragment)":"GUID-D7C40883-7C0F-466C-B92D-4D6053A2B4D8","workflowroles(/*fragment)":"GUID-31D7A658-7C2B-46FE-B2F7-22936BFC1213","rankingpolicies(/*fragment)":"CECDA-GUID-A139B174-9B83-4943-A2E5-B79120EBFCA0","rankingpolicy(/*fragment)":"CECDA-GUID-A139B174-9B83-4943-A2E5-B79120EBFCA0","sites/translationjobs(/*fragment)":"CECCE-GUID-5DDD3D7D-B9B8-4E86-AA90-290CF5C8CB20","sites/requests/:id/details(/*fragment)":"CECCE-GUID-16A9F6B9-63D6-4E60-AD38-AEA392044A88","sites/requests/:id/policies(/*fragment)":"CECCE-GUID-C82789D0-743F-4772-8B35-556661C626E2","sites/requests(/*fragment)":"CECCE-GUID-B9B9F56B-9720-4E1E-A5DB-CBC72E2ED92D","sites/new(/*fragment)":"CECCE-GUID-81AB7730-A244-4EB3-8E95-320005EABD6E","sites/copy/(*fragment)":"CECCE-GUID-B089E26E-B091-40FB-8A8B-EDA0ECCEAEC0","sites/upgradewarning(/*fragment)":"CECMC-GUID-B348420D-176A-473E-B347-81E5B9FE893E","sites(/*fragment)":"CECCE-GUID-3BCA5A92-5754-49A1-A2EE-6A99E7F4065B","developer(/*fragment)":"embed-ui-api","themes(/*fragment)":"CECCE-GUID-2F821DF7-122D-4A3A-B24B-F4893731CEE6","components(/*fragment)":"CECCE-GUID-26F96761-8BDE-4A44-B9F5-9E20BD8DE97A","templates/:id/policies(/*fragment)":"CECCE-GUID-AFAC1826-0E98-4E0A-BFA3-DB0DF2165E5B","templates/:id/audience(/*fragment)":"CECCE-GUID-4D40428F-1843-43DA-91FE-AF6A4F9136F0","templates/:id(/*fragment)":"CECCE-GUID-3DCF962C-43E3-46F8-B493-AA663A1FFF4A","templates(/*fragment)":"CECCE-GUID-0BA49046-671B-4DE0-8D64-ADBFECB2EC76","experiences(/*fragment)":"CECHC-GUID-63F4415C-FF6C-4D8A-8ED4-18492B862CF9","administration/general(/*fragment)":"CECSA-GUID-A91A9200-E122-4E08-A4A6-75CF6DF97B41","administration/billing(/*fragment)":"CECSA-GUID-771BA887-F29D-4CF1-B7B9-705DE4616CCF","administration/users(/*fragment)":"CECSA-GUID-7C11A1A5-9F97-48A7-A902-1F4B43861E67","administration/documents(/*fragment)":"CECSA-GUID-986F72BC-1745-4AD7-8D15-B651F02E4A6B","administration/sites(/*fragment)":"CECSA-GUID-15DDAEC8-4900-4CE6-B916-5BCD862340AE","administration/seoForSites(/*fragment)":"CECSA-GUID-ED6D4AE6-7245-4E65-B489-AA73DF3C8AD5","administration/metadata(/*fragment)":"CECSA-GUID-8043F93D-3FBC-4D99-877E-2C0F918B960D","administration/assets(/*fragment)":"CECSA-GUID-E9C41A98-572E-4B43-AFDD-D9335B5603E1","administration/conversations(/*fragment)":"CECSA-GUID-02477E81-8A1C-4E56-B525-9B8C35E51586","administration/domain(/*fragment)":"CECSA-GUID-F7634BF1-6FF5-4E3C-862D-73A7A906F225","administration/security(/*fragment)":"CECSA-GUID-3E040952-18B8-4AD4-B438-45D0AEA8F35C","administration/analytics(/*fragment)":"CECSA-GUID-3F0011DC-D360-43EF-AB17-82BDCB2124B2","administration/experienceOrchestration(/*fragment)":"CECSA-GUID-33878974-9FA8-4703-9387-9D5187AD72CF","integrations/aif(/*fragment)":"CECSI-GUID-26030A19-957B-4245-AC7D-E665A5C70DE3","integrations/webhooks(/*fragment)":"CECSI-GUID-78B8F159-CF47-483B-BFDF-FBD85E22665C","integrations/connectors(/*fragment)":"CECSI-GUID-CA52D2A3-CAAB-4C4B-8E65-8F22A1E15B4A","integrations/translationconnectors(/*fragment)":"CECSI-GUID-27B72617-1558-4220-B74C-C3DE743AB366","integrations/proxy(/*fragment)":"CECSI-GUID-7003229A-333B-4358-A7A5-95D014FD3F1E","analytics/dashboard(/*fragment)":"CECSA-GUID-C314FC01-9391-4200-8146-668DF5728D71","analytics/users(/*fragment)":"CECSA-GUID-9B38D24B-A324-44E1-8A75-F63976CBF9C2","analytics/reports(/*fragment)":"CECSA-GUID-361D38D7-E730-4657-B264-B93F85997F90","analytics/statistics(/*fragment)":"CECSA-GUID-F0D4CFB9-5A1B-4E9D-A30E-E617692B7EE8","analytics/content(/*fragment)":"CECSA-GUID-D0AA9F8C-A745-4894-86DF-7E3CA3B632B4","analytics/visit(/*fragment)":"CECSA-GUID-706ACEA9-47AF-4479-93A1-B9D364B98EB1","analytics/capture(/*fragment)":"CECSA-GUID-7E75721F-29A4-4CF0-B67A-8502E6EF41F7","preferences(/*fragment)":"CECMC-GUID-5A9F24FD-A92A-45C8-B0BA-790A582E31E4","install(/*fragment)":"CECMC-GUID-AB3E0780-1641-40CE-9D07-1D7D06FF4C90","slack/integration":"CECMC-GUID-BE874461-3E1F-4397-A2B2-8B95C1712919"};return t.each(d,(function(e,t,n){n[t]={guid:e,regex:i.Router.prototype._routeToRegExp(t)}}),this),osn.util={getModuleName:function(e){return a[e].moduleName},getAuthzModuleName:function(e){return a[e].authzName},getRouteByServerObjType:function(e){return a[e].route},getRoute:function(e){return r[e].route},getRootRouteForCurrentContext:function(){var e,t=this.getHistoryFragment().split("/");return"all"===(e=t[0]||"overview")&&(e="overview"),t.length>1&&(osn.util.isNumeric(t[1])||(e="",e="folder"===t[0]&&"home"===t[1]?"folder/home":t[0])),e},navigateToContextRoot:function(e){return i.history.navigate(this.getRootRouteForCurrentContext(),e)},getConversationHref:function(e,t,i,n){t=t||this.getClientObjectType(e);var o=osn.util.getRoute(t),a=o+"/"+e.ID;if(this.isConversationMainForDocument(e)){var r=e.PrimaryExternalID.split("."),l=r[5],c=r[6];a=s.formatAnnotationUrl(e.ID,e._chatId,l,c,{isReply:e._isReply,checkForAsset:n})}else"wc/wall"!==t&&"wc/wall-group"!==t||(a=o+"/"+e.WallMemberInfo.ID+"/profile"),e._chatId&&(a+="/"+e._chatId);return i&&(a=osn.cache.get("AppConfig").contextPath+"/"+a),a},getClientObjectType:function(e){return"waggle/chat"===e.ObjectType?"wc/chat":"waggle/hashtag"===e.ObjectType?"wc/hashtag":"waggle/folder"===e.ObjectType?"wc/folder":"waggle/file"===e.ObjectType||"waggle/file"===e.ParentObjectType?"wc/file":"XUserWallInfo"===e._class||"waggle/wall"===e.ConversationObjectType?"wc/wall":"XUserInfo"===e._class||"XUserProfileInfo"===e._class||"waggle/user"===e.ObjectType?"wc/user":"XGroupWallInfo"===e._class||"waggle/wall-group"===e.ConversationObjectType?"wc/wall-group":"XGroupInfo"===e._class||"waggle/group"===e.ObjectType?"wc/group":("XOneOnOneInfo"===e._class||e.ConversationObjectType,"wc/conversation")},getChatTypeAbility:function(e,t){return o||(o=osn.cache.get("XChatTypeInfo")),o[e][t]},getWagLink:function(e,t){return"wag:"+(c[e]||"conversation")+"="+t},isUserClass:function(e){return-1!==["XUserInfo","XUserSearchInfo","XAutoCompleteUserInfo"].indexOf(e)},isGroupClass:function(e){return-1!==["XGroupInfo","XGroupSearchInfo","XAutoCompleteGroupInfo"].indexOf(e)},isChatRead:function(e,i){return t.find(i,(function(t){return t[0]<=e&&e<=t[1]}))},isClosed:function(e){return!!e&&!!e.State&&-1!==e.State.indexOf("CLOSED")},isUserWall:function(e){return e&&"wc/wall"===this.getClientObjectType(e)},isGroupWall:function(e){return e&&"wc/wall-group"===this.getClientObjectType(e)},isConversation:function(e){return e&&"wc/conversation"===this.getClientObjectType(e)},isConversationMainForDocument:function(e){return e&&e.PrimaryExternalID&&0===e.PrimaryExternalID.indexOf("oracle.documents.cloud.service.internal.")},isConversationMainForAsset:function(e){return e&&e.PrimaryExternalType&&t.contains(["DIGITAL_ASSET","CONTENT_ITEM"],e.PrimaryExternalType)},isConversationMainForDoCSFile:function(e){return e&&e.PrimaryExternalID&&0===e.PrimaryExternalID.indexOf("oracle.documents.cloud.service.internal.file")},isConversationMainForSite:function(e){return e&&e.PrimaryExternalType&&"SITE"===e.PrimaryExternalType},isConversationShownInSidebar:function(){return e(".layout-sidebar").is(":visible")},isSidebarOpenInNarrowView:function(){return 105==e(".layout-sidebar").css("z-index")},isNumeric:function(e){return!t.isNaN(parseInt(e,10))},isFavorite:function(e){return e&&t.contains(osn.cache.get("me").favorites,e.ID)},setAlertText:function(t){e("#osn-alert").text(t)},setStatusText:function(t){e("#osn-status").text(t)},createDocumentTitle:function(e){return e&&e.length?e:osn.i18n.t("osn")},isRedirectingError:function(e){return t.contains(l,e)},isUploaderViewOpen:function(){return e(".osn-rtePost .uploadItem")[0]},isControlKeyPressed:function(e,t){var i=45,n=91,s=92,o=93;return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||t[i]||t[n]||t[s]||t[o]},isValidEmailAddress:function(e){return/(<|^)[\w\d._%+\-]+@(?:[\w\d\-]+\.)+(\w{2,})(>|$)/i.test(e)},isValidUrl:function(e){return/^(ftp|http|https):\/\/(\w+)/i.test(e)},canElementSupportAttribute:function(e,t){return void 0!==document.createElement(e)[t]},getUrlParams:function(e){return t.chain(e.validUrlParams).map((function(i){var n=t.isArray(e[i])?e[i].join("+"):e[i];return n&&i+("undefined"!==n?"="+n:"")})).compact().value().join("&")},getXConversationInfoFromCache:function(e){var i,n,s;return i=osn.cache.get("XConversationGetInfo",e),t.isEmpty(i)||(n=t.find(i.__linkedData,(function(e){return"ConversationInfo"===e.field})).module,s=osn.cache.get(n,e),t.each(s.__linkedData,(function(e){s[e.field]=osn.cache.get(e.module,e.id)}))),s},getHistoryFragment:function(){var e,t;return t=(e=i.history&&i.history.root?i.history.getFragment():"").indexOf("?"),"/"===(e=e.substring(0,-1!==t?t:e.length)).substr(e.length-1)?e.substring(0,e.length-1):e},fetchSupportedLocales:function(){var i=e.Deferred(),n=osn.cache.get("XAdminInfo").XLocaleInfo;return t.isEmpty(n)?osn.fc.sendRequest("XAdminModule$Server","getLocales",[]).done((function(e){n=e[0].returnValue,i.resolve(t.filter(n,(function(e){return e.Supported})))})).fail((function(e){osn.debug("model","fetchSupportedLocales: getLocales request failed")})):i.resolve(t.filter(n,(function(e){return e.Supported}))),i.promise()},getHeadersHeight:function(i){var n=0;return t.each(t.difference(["#osn-masthead","#osn-banner","#osn-notification","#osn-header","#osn-view-header","#osn-view-breadcrumbs","#osn-view-options","#social-side-header","#social-side-options"],i),(function(i){if(e(i).is(":visible")){var s=e(i).outerHeight(!0);t.isNumber(s)&&(n+=s)}})),n},getContentWrapperHeight:function(){var i=e("#content-wrapper").outerHeight(!0);return t.isNumber(i)?i:0},getViewOptionsDropDownMaxHeight:function(){return osn.util.getContentWrapperHeight()-osn.util.getHeadersHeight(["#osn-view-options"])},getScrollBarWidth:function(){var t=e("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),i=e("<div>").css({width:"100%"}).appendTo(t).outerWidth();return t.remove(),100-i},now:function(){return e.now()},isBrowserUsingHTML5:function(){var e=parseFloat(osn.browser.version),t=osn.browser.msie&&9===e;return void 0===t||!0!==t},clearParamFromURL:function(e,t){var n=this.getHistoryFragment(),s=new RegExp("/"+e+"=(\\w+)");t&&(n=i.history.getFragment()),n=n.replace(s,""),i.history.navigate(n,{trigger:!1,replace:!0})},getHelpURIMap:function(){return d},inferUrlProtocol:function(e){if(e&&!e.toLowerCase().startsWith("http")&&!e.startsWith("/")){var t=e.indexOf(":443")>=0?"https://":"http://";e=t+e}return e},getEditorLanguage:function(e){var t=docs.common.Globals.lang||osn.cache.get("XLoginInfo").LanguageLocale;return t=(t="zh_TW"===t?"zh":t).replace(/-/g,"_")},placeholders:{_setup:function(t){e(t).find("input[placeholder], textarea[placeholder]").each((function(){var t=e(this);osn.util.placeholders._handleEmptyValuedInput(t),t.focus((function(t){osn.util.placeholders._restorePlaceholderInputVal(e(t.target))})).blur((function(t){osn.util.placeholders._handleEmptyValuedInput(e(t.target))}))}))},_handleEmptyValuedInput:function(e){if(""===e.val()){var t=e.attr("placeholder")||"";e.val(t).addClass("placeholder")}},_restorePlaceholderInputVal:function(e){e.is(".placeholder")&&e.val("").removeClass("placeholder")},_serializeArray:function(){var i=e(this),n=i.find(".placeholder");return t.each(n,(function(t){osn.util.placeholders._restorePlaceholderInputVal(e(t))})),e.fn.serializeArray.apply(i)},getSerializeFunction:function(){return osn.util.canElementSupportAttribute("input","placeholder")?e.fn.serializeArray:osn.util.placeholders._serializeArray},getSetupFunction:function(){return osn.util.canElementSupportAttribute("input","placeholder")?function(){}:osn.util.placeholders._setup}}},osn.util})),define("common/docs/VirusScanUtils",["jquery","underscore","backbone","core/util/Globals"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals;return{Action:{VIEW:"VIEW",ACTION_EDIT:"ACTION_EDIT",ACTION_MS_VIEW:"ACTION_MS_VIEW",ACTION_MS_EDIT:"ACTION_MS_EDIT",ACTION_DOWNLOAD:"ACTION_DOWNLOAD",ACTION_SHARE_LINK:"ACTION_SHARE_LINK",ACTION_COPY:"ACTION_COPY",ACTION_ADD_TO_ASSETS:"ACTION_ADD_TO_ASSETS"},Status:{NOT_SCANNED:0,INFECTED:4,LEGACY_SKIPPED:8,CLEAN:12,PARTIAL:128,CLEAN_PARTIAL:140,ENCRYPTED:256,SKIPPED_ENCRYPTED:264,SCAN_PENDING:512,ENCRYPTED_PDF:1024,VIEWABLE_ENCRYPTED_PDF:1032,SKIPPED:520},isNotScanned:function(e){return this._isNotScannedValue(this.getScanValue(e))},_isNotScannedValue:function(e){return this.Status.NOT_SCANNED===e},isScanned:function(e){return!this.isNotScanned(e)},isScanPending:function(e){return this._isScanPendingValue(this.getScanValue(e))},_isScanPendingValue:function(e){return this.Status.SCAN_PENDING===e},isViewableEncryptedPdf:function(e){if(this._isViewableEncryptedPdfValue(this.getScanValue(e))&&!this.failedThumbnail(e)){if("P"===e.get("rendition")||"D"===e.get("rendition2"))return!0;if(n.isEncryptedPDFPreviewAllowed)return!0}return!1},_isViewableEncryptedPdfValue:function(e){return this.Status.VIEWABLE_ENCRYPTED_PDF===e},isInfected:function(e){return this._isInfectedValue(this.getScanValue(e))},_isInfectedValue:function(e){return this.Status.INFECTED===e},isSkipped:function(e){return this._isSkippedValue(this.getScanValue(e))},_isSkippedValue:function(e){return t.contains([this.Status.LEGACY_SKIPPED,this.Status.SKIPPED,this.Status.ENCRYPTED,this.Status.SKIPPED_ENCRYPTED],e)},isClean:function(e){return t.contains([this.Status.CLEAN,this.Status.CLEAN_PARTIAL],this.getScanValue(e))},isEncryptedPDF:function(e){return!!e.has("dFlags")&&e.get("dFlags").isVirusScanPdfEncrypted},failedPreview:function(e){return!!e.has("dFlags")&&e.get("dFlags").hasPreviewGenerationFailure},failedThumbnail:function(e){return!!e.has("dFlags")&&e.get("dFlags").hasThumbnailGenerationFailure},getScanValue:function(e){if(e.has("dFlags")){var i=0,n=e.get("dFlags");return!n.isVirusScanRequested||n.isVirusScanned||n.isVirusScanSuccessful?n.isVirusScanRequested&&n.isVirusScanSuccessful&&!n.isVirusScanned?i=520:t.each(t.keys(n),(function(e){switch(e){case"isVirusScanned":i+=n[e]?4:0;break;case"isVirusScanSuccessful":i+=n[e]?8:0;break;case"isVirusScanPartial":i+=n[e]?128:0;break;case"isVirusScanFileEncrypted":i+=n[e]?256:0;break;case"isVirusScanPdfEncrypted":i+=n[e]?1024:0}})):i=512,i}return 8},getVirusScanStatusText:function(e){var t=this.getScanValue(e);return this._isNotScannedValue(t)?docs.i18n.t("NOT_SCANNED_FOR_VIRUSES"):this._isScanPendingValue(t)?docs.i18n.t("SCAN_PENDING"):this._isInfectedValue(t)?docs.i18n.t("INFECTED_WITH_VIRUS"):this._isSkippedValue(t)?docs.i18n.t("UNABLE_TO_SCAN"):docs.i18n.t("SCANNED_FOR_VIRUSES")},isActionAllowed:function(e,i){if(!t.has(this.Action,i)){var n="Unknown action "+i;throw console.error(n),new Error(n)}if(!e.has("dFlags"))return!0;switch(i){case this.Action.VIEW:return!this.failedPreview(e)&&(this.isClean(e)||this.isNotScanned(e)||this.isScanPending(e)||this.isViewableEncryptedPdf(e));case this.Action.ACTION_MS_VIEW:case this.Action.ACTION_MS_EDIT:case this.Action.ACTION_DOWNLOAD:case this.Action.ACTION_SHARE_LINK:case this.Action.ACTION_COPY:case this.Action.ACTION_ADD_TO_ASSETS:return!this.isScanPending(e)&&(this.isClean(e)||this.isNotScanned(e)||this.isSkipped(e))}}}})),define("core/util/Thumbs",["jquery","underscore","core/util/Globals","core/util/Service","common/docs/VirusScanUtils"],(function(e,t,docs,i,n){"use strict";var s=docs.common.Globals,o={overlayClass:"thumbType-png",thumb40:"imagefile_40.png",thumb120:"imagefile_120.png",thumb150:"imagefile_150.png",thumbSVG:"imagefile_redwood.svg",thumbWhiteSVG:"imagefile_white.svg",thumbUxIcon:"oj-ux-ico-file-image",isImage:!0},a={overlayClass:"thumbType-html",thumb40:"html_40.png",thumb120:"html_120.png",thumb150:"html_150.png",thumbSVG:"html_redwood.svg",thumbWhiteSVG:"html_white.svg",thumbUxIcon:"oj-ux-ico-file-code",useExtension:!0},r={overlayClass:"thumbType-doc",thumb40:"doc_40.png",thumb120:"doc_120.png",thumb150:"doc_150.png",thumbSVG:"doc_redwood.svg",thumbWhiteSVG:"doc_white.svg",thumbUxIcon:"oj-ux-ico-file-doc",useExtension:!0,gridAlignTop:!0},l={overlayClass:"thumbType-txt",thumb40:"txt_40.png",thumb120:"txt_120.png",thumb150:"txt_150.png",thumbSVG:"txt_redwood.svg",thumbWhiteSVG:"txt_white.svg",thumbUxIcon:"oj-ux-ico-file-text",useExtension:!0,gridAlignTop:!0},c={overlayClass:"thumbType-mov",thumb40:"mov_40.png",thumb120:"mov_120.png",thumb150:"mov_150.png",thumbSVG:"mov_redwood.svg",thumbWhiteSVG:"mov_white.svg",thumbUxIcon:"oj-ux-ico-file-media",useExtension:!0},d={overlayClass:"thumbType-ppt",thumb40:"ppt_40.png",thumb120:"ppt_120.png",thumb150:"ppt_150.png",thumbSVG:"ppt_redwood.svg",thumbWhiteSVG:"ppt_white.svg",thumbUxIcon:"oj-ux-ico-file-presentation",useExtension:!0},u={overlayClass:"thumbType-xls",thumb40:"xls_40.png",thumb120:"xls_120.png",thumb150:"xls_150.png",thumbSVG:"xls_redwood.svg",thumbWhiteSVG:"xls_white.svg",thumbUxIcon:"oj-ux-ico-file-spreadsheet",useExtension:!0,gridAlignTop:!0},h={overlayClass:"thumbType-zip",thumb40:"zip_40.png",thumb120:"zip_120.png",thumb150:"zip_150.png",thumbSVG:"zip_redwood.svg",thumbWhiteSVG:"zip_white.svg",thumbUxIcon:"oj-ux-ico-file-zip",useExtension:!0},p={overlayClass:"thumbType-mp3",thumb40:"audio_40.png",thumb120:"audio_120.png",thumb150:"audio_150.png",thumbSVG:"audio_redwood.svg",thumbWhiteSVG:"audio_white.svg",thumbUxIcon:"oj-ux-ico-file-music",useExtension:!0},m={overlayClass:"thumbType-unknown",thumb40:"others_40.png",thumb120:"others_120.png",thumb150:"others_150.png",thumbSVG:"others_redwood.svg",thumbWhiteSVG:"others_white.svg",thumbUxIcon:"oj-ux-ico-file",useExtension:!0},f={overlayClass:"thumbType-png",thumb40:"virus_40.png",thumb120:"virus_120.png",thumb150:"virus_150.png",thumbSVG:void 0,thumbWhiteSVG:void 0,useExtension:!1,isImage:!0},g={overlayClass:void 0,thumb40:void 0,thumb120:void 0,thumb150:void 0,thumbSVG:"AntiVirus-card.svg",thumbWhiteSVG:void 0,thumbUxIcon:"oj-ux-ico-file-unknown",useExtension:!1,isImage:!0},v={odg:t.clone(o),fodg:t.clone(o),png:t.clone(o),jpeg:t.clone(o),jpg:t.clone(o),jpe:t.clone(o),jp2:t.clone(o),jif:t.clone(o),jfif:t.clone(o),jfi:t.clone(o),gif:t.clone(o),tiff:t.clone(o),tif:t.clone(o),psd:t.clone(o),bmp:t.clone(o),qif:t.clone(o),qti:t.clone(o),qtif:t.clone(o),exif:t.clone(o),img:t.clone(o),raw:t.clone(o),pic:t.clone(o),px:t.clone(o),svg:checkFeatureFlag("svg.thumbnail")?t.clone({overlayClass:"thumbType-svg",thumb40:"imagefile_40.png",thumb120:"imagefile_120.png",thumb150:"imagefile_150.png",thumbSVG:"imagefile_redwood.svg",thumbWhiteSVG:"imagefile_white.svg",thumbUxIcon:"oj-ux-ico-file-image",isImage:!0,isSVG:!0}):t.clone(o),webp:t.clone(o),htm:t.clone(a),html:t.clone(a),url:t.clone(a),webloc:t.clone(a),xhtml:t.clone(a),doc:t.clone(r),docx:t.clone(r),docm:t.clone(r),dot:t.clone(r),dotx:t.clone(r),txt:t.clone(l),text:t.clone(l),list:t.clone(l),log:t.clone(l),odt:t.clone(l),ott:t.clone(l),pages:t.clone(l),rtf:t.clone(l),rtfd:t.clone(l),fodt:t.clone(l),js:t.clone(l),json:t.clone(l),pdf:t.clone({overlayClass:"thumbType-pdf",thumb40:"pdf_40.png",thumb120:"pdf_120.png",thumb150:"pdf_150.png",thumbSVG:"pdf_redwood.svg",thumbWhiteSVG:"pdf_white.svg",thumbUxIcon:"oj-ux-ico-file-acrobat",useExtension:!0,gridAlignTop:!0}),mov:t.clone(c),"3g2":t.clone(c),"3gp":t.clone(c),asf:t.clone(c),asx:t.clone(c),avi:t.clone(c),flv:t.clone(c),m4v:t.clone(c),mp4:t.clone(c),mpg:t.clone(c),mpeg:t.clone(c),rm:t.clone(c),swf:t.clone(c),vob:t.clone(c),wmv:t.clone(c),divx:t.clone(c),ogv:t.clone(c),webm:t.clone(c),ppt:t.clone(d),pptx:t.clone(d),pot:t.clone(d),potx:t.clone(d),odp:t.clone(d),fodp:t.clone(d),otp:t.clone(d),key:t.clone(d),keynote:t.clone(d),xls:t.clone(u),xlsm:t.clone(u),xlm:t.clone(u),xlsx:t.clone(u),xlt:t.clone(u),xltx:t.clone(u),ods:t.clone(u),fods:t.clone(u),ots:t.clone(u),numbers:t.clone(u),zip:t.clone(h),"7z":t.clone(h),mp3:t.clone(p),aac:t.clone(p),ogg:t.clone(p),wav:t.clone(p),wma:t.clone(p)},_={images:[".jpg",".jpeg",".gif",".png",".tiff",".bmp"],documents:[".pptx",".ppt",".zip",".pdf",".docx",".doc",".text",".xlsx",".xls"],videos:[".mp4",".mpg",".mpeg",".mov",".flv",".wmv",".asf",".asx",".m4v",".rm",".swf",".vob",".divx",".avi",".ogv",".webm",".3gp",".3g2"],html:[".html"]};return docs.common.Thumbs={getSupportedExtensions:function(e){if(!e)throw new Error("Digital asset type is required");var t;if(-1!==(t=Array.isArray(e)?e.map((function(e){return e.toLowerCase()})):[e.toLowerCase()]).indexOf("other")||-1!==t.indexOf("files"))return[];for(var i=[],n=0;n<t.length;n++){if(!_[t[n]])throw new Error("Invalid digital asset type "+t[n]);i=i.concat(_[t[n]])}return i},getTypeClasses:function(){return t.uniq(t.pluck(t.extend({},v,{___:m}),"overlayClass")).join(" ")},getThumbDetails:function(e,i){var o,a=!1,r=!1,l=!1,c=!1,d=!1;return e||(e=""),(i=i||{}).thumbDetailsCB&&(o=i.thumbDetailsCB(e)),o||(o=v[e.toLowerCase()]),o=o||t.clone(m),t.has(o,"overlayText")||(o.overlayText=e?e.substr(0,4).toUpperCase():""),t.has(o,"extension")||(o.extension=e?"."+e.toLowerCase():""),t.has(o,"hasRealThumbnail")||(o.hasRealThumbnail=this.hasSystemThumbnail(e)),i.model&&(a=n.isInfected(i.model),r=n.isScanPending(i.model),l=n.isSkipped(i.model),c=n.failedThumbnail(i.model),d=n.isEncryptedPDF(i.model)),(a||i.infected)&&(o=t.extend({},o,f)),r||i.scanPending?o=t.extend({},o,g):(l||i.skipped)&&(o=t.extend({},o,{hasRealThumbnail:!1})),c?o=t.extend({},o,{hasRealThumbnail:!1}):d&&(o="P"===i.model.get("rendition")||"D"===i.model.get("rendition2")||s.isEncryptedPDFPreviewAllowed?t.extend({},o,{hasRealThumbnail:!0}):t.extend({},o,{hasRealThumbnail:!1})),o},_hasOnCheckinThumbnail:function(e){e||(e="");return"svg"===e.toLowerCase()&&checkFeatureFlag("svg.thumbnail")||s.thumbs&&1===s.thumbs.checkin[e.toLowerCase()]},_hasOnDemandThumbnail:function(e){return e||(e=""),this._hasOnCheckinThumbnail(e)||s.thumbs&&1===s.thumbs.onDemand[e.toLowerCase()]},hasSystemThumbnail:function(e){return"svg"===e.toLowerCase()&&checkFeatureFlag("svg.thumbnail")||this._hasOnCheckinThumbnail(e)||this._hasOnDemandThumbnail(e)},getThumbnailFormat:function(e){return e=(e=e||"").toLowerCase(),t.isEqual(e,"webp")&&this.hasSystemThumbnail(e)?"webp":"png"},getFileTypeIconUrl:function(e){var t=this.getThumbDetails(e);return s.staticRoot+"images/thumbs/"+t.thumbSVG},getUrl:function(e){var t,n=this.getThumbDetails(e.extension,e);switch(e.size){case"extra-large":t=n.thumbSVG||n.thumb150;break;case"large":t=n.thumbSVG||n.thumb120;break;default:t=n.thumbSVG||n.thumb40}var o=s.staticRoot+"images/thumbs/"+t;if(e.inTrash||e.infected||e.scanPending||e.skipped||e.wantGeneric||n.wantGeneric)return o;if(n.hasRealThumbnail&&n.isImage||this._hasOnCheckinThumbnail(e.extension)||e.onDemand&&this._hasOnDemandThumbnail(e.extension)){const t="svg"===e.extension.toLowerCase()&&checkFeatureFlag("svg.thumbnail")?"GET_RENDITION_STREAM":"GET_THUMBNAIL";o=i.formatServiceUrl(t,{skipSuppress:!0,addAccessToken:!0}),o+="&item=fFileGUID:"+e.id,e.revision&&(o+="&dRevLabel="+e.revision),o+="&noSaveAs=1"}return o}},docs.common.Thumbs})),define("core/util/SitesGlobals",["core/util/Globals"],(function(docs,e){"use strict";var sites=window.sites=window.sites===e?{}:window.sites;return sites.common=docs.common,sites.events=docs.events,sites.views={},sites.models={},sites.dialogs={},sites})),define("core/plugin/jquery.bitparse",["jquery"],(function(e){"use strict";e.bitParse=function(e,t){var i={},n=parseInt(e||0,10);for(var s in t)if(t.hasOwnProperty(s)){var o=t[s];i[s]=(n&o)===o}return i},e.bitBuild=function(e,t){var i=0;for(var n in t)e.hasOwnProperty(n)&&e[n]&&(i|=t[n]);return i}})),define("core/util/Jsonify",["jquery","underscore","backbone","core/util/Globals","core/util/Session","core/util/Service","core/util/Logger","core/plugin/jquery.bitparse"],(function(e,t,i,docs,n,s){"use strict";var o=docs.common.Globals,a=/&dFlags=(\d+);/;i.emulateHTTP=!0,i.emulateJSON=!0;var r={isAnnotated:1,isAnnotatedLatest:2,isSyncd:4,isShared:8,isLinked:16,isInTrash:64,arePublicLinksDisabled:256,hasAssocConversation:8192,stdExternalUsersDisabled:2097152},l={isVirusScanned:4,isVirusScanSuccessful:8,isVirusScanPartial:128,isVirusScanFileEncrypted:256,isVirusScanRequested:512,isVirusScanPdfEncrypted:1024,hasPreviewGenerationFailure:16384,hasThumbnailGenerationFailure:32768},c={folderPreview:1,folderRead:2,folderWrite:4,folderUpdate:8,folderDelete:16,filePreview:64,fileRead:128,fileWrite:256,fileUpdate:512,fileDelete:1024,directShareRead:4096,directShareWrite:8192,directShareUpdate:16384,directShareDelete:32768,linkShareRead:65536,linkShareWrite:131072,linkShareUpdate:262144,linkShareDelete:524288,annotationRead:1048576,annotationWrite:2097152,annotationUpdate:4194304,annotationDelete:8388608,convRead:16777216,convWrite:33554432,convUpdate:67108864,convDelete:134217728,needFetch:2147483648},d={allowPublicLinks:1,allowContributorInviteMembers:2,allowGuestUserCreation:4,allowProvisioningExistingTenantUser:8,allowUserConfigExpiration:16,allowIFrameEmbedding:32,allowOracleCloudEmbedding:64,showAnonymousLinkWarning:128,showCustomAnonymousLinkWarning:256},u={autoAcceptSharing:1,allowPublicLinks:2,allowGuestUserCreation:4,allowContributorInviteMembers:8};return docs.common.Jsonify={flags:r,dFlags:l,allowedActions:c,tenantFlags:d,userFlags:u,fieldMap:{actionStatus:{action:"action",itemId:"item",itemType:"itemType",user:"dUser",targetUser:"dTargetUser",displayName:"fDisplayName",resolvedName:"fResolvedName",success:"isSuccessful",resolutionCode:"fResolutionCode",statusCode:"statusCode",statusMessage:"statusMessage"},folder:{id:{name:"fFolderGUID",alt:"fItemGUID"},name:{name:"fFolderName",alt:"fItemName"},description:"fFolderDescription",size:"fFolderSize",createdAt:"fCreateDate",createdBy:"fCreator",createdByName:"fCreatorFullName",modifiedAt:"fLastModifiedDate",modifiedBy:"fLastModifier",modifiedByName:"fLastModifierFullName",ownedBy:"fOwner",ownedByName:"fOwnerFullName",ownedByLoginId:"fOwnerLoginName",parentID:"fParentGUID",childFilesCount:"fChildFilesCount",childFoldersCount:"fChildFoldersCount",application:"fApplication",folderIcon:"xFolderIcon",approvalPolicy:"xApprovalPolicy",publishPolicy:"xPublishPolicy",collectionSiteId:"xCollectionSiteId",flags:{name:"fFlags",type:"bitmask",mask:r},allowedActions:{name:"dAllowedActions",type:"bitmask",mask:c},parentShared:{name:"parentShared",type:"boolean"},roleName:"dRoleName",realID:"fRealItemGUID"},file:{id:{name:"fFileGUID",alt:"fItemGUID"},name:{name:"fFileName",alt:"fItemName"},targetID:"fTargetGUID",description:"fFileDescription",size:"dFileSize",createdAt:"fCreateDate",createdBy:"fCreator",createdByName:"fCreatorFullName",modifiedAt:"fLastModifiedDate",modifiedBy:"fLastModifier",modifiedByName:"fLastModifierFullName",ownedBy:"fOwner",ownedByName:"fOwnerFullName",ownedByLoginId:"fOwnerLoginName",parentID:"fParentGUID",original_name:"dOriginalName",fileType:"dFormat",extension:"dExtension",revision:"dRevisionID",latestRevision:{name:"dLatestActiveRevisionID",alt:"dLatestRevisionID"},lastRevision:"dLastRevID",processingState:"dProcessingState",application:"fApplication",flags:{name:"fFlags",type:"bitmask",mask:r},dFlags:{name:"dFlags",type:"bitmask",mask:l},allowedActions:{name:"dAllowedActions",type:"bitmask",mask:c},rendition:"dRendition1",rendition2:"dRendition2",reservedAt:"fReservationDate",reservedBy:"fReservedBy",reservedByName:"fReservedByFullName"},searchItem:{id:"fItemGUID",name:{name:"fItemName"},type:"fItemType",parentID:"fParentGUID",targetID:"fTargetGUID",createdAt:"fCreateDate",modifiedAt:"fLastModifiedDate",createdBy:"fCreator",createdByName:"fCreatorFullName",ownedBy:"fOwner",ownedByName:"fOwnerFullName",modifiedBy:"fLastModifier",modifiedByName:"fLastModifierFullName",size:"dFileSize",extension:"dExtension",fileType:"dDocFormatType",revision:"dRevLabel",rendition:"dRendition1",description:"fFolderDescription",customMetadata:"customMetadata",assetStatus:"xApprovalState",publishedRevision:"xPublishedVersion",publishedTargets:"xPublishedTargets",caasGuid:"xCaaSGUID"},assetRepository:{channeltoken:{id:"key",token:"value"},channel:{id:"arChannelId",name:"arChannelName"},info:{id:"repositoryId",defaultLang:"xARDefaultLanguage",langOptions:"xARLanguageOptions"}},task:{type:"taskType",success:"taskWasSuccessful",id:"fItemIdentifier",name:"fDisplayName",code:"taskResolutionCode",message:"taskMessage"},autosuggestUserFullName:{label:"term",value:"dEmail",name:"term",score:"score",proximity:"proximity",guid:"dName",email:"dEmail",fullName:"dNameFullName",loginId:"dNameLoginName"},autosuggestUserEmail:{label:"dNameFullName",value:"term",name:"dNameFullName",score:"score",proximity:"proximity",guid:"dName",email:"term",loginId:"dNameLoginName"},autosuggestSiteVisitorName:{label:"dFullName",value:"dEmail",name:"dFullName",score:"score",proximity:"proximity",email:"dEmail",term:"term",loginName:"dLoginName",loginId:"dLoginName"},autosuggestSiteVisitorEmail:{label:"dFullName",value:"term",name:"dFullName",score:"score",proximity:"proximity",email:"term",loginName:"dLoginName",fullName:"dFullName",loginId:"dLoginName"},pageExport:{pageId:"PageId",name:"RenditionName",width:"Width",height:"Height"},collaborator:{id:"dUserID",name:"dUserIDFullName",type:"dUserType",value:"dEmail",role:"dRoleName",itemId:"fFolderGUID",loginId:"dUserIDLoginName",groupOriginType:"dGroupOriginType",isExternalUser:{name:"isExternalUser",type:"boolean"}},auditEvent:{id:"dActivityID",type:"dActivityType",time:"dActivityTs",performedBy:"dNameFullName",statusCode:"dStatusCode",statusMessage:"dStatusMessage",itemVersion:"dRevLabel",linkName:"dObjectName"},copyFileNewDocInfo:{revision:"dRevLabel",createdAt:"dCreateDate",name:"dOriginalName",format:"dFormat",extension:"dExtension",size:"dFileSize",modifiedAt:"dDocLastModifiedDate",modifiedBy:"dDocLastModifierFullName"},timezones:{value:"lcTimeZone",label:"lcLabel"},language:{label:"lcLocaleDisplayName",value:"lcLocaleID",langId:"lcLanguageId"},device:{guid:"dDeviceGUID",name:"dDeviceName",owner:"dDeviceOwner",type:"dDeviceType",lastConnectTime:"dLastConnectionTime"},notifications:{receiveEmailNotifications:{name:"dNotifyByEmail",type:"boolean"},emailFolderAccessChange:{name:"dNotifyFolderAccessChangeByEmail",type:"boolean"},emailFolderShared:{name:"dNotifySharedFolderByEmail",type:"boolean"}},quotas:{user_quota:{name:"dUserQuota",type:"quota-string"},user_quota_used:{name:"dUserQuotaUsed",type:"quota-string"},user_trash_size:{name:"dUserTrashSize",type:"quota-string"}},userInfo:{user_flags:{name:"dUserFlags",type:"bitmask",mask:u},user_name:"dName",defaultPublicLinkRole:"dDefaultPublicLinkRoleName",defaultAnnotationRole:"dDefaultAnnotationRoleName",time_zone:"dUserTimeZone",locale:"dUserLocale"},userTenantConfig:{tenantAllowsPublicLinks:{name:"AllowPublicLinks",type:"boolean"},max_file_size:{name:"dMaxFileSize",type:"integer"},extension_black_list:{name:"dExtensionBlackList",type:"list-string",separators:","},tenantMaxLinkRole:"dMaxPublicLinkRoleName"},userStates:{maxPublicLinkRole:"dMaxPublicLinkRoleName"},tenantInfo:{user_quota:{name:"dUserQuota",type:"quota-string"},maxAdhocRenditions:{name:"dMaxNumberOfAdhocRenditions",type:"integer"},maxVideoAssetSize:{name:"dMaxVideoAssetSize",type:"integer"},tenant_quota:{name:"dTenantQuota",type:"quota-string"},maxVersions:{name:"dFileVersionLimit",type:"integer"},tenant_quota_used:{name:"dQuotaUsed",type:"quota-string"},user_trash_expiration:{name:"dUserTrashExpiration",type:"integer"},tenant_trash_expiration:{name:"dTenantTrashExpiration",type:"integer"},default_link_expiration:"dDefaultLinkExpiration",max_file_size:{name:"dMaxFileSize",type:"integer"},extension_black_list:{name:"dExtensionBlackList",type:"list-string",separators:","},default_annotation_role:"dDefaultAnnotationRoleName",default_public_link_role:"dDefaultPublicLinkRoleName",default_sharing_role:"dDefaultSharingRoleName",default_shared_link_type:"dDefaultSharedLinkType",publicLinkScope:"dPublicLinkScope",max_public_link_role:"dMaxPublicLinkRoleName",customAnonymousLinkWarningMsg:"dCustomAnonymousLinkWarning",maxPublicLinkLife:{name:"dMaxPublicLinkLife",type:"integer"},tenant_flags:{name:"dTenantFlags",type:"bitmask",mask:d},allowSites:{name:"AllowSCSCreateSites",type:"boolean"},allowSitesSharing:{name:"SitesSharingEnabled",type:"boolean"},governanceEnabled:{name:"IsSitesGovernanceEnabled",type:"boolean"},onlyAdminCreateSites:{name:"OnlySCSAdminCreateSite",type:"boolean"},onlyAdminCreateThemes:{name:"OnlySCSAdminCreateTheme",type:"boolean"},onlyAdminCreateTemplates:{name:"OnlySCSAdminCreateTemplate",type:"boolean"},onlyAdminCreateComponents:{name:"OnlySCSAdminCreateApp",type:"boolean"},allowPublicSites:{name:"AllowSCSPublicSites",type:"boolean"},allowOnlySecureSites:{name:"AllowSCSOnlyCreateSecureSites",type:"boolean"},allowOnlyDocsUser:{name:"AllowSCSOnlyDocsUser",type:"boolean"},allowOnlyIndividualUser:{name:"AllowSCSOnlyIndividualUser",type:"boolean"},prerenderEnabled:{name:"IsSitesPrerenderEnabled",type:"boolean"},isExpiredSiteAutoOfflineEnabled:{name:"IsExpiredSiteAutoOfflineEnabled",type:"boolean"},isExpiredSiteAutoDeleteEnabled:{name:"IsExpiredSiteAutoDeleteEnabled",type:"boolean"},isUsageAnalyticsEnabled:{name:"IsUsageAnalyticsEnabled",type:"toLowerCase"},daysAfterSiteExpiryToDelete:{name:"dDaysAfterSiteExpiryToDelete",type:"integer"},SCSStaticDeliveryHeaders:"SCSStaticDeliveryHeaders",iFrameDomainSettings:"dIFrameEmbedding",corsSettings:"dTenantCorsList",prerenderUserAgents:"dPrerenderUserAgents",enableVirusScan:"EnableVirusScan",enableMetadataTags:"EnableMetadataTags",enableMetadataPairs:"EnableMetadataPairs",enableMetadataAdmin:"EnableMetadataAdmin",allowCleanFilesOnly:"AllowCleanFilesOnly",allowEncryptedPDFPreview:"AllowEncryptedPDFPreview",virusFalsePositiveListConsulted:"VirusFalsePositiveListConsulted",serviceAdminMailToEmailAddress:"ServiceAdminMailToEmailAddress",virusFalsePositiveList:"VirusFalsePositiveList",permanentlyDeleteCleanedUpRevisions:"PermanentlyDeleteCleanedUpRevisions",deletionPrivilegeRoles:"DeletionPrivilegeRoles",customHelpUrl:"CustomHelpURL",customFeedbackUrl:"CustomFeedbackURL",customDownloadUrl:"CustomDownloadURL",customBranding:"CustomBranding",customLogoDescription:"HeaderDescription",brandedLogoFilename:"BrandedLogoFileName",akamaiDomainValidationStatus:"AkamaiDomainValidationStatus",akamaiPropertyStatus:"AkamaiPropertyStatus",akamaiCertificateIssuer:"AkamaiCertificateIssuer",akamaiPropertyHostname:"AkamaiPropertyHostname",akamaiEdgeName:"AkamaiEdgeName",akamaiEdgeId:"AkamaiEdgeId",akamaiEnrollmentID:"AkamaiEnrollmentID",orgInfo_Organization:"OrgInfo_Organization",orgInfo_OrganizationName:"OrgInfo_OrganizationName",orgInfo_Address:"OrgInfo_Address",orgInfo_City:"OrgInfo_City",orgInfo_Region:"OrgInfo_Region",orgInfo_PostalCode:"OrgInfo_PostalCode",orgInfo_Country:"OrgInfo_Country",orgInfo_Phone:"OrgInfo_Phone",adminContact_FirstName:"AdminContact_FirstName",adminContact_LastName:"AdminContact_LastName",adminContact_Phone:"AdminContact_Phone",adminContact_Email:"AdminContact_Email",serviceInstanceID:"dServiceInstanceID",tenantID:"dTenantID"},inactiveUser:{id:"dName",name:"dNameFullName",quota:"dUserQuota",quotaUsed:"dUserQuotaUsed"},domain:{domainName:"DomainName",domainDescription:"DomainDescription",siteKey:"SiteKey",isPrimaryDomain:"IsPrimaryDomain",isInCertificate:"IsInCertificate",edgeMapped:"EdgeMapped",propertyVersion:"PropertyVersion",isDeliveryNetworkDomain:"IsDeliveryNetworkDomain"},contentTypes:{name:"fFolderName",id:"fFolderGUID",caasGuid:{name:"xCaaSGUID",alt:"caaSGUID"}},getCSFieldName:function(e,i,n){var s,o=this[e];return t.isString(o[i])?s=o[i]:t.isObject(o[i])&&(s=o[i].name),t.isString(s)&&n&&"d"===s.charAt(0)&&(s=s.slice(1)),s},annotation:{id:"dAnnotationID",itemGuid:{name:"fFileGUID",alt:"dObjectID"},revision:"dRevisionID",context:{name:"dPageNumber",type:"integer"},isDeleted:{name:"dAnnotationFlags",type:"boolean"},conversationId:"dConversationID",chatId:"dMessageID",creatorId:"dAnnotationCreator",creatorName:"dAnnotationCreatorFullName",creatorLoginId:"dAnnotationCreatorLoginName",createdOn:"dAnnotationCreateDate",info:"dAnnotationInfo",caasGuid:"dAssetID",version:"arCaaSVersion",variationSet:"dLanguageVariationSetID",language:"dLanguageValue",renditionId:"dRenditionName"},conversation:{id:"dConversationID"},afAppInfo:{name:"dAppName",description:"dAppDesc",endPoint:"dAppEndPoint",userName:"dAppUserName",enabled:{name:"dIsAppEnabled",type:"boolean"},linkRole:"dAppLinkRole",config:{name:"dAppJSONPayload",type:"jsonString"}},aifAppInfo:{id:"dAppName",enabled:{name:"dIsAppEnabled",type:"boolean"},config:{name:"dAppJSONPayload",type:"jsonString"}},assignedMetaCollection:{item:"dIdentifier",metaColls:"dAssignedMetaCollection"},metaDefinition:{id:"dCollectionID",name:"dMetaCollection",displayName:"dFieldDisplayName",description:"dFieldDescription",parent:"dParentMetaCollection",createdAt:"dCreateDate",createdBy:"dCreator",createdByName:"dCreatorFullName",modifiedAt:"dLastModifiedDate",modifiedBy:"dLastModifier",modifiedByName:"dLastModifierFullName",ownedBy:"dOwner",ownedByName:"dOwnerFullName",flags:"dFlags",defaultDateValue:"dDefaultDateValue",defaultNumValue:"dDefaultNumericValue",defaultTextValue:"dDefaultTextValue",defaultBooleanValue:"dDefaultBooleanValue",isSearchable:{name:"dIsSearchable",type:"boolean"},isSystem:{name:"dIsSystem",type:"boolean"},isCacheable:{name:"dIsCacheable",type:"boolean"},isCopyable:{name:"dIsCopyable",type:"boolean"},isPublic:{name:"dIsPublic",type:"boolean"},isProtected:{name:"dIsProtected",type:"boolean"},isMultiValued:{name:"dIsMultiValued",type:"boolean"},isCollection:{name:"dIsCollection",type:"boolean"},isNonInheritable:{name:"dIsNonInheritable",type:"boolean"},isEnabled:{name:"dIsEnabled",type:"boolean"},isPrivate:{name:"dIsPrivate",type:"boolean"},isMergeable:{name:"dIsMergeable",type:"boolean"},isRequired:{name:"dIsRequired",type:"boolean"},isUnique:{name:"dIsUnique",type:"boolean"},isReadOnly:{name:"dIsReadOnly",type:"boolean"}},metaDefField:{id:"dFieldID",name:"dFieldName",fieldType:"dFieldType",displayName:"dFieldDisplayName",description:"dFieldDescription",parent:"dParentMetaCollection",createdAt:"dCreateDate",createdBy:"dCreator",createdByName:"dCreatorFullName",modifiedAt:"dLastModifiedDate",modifiedBy:"dLastModifier",modifiedByName:"dLastModifierFullName",ownedBy:"dOwner",ownedByName:"dOwnerFullName",flags:"dFlags",defaultDateValue:"dDefaultDateValue",defaultNumValue:"dDefaultNumericValue",defaultTextValue:"dDefaultTextValue",defaultBooleanValue:"dDefaultBooleanValue",isSearchable:{name:"dIsSearchable",type:"boolean"},isSystem:{name:"dIsSystem",type:"boolean"},isCacheable:{name:"dIsCacheable",type:"boolean"},isCopyable:{name:"dIsCopyable",type:"boolean"},isPublic:{name:"dIsPublic",type:"boolean"},isProtected:{name:"dIsProtected",type:"boolean"},isMultiValued:{name:"dIsMultiValued",type:"boolean"},isCollection:{name:"dIsCollection",type:"boolean"},isNonInheritable:{name:"dIsNonInheritable",type:"boolean"},isEnabled:{name:"dIsEnabled",type:"boolean"},isPrivate:{name:"dIsPrivate",type:"boolean"},isMergeable:{name:"dIsMergeable",type:"boolean"},isRequired:{name:"dIsRequired",type:"boolean"},isUnique:{name:"dIsUnique",type:"boolean"},isReadOnly:{name:"dIsReadOnly",type:"boolean"}},actionAllowed:{id:"fItemGUID",allowedActions:{name:"dAllowedActions",type:"bitmask",mask:c},roleName:"dRoleName"},folderPath:{id:"fItemGUID",parentId:"fParentGUID",name:"fItemName"},collection:{id:"fFolderGUID",name:"fFolderName"},publishTarget:{id:"id",name:"name",description:"description",access:"type"},targetTokens:{tokenName:"name",token:"value"}},convertToRealJson:function(e){if(!e.LocalData.json){var i={};e.ResultSets&&t(e.ResultSets).each((function(e,n){var s=[];t(e.rows).each((function(i){var n={};t(i).each((function(t,i){n[e.fields[i].name]=t}),this),s.push(n)}),this),i[n]=s}),this),e.ResultSets=i,docs.common.Logger("Msgs").debug("IdcService="+e.LocalData.IdcService,e),e.LocalData.json=!0}},parseListString:function(e,i){return t.isUndefined(e)||!t.isString(e)||t.isEmpty(e)?[]:(i=i||",",e.split(i))},parseQuotaString:function(e){if(t.isEmpty(e))return 0;var i=e.toUpperCase(),n=i.indexOf("G");-1===n&&(n=i.indexOf("M")),-1===n&&(n=i.indexOf("K")),n>0&&(e=i.slice(0,n));var s=parseInt(e,10);switch(i[n]){case"G":s=1024*s*1024*1024;break;case"M":s=1024*s*1024;break;case"K":s*=1024}return s},parseAnnotationInfo:function(e){var i=e.info.split(",");t.each(i,(function(i){var n=i.trim().toLowerCase().split(":"),s=n[0];if(t.isString(s))switch(s){case"id":case"type":case"field":e[s]=n[1];break;case"xoffset":e.left=this.parseFloat(n[1]);break;case"yoffset":e.top=this.parseFloat(n[1]);break;case"width":case"height":e[s]=this.parseFloat(n[1]);break;case"section":case"left":case"right":case"top":case"bottom":case"c1":case"c2":case"r1":case"r2":e[s]=this.parseInteger(n[1])}}),this),delete e.info},parseJSONString:function(e){var t;try{t=JSON.parse(e)}catch(t){docs.common.Logger("AIF").debug("Error in parsing JSON: "+e+". "+t)}return t},parseInteger:function(e){return t.isEmpty(e)?0:parseInt(e,10)},parseFloat:function(e){return t.isEmpty(e)?0:parseFloat(e)},castToType:function(i,n){var s;if(t.isString(n)&&i.hasOwnProperty(n))s=i[n];else if(n.literal)s=n.literal;else if(t.isObject(n)&&(i.hasOwnProperty(n.name)||n.alt&&i.hasOwnProperty(n.alt))){var o=i[n.name];if("jsonString"!==n.type&&(o=t.escape(o)),!o&&n.alt&&(o=t.escape(i[n.alt])),n.map)s=t.has(n.map,o)?n.map[o]:n.map.defaultValue;else if(n.result)s=t.isFunction(n.result)?n.result(o,i):n.result;else if(n.mask){if("dFlags"===n.name&&e.sessionStorage("debugAsyncVirusScan")){var r=a.exec(i.dOriginalName);null!==r&&(o=r[1])}s=e.bitParse(o,n.mask)}else if(n.type)switch(n.type){case"boolean":s="0"!==o&&0!==o&&"false"!==o;break;case"integer":s=this.parseInteger(o);break;case"list-string":s=this.parseListString(o,n.separators);break;case"quota-string":s=this.parseQuotaString(o);break;case"jsonString":s=this.parseJSONString(o);break;case"toLowerCase":s=o.toLowerCase();break;default:s=o}else s=o}return s},parseLocalData:function(e,i,n){var s={};return s.type=i,t(n).each((function(t,i){var n=this.castToType(e,t);void 0!==n&&(s[i]=n)}),this),s},parseResultSet:function(e,i,n,s){var o=n,a=[];return e&&t(e).each((function(e,r){var l=i||e.fItemType.toLowerCase(),c={type:l};o||(n=this.fieldMap[l]),t(n).each((function(t,i){var n=s?s(e,t):this.castToType(e,t);void 0!==n&&(c[i]=n)}),this),a[r]=c}),this),a},mergeMetadata:function(e,i){e.ResultSets.Metadata&&(t.isArray(e.ResultSets.Metadata)&&(e.ResultSets.Metadata=t(e.ResultSets.Metadata).groupBy("dIdentifier")),i&&t(i).each((function(i){var n=i.fTargetGUID||i.fItemGUID||i.fFolderGUID||i.fFileGUID,s=e.ResultSets.Metadata[n];s&&t(s).each((function(e){var t=e.dNumericValue||e.dDateValue||e.dTextValue;i[e.dFieldName]=t}))})))},mergeDefaultMetadata:function(e,i){if(e.ResultSets.dDefaultFolderMetaCollection){var n=t(e.ResultSets.dDefaultFolderMetaCollection).indexBy("dIdentifier");i&&t(i).each((function(e){var i=e.fTargetGUID||e.fItemGUID||e.fFolderGUID||e.fFileGUID,s=n[i];s&&t(s).each((function(t,i){"dIdentifier"!==i&&(e[i]=t)}))}))}},metadataIdentifiers:function(e){var i=null;return e.ResultSets.Metadata&&(i=t(e.ResultSets.Metadata).groupBy("dIdentifier")),i},isKnownMultiValue:function(e,i){if(t.isEqual(e,"dDefaultFolderMetaCollection"))switch(i){case"xTags":case"xCategories":return!0}else if(t.isEqual(e,"xAssociatedPublishTargetsCollection"))switch(i){case"xAssociatedPublishTargetID":case"xAssociatedPublishTargetName":return!0}return!1},parseMetadata:function(e,i,n){var s={};if(e.ResultSets.Metadata&&i&&i.hasOwnProperty(n)){var o=i[n][0],a=o.dAssignedMetaCollection;a=a.replace("[","").replace("]","").replace(", ",",");var r=o.dInheritedMetaCollection;r=r.replace("[","").replace("]","").replace(", ",",");var l=a.split(","),c=r.split(","),d=this.parseResultSet(e.ResultSets.MetadataCollection,"metaDef",this.fieldMap.metaDefinition);t.each(l,(function(i){var a=t(e.ResultSets[i]).groupBy("dIdentifier"),r=c.indexOf(i)>=0,l=d?t.findWhere(d,{name:i}):null,u=!!l&&l.isSystem,h=!!l&&l.isPublic,p=!!l&&l.isPrivate;s[i]={values:{},inherited:r,isSystem:u,isTenant:h,isPersonal:p};var m=o.hasOwnProperty(i)?o[i]:n;m=m.split(","),t.each(m,(function(e){if(a.hasOwnProperty(e)){var n=Object.keys(a[e][0]);t.each(n,(function(n){if("dIdentifier"!==n){var o=a[e][0][n];this.isKnownMultiValue(i,n)?(s[i].values[n]=[],t.isEmpty(o)||Array.prototype.push.apply(s[i].values[n],o.split(","))):s[i].values[n]=o}}),this)}}),this)}),this)}return s},parseMetadataDefintions:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.MetadataCollection,"metaDef",this.fieldMap.metaDefinition);return t(i).each((function(t){var i=this.parseResultSet(e.ResultSets[t.name],"metaField",this.fieldMap.metaDefField).sort((function(e,t){var i=Date.parse(e.createdAt),n=Date.parse(t.createdAt);return i===n?0:i>n?1:-1}));t.fields=i}),this),i},_isGovernanceEnabled:t.once((function(){return osn.authz.can("route","SitesGov")})),parse_FLD_BROWSE_ITEMS:function(i,n){n=n||{},t.defaults(n,{foldersRS:"ChildFolders",filesRS:"ChildFiles"}),this.convertToRealJson(i),s.setIdcToken(i);var a=this.parseResultSet(i.ResultSets[n.foldersRS],"folder",this.fieldMap.folder),r=this.parseResultSet(i.ResultSets[n.filesRS],"file",this.fieldMap.file),l=this.parseResultSet(i.ResultSets.ChildItems),c=a.concat(r,l),d=i.LocalData.dAllowedActions||8388607,u=e.bitParse(d,this.allowedActions),h=!!i.LocalData.parentShared&&"1"===i.LocalData.parentShared,p=i.ResultSets.FolderInfo?i.ResultSets.FolderInfo[0].fFlags:0,m=e.bitParse(p,this.flags),f=this.metadataIdentifiers(i),g=i.ResultSets.FolderInfo?i.ResultSets.FolderInfo[0].fFolderGUID:null;g&&this.parseMetadata(i,f,g);return t(c).each((function(e){e.fetched=!0,e.type=n.type||e.type,e.application=e.application||e.type,e.metadata=this.parseMetadata(i,f,e.id),"folder"!==e.type||t.has(e,"parentShared")||(e.parentShared=m.isShared||h),e.allowedActions?"folder"===e.type&&e.ownedBy!==o.userid?(e.allowedActions.folderDelete=!1,e.roleName=e.roleName||e.allowedActions.directShareWrite?"manager":e.allowedActions.folderWrite?"contributor":e.allowedActions.folderRead?"downloader":"viewer"):e.roleName=e.roleName||i.LocalData.dRoleName:(e.allowedActions=t.clone(u),e.roleName=e.roleName||i.LocalData.dRoleName,e.flags&&e.flags.arePublicLinksDisabled&&(e.allowedActions.linkShareRead=!1,e.allowedActions.linkShareUpdate=!1,e.allowedActions.linkShareWrite=!1,e.allowedActions.linkShareDelete=!1)),"folder"===e.type&&e.id===docs.common.DAM.FOLDER_ID&&(e.allowedActions.folderDelete=!1,e.allowedActions.directShareRead=!1,e.allowedActions.linkShareRead=!1),"folder"===e.type&&g===docs.common.DAM.FOLDER_ID&&(e.allowedActions.folderDelete=!0,e.allowedActions.folderUpdate=!0),"file"===e.type&&"FLD_BROWSE_PERSONAL"===i.LocalData.IdcService&&(e.allowedActions.directShareRead=!0,e.allowedActions.directShareWrite=!0,e.allowedActions.directShareUpdate=!0,e.allowedActions.directShareDelete=!0)}),this),docs.common.Logger("ContainerItems").debug("FLD_BROWSE_ITEMS",c),c},parse_FLD_BROWSE_FAVORITES:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.ChildFolders,"folder",this.fieldMap.folder),n=this.parseResultSet(e.ResultSets.ChildFiles,"file",this.fieldMap.file),o=i.concat(n),a=[];return t(o).each((function(e,t){a[t]=e.id})),docs.common.Logger("ContainerItems").debug("FLD_BROWSE_FAVORITES",o),a},parse_FLD_BROWSE_FOLDER:function(i){this.convertToRealJson(i),s.setIdcToken(i);var n=i.ResultSets.FolderInfo[0].fFolderGUID,a=this.parseMetadata(i,this.metadataIdentifiers(i),n);t.isArray(i.ResultSets.FolderInfo)&&i.ResultSets.FolderInfo.length>0&&0===i.ResultSets.FolderInfo[0].fApplication.indexOf("framework.site")&&this.mergeMetadata(i,i.ResultSets.FolderInfo);var r=this.parseResultSet(i.ResultSets.FolderInfo,"folder",this.fieldMap.folder)[0]||{};return n==="F:USER:"+o.userid&&(r.name=o.userName),r.allowedActions=e.bitParse(i.LocalData.dAllowedActions,this.allowedActions),r.parentShared=!!i.LocalData.parentShared&&"1"===i.LocalData.parentShared,r.roleName=i.LocalData.dRoleName,r.parentExternalUsersDisabled=!!i.LocalData.parentExternalUsersDisabled&&"1"===i.LocalData.parentExternalUsersDisabled,r.hasExternalUserAccess=!!i.LocalData.hasExternalUserAccess&&"1"===i.LocalData.hasExternalUserAccess,r.hasExternalLinks=!!i.LocalData.hasExternalLinks&&"1"===i.LocalData.hasExternalLinks,t.isEmpty(a)||(r.metadata=a),r},parse_GET_SEARCH_RESULTS:function(e,i,a){var r={};this.convertToRealJson(e),s.setIdcToken(e),r.allowedActions=t.extend({needFetch:!1,annotationDelete:!1,annotationRead:!1,annotationUpdate:!1,annotationWrite:!1,directShareDelete:!1,directShareRead:!1,directShareUpdate:!1,directShareWrite:!1,fileDelete:!1,filePreview:!1,fileRead:!1,fileUpdate:!1,fileWrite:!1,folderDelete:!1,folderPreview:!1,folderRead:!1,folderUpdate:!1,folderWrite:!1,linkShareDelete:!1,linkShareRead:!1,linkShareUpdate:!1,linkShareWrite:!1},a||{}),r.flags={isAnnotated:!1,isAnnotatedLatest:!1,isLinked:!1,isShared:!1,isSyncd:!1};var l=e.LocalData.TotalRows;return r.type="folder",r.resultsCount=l,r.searchScopeName=e.LocalData.SearchFolderNames||"","global"===i?(r.parentID=n.getPersonalFolderId(),r.id="FLD_SEARCH:"+o.userid,r.name=docs.i18n.t("SEARCH_FOLDER_SCOPED_VALUE")):(r.parentID=i,r.id="FLD_SEARCH:"+i,r.name=r.searchScopeName),r},parse_GET_SEARCH_RESULTS_ITEMS:function(i,n){this.convertToRealJson(i),s.setIdcToken(i);var o=this.parseResultSet(i.ResultSets.SearchResults,"searchItem",this.fieldMap.searchItem),a={isAnnotated:!1,isAnnotatedLatest:!1,isLinked:!1,isShared:!1,isSyncd:!1,isInTrash:!1};return t(o).each((function(i){i.fetched=!0,i.application="framework",i.searchResult=!0,i.allowedActions=n?t.extend({needFetch:!1},e.bitParse(0,this.allowedActions),n):{needFetch:!0},i.flags=a,i.type&&(i.type=i.type.toLowerCase())}),this),docs.common.Logger("ContainerItems").debug("GET_SEARCH_RESULTS",o),o},parse_GET_NAME_TYPEAHEAD_RESULTS:function(e){var i,n,o,a={Folder:"wc/folder",File:"wc/file"};return this.convertToRealJson(e),s.setIdcToken(e),n=this.parseResultSet(e.ResultSets.FoldersResults,"folder",this.fieldMap.folder),docs.common.Logger("ContainerItems").debug("GET_NAME_TYPEAHEAD_RESULTS folders",n),o=this.parseResultSet(e.ResultSets.FilesResults,"file",this.fieldMap.file),docs.common.Logger("ContainerItems").debug("GET_NAME_TYPEAHEAD_RESULTS files",o),i=o.concat(n),t(i).each((function(e){e.ID=e.id,e._clientObjectType=a[e.type]})),i},parse_GET_FAVORITE_RESULTS:function(e){var t={};this.convertToRealJson(e),s.setIdcToken(e),t.allowedActions={needFetch:!1,annotationDelete:!1,annotationRead:!1,annotationUpdate:!1,annotationWrite:!1,directShareDelete:!1,directShareRead:!1,directShareUpdate:!1,directShareWrite:!1,fileDelete:!1,filePreview:!1,fileRead:!1,fileUpdate:!1,fileWrite:!1,folderDelete:!1,folderPreview:!1,folderRead:!1,folderUpdate:!1,folderWrite:!1,linkShareDelete:!1,linkShareRead:!1,linkShareUpdate:!1,linkShareWrite:!1},t.flags={isAnnotated:!1,isAnnotatedLatest:!1,isLinked:!1,isShared:!1,isSyncd:!1};var i=e.LocalData.TotalChildItemsCount;return t.type="folder",t.resultsCount=i,t.parentID=n.getPersonalFolderId(),t.id="FLD_FAVORITES:"+o.userid,t.name=docs.i18n.t("FAVORITES"),t.ownedBy=n.getUserName(),t},parse_GET_FAVORITE_ITEMS:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.ChildFolders,"folder",this.fieldMap.folder),n=this.parseResultSet(e.ResultSets.ChildFiles,"file",this.fieldMap.file),o=i.concat(n);return t(o).each((function(e){e.fetched=!0,e.searchResult=!0,e.allowedActions={needFetch:!0},e.type&&(e.type=e.type.toLowerCase())})),docs.common.Logger("ContainerItems").debug("parse_GET_FAVORITE_ITEMS",o),o},parse_CHECKIN_UNIVERSAL:function(t){this.convertToRealJson(t),s.setIdcToken(t);var i=this.parseLocalData(t.LocalData,"file",this.fieldMap.file);return i.flags||(i.flags=e.bitParse(0,this.flags)),!i.application&&t.ResultSets.FileInfo&&(i.application=t.ResultSets.FileInfo[0].fApplication),i},parse_FLD_DELETE:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i={StatusCode:e.LocalData.StatusCode,id_list:[],name_list:[],toTrash:0,error_list:[],jobId:e.LocalData.JobID},n=this.parseResultSet(e.ResultSets.ActionStatus,"actionStatus",this.fieldMap.actionStatus);return t(n).each((function(e){if(e.success){var t=e.itemId.split(":").slice(1);e.item=t.join(":"),i.id_list.push(e.item),i.name_list.push(e.displayName)}else i.error_list.push(e)})),i},parse_FLD_MOVECOPY:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i={StatusCode:e.LocalData.StatusCode,success_list:[],error_list:[],jobId:e.LocalData.JobID};return i.actionStatusList=this.parseResultSet(e.ResultSets.ActionStatus,"actionStatus",this.fieldMap.actionStatus),t(i.actionStatusList).each((function(e){var t=e.itemId.split(":"),n=t.slice(1);e.itemId=n.join(":"),e.itemType=t[0],e.success=parseInt(e.success,10),e.statusCode=parseInt(e.statusCode,10),e.success?i.success_list.push(e):(-1!==e.statusMessage.indexOf("csFldQuotaSizeExceeded")&&-1===e.statusMessage.indexOf(o.userid)&&(e.statusMessage=e.statusMessage.replace("csFldQuotaSizeExceeded","csFldOwnersQuotaSizeExceeded")),i.error_list.push(e))})),e.ResultSets.FileInfo&&(i.itemList=this.parseResultSet(e.ResultSets.FileInfo,"file",this.fieldMap.file)),e.ResultSets.FolderInfo&&(i.itemList&&i.itemList.length>0?i.itemList=i.itemList.concat(this.parseResultSet(e.ResultSets.FolderInfo,"folder",this.fieldMap.folder)):i.itemList=this.parseResultSet(e.ResultSets.FolderInfo,"folder",this.fieldMap.folder)),e.ResultSets.SiteInfo&&(i.itemList=this.parseResultSet(e.ResultSets.SiteInfo,"site",this.fieldMap.folder)),e.ResultSets.ThemeInfo&&(i.itemList=this.parseResultSet(e.ResultSets.ThemeInfo,"theme",this.fieldMap.folder)),e.ResultSets.AppInfo&&(i.itemList=this.parseResultSet(e.ResultSets.AppInfo,"theme",this.fieldMap.folder)),i},parse_FLD_INFO_Item:function(e){return this.convertToRealJson(e),e.ResultSets.FileInfo?this.parse_FLD_INFO_FILE(e):this.parse_FLD_INFO_FOLDER(e)},parse_FLD_INFO_FILE:function(i){this.convertToRealJson(i),s.setIdcToken(i);var n=i.ResultSets.FileInfo[0].fFileGUID,o=this.parseMetadata(i,this.metadataIdentifiers(i),n);this.mergeMetadata(i,i.ResultSets.FileInfo);var a=this.parseResultSet(i.ResultSets.FileInfo,"file",this.fieldMap.file)[0];return i.LocalData.dAllowedActions&&(a.roleName=a.roleName||i.LocalData.dRoleName,a.allowedActions=e.bitParse(i.LocalData.dAllowedActions,this.allowedActions),s.linkId&&!s.isAppLink||(a.allowedActions.directShareRead=!0)),i.LocalData.fInheritedDefaultLinkRole&&(a.defaultSharingRole=i.LocalData.fInheritedDefaultLinkRole),a.hasExternalUserAccess=!!i.LocalData.hasExternalUserAccess&&"1"===i.LocalData.hasExternalUserAccess,a.hasExternalLinks=!!i.LocalData.hasExternalLinks&&"1"===i.LocalData.hasExternalLinks,t.isEmpty(o)||(a.metadata=o),a},parse_FLD_INFO_FOLDER:function(i,n){n=n||{},t.defaults(n,{type:"folder",typeMap:"folder",itemRS:"FolderInfo"}),this.convertToRealJson(i),s.setIdcToken(i),this.mergeMetadata(i,i.ResultSets[n.itemRS]);var o=this.parseResultSet(i.ResultSets[n.itemRS],n.type,this.fieldMap[n.typeMap])[0];return i.LocalData.dAllowedActions&&(o.roleName=o.roleName||i.LocalData.dRoleName,o.allowedActions=e.bitParse(i.LocalData.dAllowedActions,this.allowedActions),"folder"===o.type&&o.id===docs.common.DAM.FOLDER_ID&&(o.allowedActions.folderDelete=!1,o.allowedActions.directShareRead=!1,o.allowedActions.linkShareRead=!1)),i.LocalData.fInheritedDefaultLinkRole&&(o.defaultSharingRole=i.LocalData.fInheritedDefaultLinkRole),o.parentExternalUsersDisabled=!!i.LocalData.parentExternalUsersDisabled&&"1"===i.LocalData.parentExternalUsersDisabled,o.hasExternalUserAccess=!!i.LocalData.hasExternalUserAccess&&"1"===i.LocalData.hasExternalUserAccess,o.hasExternalLinks=!!i.LocalData.hasExternalLinks&&"1"===i.LocalData.hasExternalLinks,o.flags=o.flags||{},o},parse_item_GET_METADATA:function(e,t){return this.convertToRealJson(e),s.setIdcToken(e),this.parseMetadata(e,this.metadataIdentifiers(e),t)},parse_item_METADATA_TAGS:function(e,i){this.convertToRealJson(e),s.setIdcToken(e);var n={},o=this.metadataIdentifiers(e);return t.each(i,(function(i){var s;if(i.folderItem){var a=i.folderItem;s=t.isEmpty(a.get("targetID"))?a.get("id"):a.get("targetID")}else s=t.isFunction(i.get)?t.isEmpty(i.get("targetID"))?i.get("id"):i.get("targetID"):i.id;var r=this.parseMetadata(e,o,s),l=[];if(r.hasOwnProperty("dDefaultFolderMetaCollection")){var c=r.dDefaultFolderMetaCollection.values;c.hasOwnProperty("xTags")&&(l=c.xTags)}n[s]=l}),this),n},parse_FLD_FILE_REVISIONS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.REVISIONS,"file",this.fieldMap.file)},parse_PAGE_EXPORT_STATUS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),{PreviewIsStored:e.LocalData.PreviewIsStored,ExportInProgress:e.LocalData.ExportInProgress,ExceededMaxPages:e.LocalData.ExceededMaxPages,NumberOfCurrentPages:e.LocalData.NumberOfCurrentPages,PreviewHasError:e.LocalData.PreviewHasError,ErrorMessage:e.LocalData.ErrorMsg,ExportError:e.LocalData.ExportError,ReturnCode:e.LocalData.FullPageReturnCode,Timeout:e.LocalData.HadTimeout,ItemNotAvailable:e.LocalData.ItemNotAvailable,Infected:"infected"===e.LocalData.VirusScanStatus,Pages:t.sortBy(this.parseResultSet(e.ResultSets.PAGE_INFO,"pageExport",this.fieldMap.pageExport),(function(e){return parseInt(e.pageId,10)}))}},parse_GET_HTML5_VIEW:function(e){return this.convertToRealJson(e),s.setIdcToken(e),{html5Url:e.LocalData.PreviewHtml5Url}},parse_GET_PDF_PREVIEW:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i={previewType:e.LocalData.PreviewType};switch(e.LocalData.PreviewType){case"html5":i=t.extend({},i,{html5Url:e.LocalData.PreviewHtml5Url})}return i},parse_GET_ANNOTATIONS:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.Annotations,"annotations",this.fieldMap.annotation);return t.each(i,(function(e){this.parseAnnotationInfo(e)}),this),i},parse_GET_SHARED_FOLDER_USER:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.SharedFolderUsers,"collaborator",this.fieldMap.collaborator);return t.each(i,(function(e){"G"===e.id.slice(0,1)&&(e.loginId=e.name)})),i},parse_GET_SHARED_LINKS_FOR_OBJECT:function(e){this.convertToRealJson(e),s.setIdcToken(e);var t,i=e.ResultSets;return t=i.SharedLinks&&0===i.SharedLinks.length?{isShared:!1}:{isShared:!0},i.flags=t,i},parse_GET_ACTIVITY_HISTORY:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.ActivityHistory,"auditEvent",this.fieldMap.auditEvent)},parse_SYNC_GET_DEVICES:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.UserDevices,"device",this.fieldMap.device)},parse_GET_SUGGESTIONS:function(e,i,o,a){this.convertToRealJson(e),s.setIdcToken(e);var r=this.parseResultSet(e.ResultSets["suggestions.Users.dFullName"],"autosuggestUserFullName",this.fieldMap.autosuggestUserFullName),l=this.parseResultSet(e.ResultSets["suggestions.Users.dEmail"],"autosuggestUserEmail",this.fieldMap.autosuggestUserEmail),c=this.parseResultSet(e.ResultSets["suggestions.SitesVisitors.dFullName"],"autosuggestSiteVisitorName",this.fieldMap.autosuggestSiteVisitorName),d=this.parseResultSet(e.ResultSets["suggestions.SitesVisitors.dEmail"],"autosuggestSiteVisitorEmail",this.fieldMap.autosuggestSiteVisitorEmail),u=t.union(r,l);return u=t.uniq(u,!1,(function(e){return e.guid})),(c.length>0||d.length>0)&&(u=u.concat(c,d),u=t.uniq(u,!1,(function(e){return e.email}))),u=t.filter(u,(function(e){return!(o&&!e.name)&&(!(a&&!e.email)&&(!i||e.guid!==n.getUserName()))})),u=t.sortBy(u,(function(e){return 0-e.score}))},parse_FLD_COPY:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.NewDocInfo,"copyFileNewDocInfo",this.fieldMap.copyFileNewDocInfo)},parse_USER_INFO:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i={time_zones_list:this.parseResultSet(e.ResultSets.TimeZones,"timezones",this.fieldMap.timezones),language_list:this.parseResultSet(e.ResultSets.UserLocaleLanguageMap,"language",this.fieldMap.language)};i.time_zones_list.splice(0,0,{label:docs.i18n.t("PREFS_TZ_DEFAULT_VALUE"),type:"timezones",value:""}),i.language_list.splice(0,0,{type:"language",label:docs.i18n.t("PREFS_LANG_DEFAULT_VALUE"),value:"",langId:""}),t(this.fieldMap.userInfo).each((function(t,n){i[n]=this.castToType(e.ResultSets.USER_INFO[0],t)}),this),t(this.fieldMap.userTenantConfig).each((function(t,n){i[n]=this.castToType(e.ResultSets.USER_TENANT_CONFIG[0],t)}),this),t(this.fieldMap.userStates).each((function(n,s){var o=t(e.ResultSets.USER_STATES).find((function(e){return e.dUserState===n}),this);i[s]=o?o.dUserStateValue:void 0}),this);var n=this.fieldMap.quotas;return t(n).each((function(n,s){var o=this.castToType(e.LocalData,n);t.isString(o)&&(o=parseInt(o,10)),i[s]=o}),this),i},parse_USER_AVATAR:function(e){this.convertToRealJson(e),s.setIdcToken(e);return{}},parse_TENANT_INFO:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i={},n=this.fieldMap.tenantInfo;return t(n).each((function(t,n){i[n]=this.castToType(e.ResultSets.TenantInfo[0],t)}),this),i},parse_SCS_TENANT_INFO:function(e){return this.convertToRealJson(e),s.setIdcToken(e),t.clone(e.LocalData)},parse_SERVER_INFO:function(e){this.convertToRealJson(e),s.setIdcToken(e),s.setCSRFToken(e);var i,n={},o=e.ResultSets.ClientURLs;if(!t.isUndefined(o))for(i=0;i<o.length;i++)n[o[i].Name]=o[i].Value;var a=e.ResultSets.TemplateURLs;if(!t.isUndefined(a))for(i=0;i<a.length;i++)n[a[i].Name]=a[i].Value;return n},parse_NOTIFICATION_PREFERENCES:function(e){this.convertToRealJson(e),s.setIdcToken(e);var i=this.fieldMap.notifications,n={};return t(i).each((function(t,i){n[i]=this.castToType(e.LocalData,t)}),this),n},parse_FLD_GET_PATH_FOLDERS:function(i){this.convertToRealJson(i),s.setIdcToken(i);var n=[],o=docs.i18n.t("HOME");if(i.ResultSets.PathFolders){var a=t.initial(i.ResultSets.PathFolders);t.each(a,(function(e){var t={id:e.fItemGUID,name:e.fItemName,parentID:e.fParentGUID};"F:USER"!==e.fItemGUID.slice(0,6)?o+=" > "+t.name:t.name=docs.i18n.t("HOME"),n.push(t)}))}var r={};if(i.ResultSets.FolderInfo?r=this.parseResultSet(i.ResultSets.FolderInfo,"folder",this.fieldMap.folder)[0]:i.ResultSets.FileInfo&&(r=this.parseResultSet(i.ResultSets.FileInfo,"file",this.fieldMap.file)[0]),i.ResultSets.AllowedActions){var l=i.ResultSets.AllowedActions[0].dAllowedActions;r.allowedActions=e.bitParse(l,this.allowedActions)}return{path:{value:o,items:n},itemInfo:r}},parse_GET_INACTIVE_USERS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),e.LocalData},parseItems_GET_INACTIVE_USERS:function(e){this.convertToRealJson(e),s.setIdcToken(e);var t=this.parseResultSet(e.ResultSets.InactiveUsers,"inactiveUser",this.fieldMap.inactiveUser),i={};return i.totalCount=e.ResultSets.InactiveUsers.length,i.pageCount=0,i.startRow=0,i.page=1,i.hasMore=!1,e.LocalData.pageStats=i,t},parse_SCS_GET_AKAMAI_DOMAINS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.DomainList,"domain",this.fieldMap.domain)},parse_FLD_SET_RESERVATION:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.FileInfo,"file",this.fieldMap.file)[0]},parse_FLD_CLEAR_RESERVATION:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.FileInfo,"file",this.fieldMap.file)[0]},parse_AF_GET_ALL_APPS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.AFApplicationsInfo,"afApps",this.fieldMap.afAppInfo)},parse_AF_GET_APP_INFO_SIMPLE:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.AFApplicationInfo,"afApp",this.fieldMap.afAppInfo)[0]},parse_AF_CONFIGURE_APPLICATION:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.AFApplicationInfo,"afApp",this.fieldMap.afAppInfo)},parse_AF_GET_ACTION_INFO:function(e){var i={},n=e.ResultSets.ActionKeyValues;return n&&t.each(n.rows,(function(e){for(var s=e[0].toLowerCase(),o=/([^~]*)~([^~]*)~([^~]*)/,a=/([^~]*)~([^~]*)~([^~]*)~/,r=1;r<e.length;r++){var l=n.fields[r].name;i[l]=t.has(i,l)?i[l]:{},i[l][s]=e[r],"processDefId"===l&&i[l][s].match(o)&&!i[l][s].match(a)&&(i[l][s]+="~startEvent")}})),i},parse_AF_GET_ONE_OR_MANY_JSON_APP_INFO:function(e){return this.convertToRealJson(e),this.parseResultSet(e.ResultSets.AFApplicationsInfo,"aifApps",this.fieldMap.aifAppInfo)},parse_AF_ADD_UPDATE_JSON_APP_WITH_PAYLOAD:function(e){return this.convertToRealJson(e),this.parseResultSet(e.ResultSets.AFApplicationInfo,"aifApp",this.fieldMap.aifAppInfo)[0]},parse_AF_ENABLE_DISABLE_APP:function(e){return this.convertToRealJson(e),this.parseResultSet(e.ResultSets.AFApplicationInfo,"aifApp",this.fieldMap.aifAppInfo)[0]},parse_GET_METADATA:function(e,i){this.convertToRealJson(i);var n=this.parseResultSet(i.ResultSets.Metadata,"metaCollections",this.fieldMap.assignedMetaCollection);t.each(n,(function(n){if(t.isString(n.metaColls)){var s=t.find(e,(function(e){if(n.item===(t.isFunction(e.get)?e.get("id"):e.id))return!0}));if(s){var o={},a=this.parseMetaFieldValue(n.metaColls);t.each(a,(function(e){o[e]=this.mergeMetaCollectionData(i.ResultSets,e,n.item)[e]}),this),s.meta=o}}}),this)},parse_AF_GET_PCS_PROCESSES_LIST:function(e){var i={},n=e.LocalData.PCSJSONResponse||"";try{var s=n.split("##!$$!##");t.each(s,(function(e){if(!t.isEmpty(e.trim())){var n=JSON.parse(e).items||[];t.each(n,(function(e){var n=("player"===e.domain||"oracleinternalpcsplayer"===e.domain?"Test":"Production")+": ";if(!t.isEmpty(e.processDefId)){var s=e.processDefId.match(/([^~]*)~([^!]*)!([^~]*)~([^~]*)/);s&&s[2]&&(n+=s[2]),t.isEmpty(e.revision)||(n+=" "+e.revision),s&&s[4]&&(n+=": "+s[4])}t.each(e.interfaces,(function(t){var s;"START_DOCUMENT"===t.startType&&t.operation&&(s=n+" ("+t.operation+")",i[s]=e.processDefId+"~"+t.operation)}))}))}}))}catch(e){docs.common.Logger("AIF").info("Could not retrieve Process List. Error: "+e)}return i},mergeMetaCollectionData:function(e,i,n,s){var o={},a=t.isEmpty(s)?i:s+"."+i,r=this.parseMetaFieldValue(n);return t.each(r,(function(n){if(t.has(e,a)){o[i]={};var s=e[a],r=t.find(s,(function(e){if(e.dIdentifier===n)return!0}));r&&t.each(t.keys(r),(function(t){o[i][t]=this.mergeMetaCollectionData(e,t,r[t],a)[t]}),this)}else o[i]=n}),this),o},parseMetaFieldValue:function(e){return t.isString(e)?e.replace(/^\[/,"").replace(/\]$/,"").split(/\s*,\s*/):[]},parse_FLD_GET_CONVERSATIONS:function(e){this.convertToRealJson(e),s.setIdcToken(e);var t=this.parseLocalData(e.LocalData,"conversations",this.fieldMap.conversation);return t.conversations=this.parseResultSet(e.ResultSets.MemberConversations,"member",this.fieldMap.memberConversation),t},parse_CREATE_CONVERSATION:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseLocalData(e.LocalData,"conversation",this.fieldMap.conversation)},parse_DAM_FLD_GET_PATH_FOLDERS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),{allowedActions:this.parseResultSet(e.ResultSets.AllowedActions,"action",this.fieldMap.actionAllowed),pathFolders:this.parseResultSet(e.ResultSets.PathFolders,"path",this.fieldMap.folderPath)}},parse_FLD_GET_COLLECTIONS:function(e){return this.convertToRealJson(e),s.setIdcToken(e),this.parseResultSet(e.ResultSets.Collections,"collection",this.fieldMap.collection).sort((function(e,t){var i=e.name,n=t.name;return i===n?0:i>n?1:-1}))},mapJobProgressToStatus:function(e){switch(e){default:case"pending":case"paused":return"PENDING";case"blocked":return"QUEUED";case"processing":return"PROCESSING";case"succeeded":return"COMPLETE";case"failed":return"FAILED";case"aborted":return"CANCELLED"}},getIsExpired:function(e){return!!(e=t.isString(e)?new Date(e):e)&&e<Date.now()},getVirusScanValue:function(e){var i=0;if(e.has("dFlags")){var n=e.get("dFlags");t.mapObject(n,(function(e,t){e&&(i+=l[t])}))}return i}},docs.common.Jsonify})),define("core/util/GovSecurityPolicyUtils",["underscore","core/util/Globals","core/util/SitesGlobals"],(function(e,docs,sites){"use strict";return sites.common.GovSecurityPolicyUtils={_securityPolicyMap:{everyone:{security:{level:"everyone",appliesTo:"all"},scsEditSecureSite:0,i18n:{label:"SITE_SECURITY_POLICIES_EVERYONE_LABEL",description:"SITE_SECURITY_POLICIES_EVERYONE_DESC"},icon:"oj-ux-ico-domain"},cloud:{security:{level:"cloud",appliesTo:"all"},scsEditSecureSite:1,i18n:{label:"SITE_SECURITY_POLICIES_CLOUD_LABEL",description:"SITE_SECURITY_POLICIES_CLOUD_DESC"},icon:"oj-ux-ico-contact-group"},service:{security:{level:"service",appliesTo:"all"},scsEditSecureSite:3,i18n:{label:"SITE_SECURITY_POLICIES_SERVICE_LABEL",description:"SITE_SECURITY_POLICIES_SERVICE_DESC"},icon:"oj-ux-ico-contact-group"},some_cloud:{security:{level:"cloud",appliesTo:"named"},scsEditSecureSite:5,i18n:{label:"SITE_SECURITY_POLICIES_SOME_CLOUD_LABEL",description:"SITE_SECURITY_POLICIES_SOME_CLOUD_DESC"},icon:"oj-ux-ico-contact-group"},some_service:{security:{level:"service",appliesTo:"named"},scsEditSecureSite:7,i18n:{label:"SITE_SECURITY_POLICIES_SOME_SERVICE_LABEL",description:"SITE_SECURITY_POLICIES_SOME_SERVICE_DESC"},icon:"oj-ux-ico-contact-group"}},_defaultPolicy:"cloud",_displayOrder:["some_service","some_cloud","service","cloud","everyone"],getSelect2Values:function(e){return sites.common.GovSecurityPolicyUtils._displayOrder.map((function(t){return{value:t,label:sites.common.GovSecurityPolicyUtils.getSecurityLabel(t),selected:t==e}}))},getSecurityLabel:function(e){var t=sites.common.GovSecurityPolicyUtils._securityPolicyMap[e];return t&&docs.i18n.t(t.i18n.label)},getSecurityDescription:function(e){var t=sites.common.GovSecurityPolicyUtils._securityPolicyMap[e];return t&&docs.i18n.t(t.i18n.description)},getSecurityPolicy:function(t){var i=sites.common.GovSecurityPolicyUtils._securityPolicyMap;for(var n in i)if(i.hasOwnProperty(n)&&e.isEqual(i[n].security,t))return n;return sites.common.GovSecurityPolicyUtils._defaultPolicy},getSecurity:function(e){var t=sites.common.GovSecurityPolicyUtils._securityPolicyMap[e];return t&&t.security},getSecurityImage:function(e){var t=sites.common.GovSecurityPolicyUtils._securityPolicyMap[e];return t&&t.icon},getEditSecureSiteValues:function(e){var t=sites.common.GovSecurityPolicyUtils._securityPolicyMap[e];return t&&t.scsEditSecureSite},getSecurityPolicyFromTenantConfig:function(e){return(e=e||docs.common.Globals.sitesData.secureSites).allowOnlySecureSites?e.allowOnlyIndividualUser?e.allowOnlyDocsUser?"some_service":"some_cloud":e.allowOnlyDocsUser?"service":"cloud":"everyone"},mapSiteSecurityPolicy2TenantPolicyEnums:function(t,i){return i=i||{},e.isString(t)&&(t=sites.common.GovSecurityPolicyUtils.getSecurity(t)),"everyone"===t.level?i.allowOnlySecureSites=!1:(i.allowOnlySecureSites=!0,"named"!==t.appliesTo?i.allowOnlyIndividualUser=!1:i.allowOnlyIndividualUser=!0,"cloud"===t.level?i.allowOnlyDocsUser=!1:i.allowOnlyDocsUser=!0),i}},sites.common.GovSecurityPolicyUtils})),define("core/util/SitesJsonify",["jquery","underscore","core/util/Globals","core/util/SitesGlobals","core/util/Jsonify","core/util/Service","core/util/GovSecurityPolicyUtils"],(function(e,t,docs,sites,i,n,s){"use strict";var o=docs.common.Globals,a={r63SecureSite:1,sitesVisitor:2,docsUser:4,authUsers:8,selectedUsers:16},r={site:1,theme:2,app:4,archive:8,variant:16};return sites.common.SitesJsonify=t.extend({},i,{secureSitePermLevels:a,scsFlags:r,fieldMap:t.extend(i.fieldMap,{siteRuntime:t.extend({runtimeSiteUrl:"runtimeSiteUrl",runtimeMobileSiteUrl:"runtimeMobileSiteUrl",onlyAllowCDNRequest:"onlyAllowCDNRequest"},i.fieldMap.folder),siteMetadata:{scsActionFlags:"scsActionFlags",scsActivationMarker:"scsActivationMarker",scsActivationPending:{name:"scsActivationPending",type:"boolean"},scsAuthor:"scsAuthor",scsCacheBusterKey:"scsCacheBusterKey",scsCacheBusterKeyCaaS:"scsCacheBusterKeyCaaS",scsCacheBusterKeyProduct:"scsCacheBusterKeyProduct",scsCompileSite:{name:"scsCompileSite",type:"integer"},scsCompileStatus:{name:"scsCompileStatus",type:"jsonString"},scsCreatedBy:"scsCreatedBy",scsCreatedDate:{name:"scsCreatedDate",type:"date"},scsDefaultCollection:"scsDefaultCollection",scsDefaultLanguage:"scsDefaultLanguage",scsDescription:"scsDescription",scsDetails:"scsDetails",scsExpirationDate:{name:"scsExpirationDate",type:"date"},scsFlags:{name:"scsFlags",type:"bitmask",mask:r},scsIdentifier:"scsIdentifier",scsIsActive:{name:"scsIsActive",type:"boolean"},scsIsEnterprise:{name:"scsIsEnterprise",type:"boolean"},scsIsIframeEmbeddingAllowed:{name:"scsIsIframeEmbeddingAllowed",type:"boolean"},scsIsStarterTemplate:"scsIsStarterTemplate",scsItemGUID:"scsItemGUID",scsItemOwner:"scsItemOwner",scsLastModifiedBy:"scsLastModifiedBy",scsLastModifiedDate:{name:"scsLastModifiedDate",type:"date"},scsMobileUserAgents:"scsMobileUserAgents",scsName:"scsName",scsNumUpdates:{name:"scsNumUpdates",type:"integer"},scsOfflineDate:{name:"scsOfflineDate",type:"date"},scsOnlineDate:{name:"scsOnlineDate",type:"date"},scsOnlyAllowCDNRequest:"scsOnlyAllowCDNRequest",scsPublishDate:{name:"scsPublishDate",type:"date"},scsPublishStatus:"scsPublishStatus",scsRepositoryId:"scsRepositoryId",scsSecureSiteLevel:{name:"scsSecureSiteLevel",type:"bitmask",mask:a},scsSecureSitePolicy:{name:"scsSecureSitePolicy",type:"bitmask",mask:{onlyAllowCreateSecureSites:1,onlyAllowDocUsers:2,onlyAllowIndividualUsers:4}},scsSiteTemplate:"scsSiteTemplate",scsSiteTheme:"scsSiteTheme",scsSiteUrl:"scsSiteUrl",scsSlugPrefix:"scsSlugPrefix",scsStaticResponseHeaders:"scsStaticResponseHeaders",scsUnpublishDate:{name:"scsUnpublishDate",type:"date"},externalUserEnabled:{name:"scsExternalUserEnabled",type:"boolean"},scsIsGranularSecurityRequired:"scsIsGranularSecurityRequired"},componentMetadata:{scsActivationMarker:"scsActivationMarker",scsCacheBusterKey:"scsCacheBusterKey",scsCategory:"scsCategory",scsCreatedBy:"scsCreatedBy",scsCreatedDate:{name:"scsCreatedDate",type:"date"},scsDescription:"scsDescription",scsFlags:{name:"scsFlags",type:"bitmask",mask:r},scsIconUrl:"scsIconUrl",scsIdentifier:"scsIdentifier",scsIsActive:{name:"scsIsActive",type:"boolean"},scsIsHiddenInBuilder:"scsIsHiddenInBuilder",scsItemGUID:"scsItemGUID",scsItemOwner:"scsItemOwner",scsLastModifiedBy:"scsLastModifiedBy",scsLastModifiedDate:{name:"scsLastModifiedDate",type:"date"},scsName:"scsName",scsNullToken:"scsNullToken",scsOwnerToken:"scsOwnerToken",scsType:"scsType"},themeMetadata:{scsActivationMarker:"scsActivationMarker",scsCacheBusterKey:"scsCacheBusterKey",scsCreatedBy:"scsCreatedBy",scsCreatedDate:{name:"scsCreatedDate",type:"date"},scsDescription:"scsDescription",scsFlags:{name:"scsFlags",type:"bitmask",mask:r},scsIdentifier:"scsIdentifier",scsIsActive:{name:"scsIsActive",type:"boolean"},scsIsStarter:{name:"scsIsStarter",type:"boolean"},scsItemGUID:"scsItemGUID",scsItemOwner:"scsItemOwner",scsLastModifiedBy:"scsLastModifiedBy",scsLastModifiedDate:{name:"scsLastModifiedDate",type:"date"},scsName:"scsName"},theme:t.extend({jobID:"JobID",jobAction:"JobAction",jobStatus:"JobStatus"},i.fieldMap.folder),app:t.extend(i.fieldMap.folder,{folderIcon:"fFolderIcon"}),variant:t.extend({},i.fieldMap.folder),secureSiteUser:{userId:"dUserID",loginId:"dUserIDLoginName",name:"dUserIDFullName",email:"dEmail",groupOriginType:"dGroupOriginType",isExternalUser:{name:"isExternalUser",type:"boolean"}},backgroundJob:{id:"JobID",jobStatus:"JobStatus",jobAction:"JobAction",percentComplete:{name:"JobPercentage",type:"integer"},jobCreator:"JobCreator",jobType:"JobType",jobSourceId:"ItemID",jobMessageKey:"JobMessageKey",jobMessage:"JobMessage"},template:t.extend({},i.fieldMap.folder),translationJobInfo:{id:"JobID",name:"JobName",type:"JobType",createdBy:"JobCreator",createdDate:{name:"JobCreateDate",type:"date"},updatedBy:"JobLastModifier",updatedDate:{name:"JobLastModifiedDate",type:"date"},status:"JobStatus",fFolderGUID:"JobFolderGUID",fFileGUID:"JobFileGUID",repositoryId:"RepositoryId",assetsPendingLanguages:"AssetPendingLangs",sitePendingLanguages:"SitePendingLangs",siteGUID:"SiteGUID",siteId:"SiteId",jobData:{name:"JobData",type:"list-string",separators:"|"}},componentsUsed:{id:"scsIdentifier",name:"scsComponentName",pageId:"scsPageID",instanceid:"scsInstanceID"},itemsUsed:{id:"scsIdentifier",version:"scsVersion",pageId:"scsPageID",itemId:"scsContentItemID",instanceid:"scsInstanceID"},contentTypesUsed:{id:"scsIdentifier",name:"scsTypeName",pageId:"scsPageID",instanceid:"scsInstanceID"}}),parse_SCS_BROWSE_SITES_METADATA:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.SiteMetadata,"siteMeta",this.fieldMap.siteMetadata)},parse_SCS_INFO_TEMPLATE:function(t){this.convertToRealJson(t),n.setIdcToken(t);var i=this.parseResultSet(t.ResultSets.TemplateInfo||t.ResultSets.SiteInfo||t.ResultSets.FolderInfo,"template")[0],s=this.parseResultSet(t.ResultSets.TemplateMetadata||t.ResultSets.SiteMetadata,"siteMetadata")[0];return s&&(i.author=s.scsAuthor,i.longdesc=s.scsDetails,i.themeName=s.scsSiteTheme,i.defaultLanguage=s.scsDefaultLanguage,i.enterprise=s.scsIsEnterprise,docs.common.checkFeatureFlag("SiteSecurityCustomRole")&&(i.sstRequired="1"===s.scsIsGranularSecurityRequired)),i.parentID=i.parentID||"F:SCS:TEMPLATES",i.application=i.application||"framework.site.template",t.LocalData.dAllowedActions&&(i.allowedActions=e.bitParse(t.LocalData.dAllowedActions,this.allowedActions),this.checkAllowedActions(i.allowedActions)),i},parse_SCS_IMPORT_TEMPLATE_CONFLICTS:function(e){return this.convertToRealJson(e),n.setIdcToken(e),e.ResultSets.ImportConflictsResultSet},parse_SCS_IMPORT_TEMPLATE:function(e){this.convertToRealJson(e),n.setIdcToken(e);var t,i,s=e.ResultSets.ImportInfo;if(s&&s.length>0)for(i=0;i<s.length;i++)if("template"===s[i].type){t=s[i];break}if(t&&e.ResultSets.PageIDsHavingInvalidHybridLinks){var o,a="",r=e.ResultSets.PageIDsHavingInvalidHybridLinks.length;for(o=0;o<r;o++)a+=e.ResultSets.PageIDsHavingInvalidHybridLinks[o].pageID,o!==r-1&&(a+=",");t.PageIDsHavingInvalidHybridLinks=a}return t},parse_SCS_IMPORT_OOTB_TEMPLATES:function(e){return this.convertToRealJson(e),n.setIdcToken(e),e},parse_SCS_BROWSE_APPS:function(t){this.convertToRealJson(t),n.setIdcToken(t);var i={id:"F:SCS:APPS",name:sites.i18n.t("APPS"),type:"folder",flags:{}};return i.allowedActions=e.bitParse(t.LocalData.dAllowedActions,this.allowedActions),this.checkAllowedActions(i.allowedActions),i},parse_SCS_BROWSE_APPS_ITEMS:function(i){this.convertToRealJson(i),n.setIdcToken(i),i.LocalData.TotalChildItemsCount=i.LocalData.TotalAppsCount,i.LocalData.hasMoreChildItems=i.LocalData.hasMoreApps;var s=i.LocalData.dAllowedActions||8388607,o=e.bitParse(s,this.allowedActions);this.checkAllowedActions(o);var a=this.parseResultSet(i.ResultSets.ComponentInfo||i.ResultSets.AppInfo,"app"),r=this.parseResultSet(i.ResultSets.ComponentMetadata,"componentMetadata");return t(a).each((function(e){var i=t.find(r,{scsIdentifier:e.id});i&&(e.appType=i.scsType,e.appCategory=i.scsCategory,e.hideInBuilder="1"===i.scsIsHiddenInBuilder,e.active=i.scsIsActive),e.fetched=!0,e.parentID=e.parentID||"F:SCS:APPS",e.application=e.application||"framework.site.app",e.allowedActions?this.checkAllowedActions(e.allowedActions):e.allowedActions=t.clone(o),e.appInfo={}}),this),a=a.filter((function(e){return"rsstemplate"!==e.appType}))},parse_SCS_BROWSE_APPS_METADATA:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.ComponentMetadata,"componentMetadata")},parse_SCS_INFO_APP:function(t){this.convertToRealJson(t),n.setIdcToken(t);var i=this.parseResultSet(t.ResultSets.ComponentInfo||t.ResultSets.AppInfo,"app")[0],s=this.parseResultSet(t.ResultSets.ComponentMetadata,"componentMetadata")[0];return s&&(i.appType=s.scsType,i.appCategory=s.scsCategory,i.hideInBuilder="1"===s.scsIsHiddenInBuilder,i.active=s.scsIsActive,i.cacheBusterKey=s.scsCacheBusterKey),i.parentID=i.parentID||"F:SCS:APPS",i.application=i.application||"framework.site.app",t.LocalData.dAllowedActions&&(i.allowedActions=e.bitParse(t.LocalData.dAllowedActions,this.allowedActions),this.checkAllowedActions(i.allowedActions)),i.active&&(i.allowedActions.folderDelete=!1),t.LocalData.appType&&(i.appType=t.LocalData.appType),i},parse_SCS_BROWSE_THEMES_ITEMS:function(i){this.convertToRealJson(i),n.setIdcToken(i),i.LocalData.TotalChildItemsCount=i.LocalData.TotalThemesCount,i.LocalData.hasMoreChildItems=i.LocalData.hasMoreThemes;var s=i.LocalData.dAllowedActions||8388607,o=e.bitParse(s,this.allowedActions);this.checkAllowedActions(o);var a=this.parseResultSet(i.ResultSets.ThemeInfo,"theme"),r=this.parseResultSet(i.ResultSets.ThemeMetadata,"themeMetadata");return t(a).each((function(e){e.fetched=!0;var i=t.find(r,{scsIdentifier:e.id});i&&(e.active=i.scsIsActive),void 0!==e.active&&null!==e.active||(e.active=!1),e.parentID=e.parentID||"F:SCS:THEMES",e.application=e.application||"framework.site.theme",e.allowedActions?this.checkAllowedActions(e.allowedActions):e.allowedActions=t.clone(o)}),this),a},parse_SCS_BROWSE_VARIANTS_ITEMS:function(e){this.convertToRealJson(e),n.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.VariantInfo,"variant");return t(i).each((function(e){e.application=e.application||"framework.site.variant"}),this),i},parse_SCS_INFO_VARIANT:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.VariantInfo,"variant")[0]},parse_SCS_GET_SECURE_SITE_USERS:function(e){this.convertToRealJson(e),n.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.SecureSiteUsers,"secureSiteUser",this.fieldMap.secureSiteUser);return t.each(i,(function(e){t.has(e,"userId")&&0===e.userId.length?delete e.userId:"G"===e.userId.slice(0,1)&&(e.loginId=e.name,t.has(e,"email")&&0===e.email.length&&delete e.email)}),this),i},parse_SCS_GET_JOB_STATUS:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.JobInfo,"jobInfo",this.fieldMap.backgroundJob)},parse_SCS_GET_BACKGROUND_SERVICE_JOB_RESPONSE_DATA:function(e){return this.convertToRealJson(e),n.setIdcToken(e),e},parse_Sites_FLD_EMPTY_TRASH:function(e){this.convertToRealJson(e),n.setIdcToken(e);var i={StatusCode:e.LocalData.StatusCode,id_list:[],name_list:[],success_list:[],error_list:[]},s=this.parseResultSet(e.ResultSets.ActionStatus,"actionStatus",this.fieldMap.actionStatus);return t(s).each((function(e){var t=e.itemId.split(":").slice(1);e.item=t.join(":"),i.id_list.push(e.item),i.name_list.push(e.displayName),"0"===e.statusCode?i.success_list.push(e):i.error_list.push(e)})),i},parse_SCS_GET_RUNTIME_SITES:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.SiteInfo,"site",this.fieldMap.siteRuntime)},parse_SCS_GET_SITE_METADATA:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.SiteMetadata,"siteMeta",this.fieldMap.siteMetadata)[0]},parse_SCS_GET_SITE_COMPS_CONTENT_USED:function(e){this.convertToRealJson(e),n.setIdcToken(e);var t={};return t.ComponentsUsed=this.parseResultSet(e.ResultSets.ComponentsUsed,"component",this.fieldMap.componentsUsed),t.ContentItemsUsed=this.parseResultSet(e.ResultSets.ContentItemsUsed,"contentItem",this.fieldMap.itemsUsed),t.ContentTypesUsed=this.parseResultSet(e.ResultSets.ContentTypesUsed,"contentType",this.fieldMap.contentTypesUsed),t},parse_SCS_IMPORT_SITE_TRANS:function(e){this.convertToRealJson(e),n.setIdcToken(e);var i=this.parseResultSet(e.ResultSets.JobInfo,"jobInfo",this.fieldMap.translationJobInfo)[0],s=e.LocalData.SiteValidation&&JSON.parse(e.LocalData.SiteValidation);t.isObject(s)&&t.isString(s.valid)&&(s.valid="true"===s.valid);var o,a,r=e.LocalData.AssetValidation&&JSON.parse(e.LocalData.AssetValidation);if(t.isObject(r)&&t.isString(r.valid)&&(r.valid=r.valid&&"true"===r.valid),"validateAndImport"===e.LocalData.validationMode&&(o=JSON.parse(e.LocalData.SiteImportsSucceeded||"[]")),"validateAndImport"===e.LocalData.validationMode&&(a=JSON.parse(e.LocalData.AssetImportsSucceeded||"[]")),i){var l={};i.jobData&&(i.jobData.forEach((function(e){var t=e.split("=");l[t[0]]=t[1]})),l.targetLanguages&&(l.targetLanguages=l.targetLanguages.split(","))),i.jobData=l}else i={name:void 0,siteId:void 0};return{valid:"true"===e.LocalData.valid,validationMode:e.LocalData.validationMode,sourceLanguage:e.LocalData.sourceLanguage,targetLanguages:JSON.parse(e.LocalData.targetedLanguages),siteImportsSucceeded:o,assetImportsSucceeded:a,jobInfo:i,siteValidation:s,assetValidation:r,fFileGUID:e.LocalData.fFileGUID}},parse_SCS_VALIDATE_SITE_PUBLISH:function(e){return this.convertToRealJson(e),n.setIdcToken(e),JSON.parse(e.LocalData.SiteValidation)},parse_FLD_BROWSE_TRASH:function(e){return this.convertToRealJson(e),n.setIdcToken(e),this.parseResultSet(e.ResultSets.FolderInfo,"folder",this.fieldMap.folder)[0]},parse_FLD_BROWSE_TRASH_ITEMS:function(e){this.convertToRealJson(e),n.setIdcToken(e);var s=this.parseResultSet(e.ResultSets.ChildItems),o=this.parseResultSet(e.ResultSets.SiteMetadata,"siteMeta",sites.common.SitesJsonify.fieldMap.siteMetadata),a=this.parseResultSet(e.ResultSets.ThemeMetadata,"themeMeta",sites.common.SitesJsonify.fieldMap.themeMetadata),r=this.parseResultSet(e.ResultSets.ComponentMetadata,"compMeta",sites.common.SitesJsonify.fieldMap.componentMetadata);return t(s).each((function(e){var n;"framework.site"===e.application||"framework.site.template"===e.application||"framework.site.variant"===e.application?n=t.find(o,{scsIdentifier:e.realID}):"framework.site.theme"===e.application?n=t.find(a,{scsIdentifier:e.realID}):"framework.site.app"===e.application&&(n=t.find(r,{scsIdentifier:e.realID})),n&&(e.scsFlags=n.scsFlags,e.expiresAt=n.scsExpirationDate),this._isGovernanceEnabled()&&e.expiresAt&&(e.isGovernanceEnabled=!0,e.isExpired=i.getIsExpired(e.expiresAt),e.isSitesAdmin=docs.common.Globals.isSitesAdmin)}),this),s},checkAllowedActions:function(e){e.publish=e.directShareWrite,e.govSitesAdmin=osn.authz.can("route","SitesGov")&&o.isSitesAdmin,!1===o.sitesData.siteSharingEnabled&&(e.directShareRead=!1,e.directShareWrite=!1,e.directShareUpdate=!1,e.directShareDelete=!1,e.linkShareRead=!1,e.linkShareWrite=!1,e.linkShareUpdate=!1,e.linkShareDelete=!1,e.sitesSharingEnabled=!1),!o.sitesData.siteCreationEnabled||o.sitesData.adminOnlyOptions.createSite&&!o.isSitesAdmin&&!osn.authz.can("route","SitesGov")||o.isStandardExternalUser?e.createSites=!1:e.createSites=!0,e.createApps=!o.sitesData.adminOnlyOptions.createApp||o.isSitesAdmin,e.createTemplates=!o.sitesData.adminOnlyOptions.createTemplate||o.isSitesAdmin,o.isStandardExternalUser&&(e.folderDelete=!1,e.folderUpdate=!1)},setDefaultGovernanceTemplateProperties:function(e){osn.authz.can("route","SitesGov")&&(e.status="",e.isSitesAdmin=o.isSitesAdmin,e.isGovernanceEnabled=!0)},getGovernanceTemplatePolicies:function(e){return osn.authz.can("route","SitesGov")?{policy:e,status:e.status,approvalType:e.approvalType,securityType:s.getSecurityPolicy(e.security),sitePrefixAllowed:e.sitePrefixAllowed,localizationPolicyAllowed:e.localizationPolicyAllowed,expiration:e.expiration}:{}},setGovernanceTemplatePolicies:function(t,i){e.extend(t,this.getGovernanceTemplatePolicies(i))},getDefaultTemplatePolicy:function(e){var i=t.isFunction(e.get),n=(i?e.get("enterprise"):e.enterprise)||!1,s=(i?e.get("createSiteFromTemplate"):e.createSiteFromTemplate)||!1;return osn.authz.can("route","SitesGov")&&!s?n?window.sgGlobals.DEFAULT_ENTERPRISE_TEMPLATE_POLICY:window.sgGlobals.DEFAULT_STANDARD_TEMPLATE_POLICY:window.sgGlobals.getGovernanceDisabledTemplatePolicy()}}),sites.common.SitesJsonify})),define("common/site/SitesUtils",["jquery","underscore","core/util/Globals","core/util/Service","core/util/SitesJsonify","jqueryui-amd/widgets/dialog"],(function(e,t,docs,i){"use strict";var n=docs.common.Globals,s={getSiteUrlRoot:function(e){var t=n.sitesData&&(this.isCDNEverywhereEnabled()&&n.sitesData.siteCDNUrlRoot||n.sitesData.siteUrlRoot);return this.constructSiteUrl(t,e)},getSiteOriginUrl:function(e){var t=n.sitesData&&n.sitesData.siteUrlRoot;return this.constructSiteUrl(t,e)},constructSiteUrl:function(e,t){var s;if(e){var o=e,a=-1!==o.indexOf("/",o.length-1)?"":"/";s=(0===o.indexOf("http")?"":"https://")+o+a,n.sitesData&&!n.sitesData.instanceVanityDomainShortPathEnabled&&(s+="site/")}else{var r=document.createElement("a");r.href=i.getBaseUrl();var l=r.protocol+"//",c="";r.port&&"0"!==r.port&&"80"!==r.port&&"443"!==r.port&&(c=":"+r.port),s=l+r.hostname+c+"/site/"}return t&&n.sitesData&&!n.sitesData.instanceVanityDomainShortPathEnabled&&(s+="authsite/"),s},getSiteVanityDomain:function(t){return new Promise((function(i,n){e.get({url:window.sgGlobals.restUrl+"/sites/"+t,data:{expand:"vanityDomain",expansionErrors:"ignore",links:"none"},success:function(e){var t={name:"",status:""};return e.vanityDomain&&(t={name:e.vanityDomain.name,status:e.vanityDomain.configurationStatus}),i(t)},error:function(e,t,i){return e.errorHandled=!0,n(e,t,i)}})}))},getSiteVanityDomainUrl:function(e){var t="completed"===e.status?e.name:"";return t?"https://"+t:t},getVariantsFolderId:function(n){var s,o=i.formatServiceUrl("FLD_BROWSE");return o+="&item=fFolderGUID:"+n,o+="&itemType=Folder",o+="&doCombinedBrowse=1&combinedCount=100&combinedStartRow=0",e.ajax(o,{type:"GET",async:!1,cache:!1,success:function(e){var i=sites.common.SitesJsonify.parse_FLD_BROWSE_ITEMS(e),n=t.findWhere(i,{name:"variants"});n&&(s=n.id)}}),s},convert400ToCSError:function(e,t){if(400!==e.status||!e.responseText)return null;var i=sites.common.SitesJsonify.parseJSONString(e.responseText);return sites.common.SitesJsonify.convertToRealJson(i),t.errorCode=i.LocalData.StatusCode,t.errorMsg=i.LocalData.StatusMessage,t.errorMsgKey=i.LocalData.StatusMessageKey,i},isSites:function(e){return docs.common.Utils.isSites(e)},isTemplate:function(e){return e&&e.get("application")&&e.get("application").startsWith("framework.site.template")},isTheme:function(e){return e&&e.get("application")&&e.get("application").startsWith("framework.site.theme")},isApp:function(e){return e&&e.get("application")&&e.get("application").startsWith("framework.site.app")},isDeveloperCenterPage:function(e){return e&&["F:SCS:TEMPLATES","F:SCS:APPS","F:SCS:THEMES"].indexOf(e.id)>-1},excludeSiteContentServiceParams:function(e){var t="&filesFilterParams=fApplication&foldersFilterParams=fApplication&fApplication-=framework.site,framework.site.theme,framework.site.template,framework.site.app";return e&&(t+=","+e),t},includeSiteContentOnlyServiceParams:function(){return"&filesFilterParams=fApplication&fApplication-=framework&foldersFilterParams=fApplication&fApplication=framework.site,framework.site.theme,framework.site.variant"},fetchTenantConfig:function(t,n){var s=i?i.formatServiceUrl("GET_TENANT_CONFIG"):docs.common.Globals.serviceRoot+"?IdcService=GET_TENANT_CONFIG";return s+="&dTenantOptionClobKeys=SCSDefaultWebAnalyticsScript",e.ajax(s,{type:"GET",async:!1,cache:!1,success:t,error:n})},getTenantConfig:function(t,n){var s=i?i.formatServiceUrl("SCS_GET_TENANT_CONFIG"):docs.common.Globals.serviceRoot+"?IdcService=SCS_GET_TENANT_CONFIG";return e.ajax(s,{type:"GET",async:!1,cache:!1,success:t,error:n})},isCDNEverywhereEnabled:function(){var e=!1;if(n.sitesData&&"boolean"==typeof n.sitesData.cdnEverywhereEnabled)e=n.sitesData.cdnEverywhereEnabled;else{var t=JSON.parse(localStorage.getItem("CDNEverywhereV1"));"boolean"==typeof t?e=t:this.getTenantConfig((function(t,i,n){e=t&&t.LocalData&&"1"===t.LocalData.CdnEnabled}),(function(e,t,i){docs.common.Logger("sitesUtils").error("Error while getting common config. { jqXHR:",e,"} { textStatus: ",t,"} { errorThrown: ",i,"}")})),n.sitesData.cdnEverywhereEnabled=!!e}return e},reloadView:function(e){e.stopPropagation(),e.preventDefault(),window.location.reload(!0)},closeDialog:function(){!0===e(".ui-dialog-content").dialog("isOpen")&&t.defer((function(){e(".ui-dialog-content").dialog("close")}))},getDefaultTemplateThumbnailUrl:function(){return n.staticRoot+"images/func_template_gallery_24.svg"},pagerOptions:function(){var e=docs.common.Utils.standardPagerOptions();return e=t.reject(e,(function(e){return 500==e.value}))},getVirtualPageSize:function(e){var i=t.pluck(s.pagerOptions(),"value");return t.contains(i,e.pageSize)||e.setPageSize(i[0],!0),e.virtualPageSize}};return s})),define("core/AppEvents",["require","jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/util/util","core/util/Thumbs","core/util/Constants","core/util/Logger","common/site/SitesUtils","core/plugin/jquery.storage","core/util/FeatureFlags"],(function(require,e,t,i,osn,docs,n,s,o,a,r){"use strict";osn.test||(osn.events.on("error",(function(e){var t=e.dialogType||"core/dialog/AlertDialogView";e.inline?require(["core/view/AlertInlineView"],(function(){new osn.views.AlertInlineView({content:e.message,className:e.className}).render()})):require([t],(function(t){t.show({content:'<div class="errorDialogText">'+e.message+"</div>",primaryButtonTextI18n:e.primaryButtonTextI18n,close:e.close,confirm:e.confirm,title:e.title?osn.i18n.t(e.title):osn.i18n.t("error")})}))})),localStorage.setItem("loggedin","true"),window.addEventListener("storage",(function(e){"loggedin"!==e.key||e.newValue||osn.events.trigger("sessionexpiry",!0)})),osn.events.on("sessionexpiry",(function(){var t=docs.i18n.t("ERROR_SESSION_EXPIRY"),i=e(".ui-dialog, oj-dialog").last(),n=e(".ui-dialog .ui-dialog-content, oj-dialog .oj-dialog-body").last();i.length>0&&n.length>0&&require(["core/dialog/DialogBar"],(function(s){0==e(".dialog-webbar .wbMessage",i).length&&s.addBar(n,{placeholder:!1,klass:"flex-item"}),s.showErrorBar(i,t,{disableScriptProtection:!0})})),require(["core/view/MessageBar","core/embedapi/EmbedApi"],(function(i,n){new docs.views.MessageBar({messageText:t,messageType:"error",notificationContextBarSelector:":first",removeClose:!0,disableScriptProtection:!0}),n.events.sessionExpired(e("<p></p>").html(t).text())}))}))),osn.test||setInterval((function(){osn.events.trigger("minute-tick")}),6e4),osn.events.on("broadcast",(function(e){var t=osn.util.now(),i="<p class='osn-broadcast timestamp'>"+osn.i18n.formatDateTime(t)+":</p><p class='osn-broadcast message'>"+e[0].Arguments[0]+"</p>";osn.events.trigger("error",{message:i,title:"broadcastMessage"})}));var l=[];t.each(["assets/collections(/*params)","repositories(/*fragment)","repository(/*fragment)","channels(/*fragment)","channel(/*fragment)","localizations(/*fragment)","localization(/*fragment)","contenttypes(/*fragment)","contenttype(/*fragment)"],(function(e){l.push(i.Router.prototype._routeToRegExp(e))}));var c=function(e){var t;return(t=s.getUrl({extension:e.get("extension"),id:e.get("id"),revision:e.get("revision"),size:"small",infected:!1,wantGeneric:!1})).indexOf("GET_THUMBNAIL")<0&&(t=null),t};osn.events.on("recent-access",(function(n){a("recent-access").trace("Add to recent access items",n);var s,d,u,h,p,m=n&&n.item,f=n&&n.model||{},g=i.history.getFragment(),v=/^[^/]+/.exec(g),_=e.localStorage("RecentAccessedItems",void 0,{});if(osn.authz.can("access","Home")&&!t.some(l,(function(e){return e.test(g)})))try{if(!docs.common.Globals.embed){if(f.isCollections||f.isTranslationJobs||f.isTrash)return;m?"conversations"===m.type?s={id:"convList",i18nKey:"recentItemConversations",iconClass:"conv-list",navUrl:g}:"site"===m.type&&(s={id:m.id,label:m.label,iconClass:m.iconClass,navUrl:m.navUrl,launch:"browser"}):f.get("ConversationInfo")?s={id:f.id,label:f.get("ConversationInfo").ConversationName,iconClass:"conversation",navUrl:g}:f.isHome||f.isFavorites?s={id:docs.common.Globals.userid,i18nKey:"recentItemDocsHome",iconClass:"docs-home",navUrl:"folder/home"}:f.isAssetsSearch?s={id:f.get("id"),label:f.get("name"),iconClass:"asset-repo",navUrl:g}:"F:SCS:SITES"===f.get("id")?(g=null!==v?v[0]:g,s={id:f.get("id"),i18nKey:"recentItemSites",iconClass:"sites-list",navUrl:g}):"F:SCS:APPS"===f.get("id")?(g=null!==v?v[0]:g,s={id:f.get("id"),i18nKey:"recentItemComponents",iconClass:"apps-list",navUrl:g}):"F:SCS:TEMPLATES"===f.get("id")?(g=null!==v?v[0]:g,s={id:f.get("id"),i18nKey:"recentItemTemplates",iconClass:"templates-list",navUrl:g}):"F:SCS:THEMES"===f.get("id")?(g=null!==v?v[0]:g,s={id:f.get("id"),i18nKey:"recentItemThemes",iconClass:"themes-list",navUrl:g}):(u=f.get("name"),h=f.isAsset?f.getAssetType():f.has("type")?f.get("type").toLowerCase():"",u&&(h===o.ItemType.ASSET_TYPE_DA?(p=c(f),s={id:f.get("id"),label:u,iconClass:o.ItemType.ASSET_TYPE_DA,navUrl:g},p&&(s.tnUrl=p)):h===o.ItemType.ASSET_TYPE_CI||f.get("fileGroup")===o.ItemType.ASSET_TYPE_CI?(g.startsWith("assets/create")&&(g="assets/edit/"+f.get("id")),s={id:f.get("id"),label:u,iconClass:o.ItemType.ASSET_TYPE_CI,navUrl:g}):r.isApp(f)?("app"===h||"folder"===h&&""===f.get("parentID"))&&(s={id:f.get("id"),label:u,iconClass:"app",navUrl:g}):r.isTemplate(f)?("template"===h||"folder"===h&&""===f.get("parentID"))&&(s={id:f.get("id"),label:u,iconClass:"template",navUrl:g}):r.isTheme(f)?("theme"===h||"folder"===h&&""===f.get("parentID"))&&(s={id:f.get("id"),label:u,iconClass:"theme",navUrl:g}):r.isSites(f)?n.href?s={id:f.get("id"),label:u,iconClass:"site",navUrl:n.href,launch:"browser"}:"folder"===h&&""===f.get("parentID")&&(s={id:f.get("id"),label:u,iconClass:"site",navUrl:g}):"folder"===h?s={id:f.get("id"),label:u,iconClass:h,navUrl:g}:"file"===h&&(p=c(f),s={id:f.get("id"),label:u,iconClass:h,navUrl:g},p&&(s.tnUrl=p)))),function(i){try{a("recent-access").trace("Add to recent access items: "+JSON.stringify(i)),i&&!t.isEmpty(i.id)&&(i.timestamp=osn.util.now(),d=_[docs.common.Globals.userid]||[],d=t.reject(d,(function(e){return e.id===i.id})),"folder"===i.iconClass&&d.length&&"folder"===d[d.length-1].iconClass&&d.pop(),d.push(i),_[docs.common.Globals.userid]=t.last(d,[10]),e.localStorage("RecentAccessedItems",_))}catch(e){console.log(e)}}(s)}}catch(e){console.log(e)}}))})),define("core/AppUIState",["jquery","underscore","backbone","core/osnGlobals"],(function(e,t,i,osn){"use strict";var n,s;return n={setPersistence:function(e){s=e},save:function(e,i,n){var o="Gemini."+e;!n&&t.isObject(i)&&(i=t.extend(this.get(e)||{},i),i=t.chain(i).omit(t.isUndefined).omit(t.isNull).value()),s.setItem(o,JSON.stringify(i)),this.trigger("uistate:save:"+o,i)},get:function(e){var i;return e="Gemini."+e,i=s.getItem(e),t.isUndefined(i)||t.isNull(i)?i:JSON.parse(i)},remove:function(e){var t=this.get(e);return e="Gemini."+e,s.removeItem(e),this.trigger("uistate:remove:"+e,t),t}},t.extend(n,i.Events),n.setPersistence(window.sessionStorage),osn.uistate=Object.freeze(n),osn.uistate})),define("core/bc",["jquery","underscore","core/osnGlobals","core/AppEvents","core/util/FeatureFlags"],(function(e,t,osn){"use strict";var i,n=0,s=0,o=0,a=!0,r=e.localStorage("defaultBCYield",void 0,0);osn.events.on("bc-init",(function(l){var c;c=l,osn.debug("bc","Initializing the BackChannel"),osn.bc={abort:function(){osn.debug("bc","Aborting the current BackChannel request"),a=!0,i&&i.abort()},stop:function(){osn.debug("bc","Stopping BackChannel requests..."),a=!0},startOnDemand:function(){var t=e.Deferred();return osn.debug("bc","Request to start BackChannel on demand - "+o),o++,a?(osn.debug("bc","Entering hive and starting BackChannel on demand..."),osn.fc.sendRequest("XHiveModule$Server","enterHive",[]).then((function(){osn.events.trigger("needToExitHive",!0),osn.bc.start(),t.resolve()})).fail((function(){t.reject()}))):t.resolve(),t},stopOnDemand:function(){t.delay((function(){osn.debug("bc","Request to stop BackChannel on demand - "+o),o>0&&(0!=--o||a||(osn.debug("bc","Exiting hive and stopping BackChannel on demand..."),osn.bc.abort(),osn.events.trigger("needToExitHive",!1),osn.fc.sendRequest("XHiveModule$Server","exitHive",[])))}),3e4)},start:function(){if(!i){var o={"X-Waggle-ClientID":c.clientId,"X-Waggle-BCSerial":(s++).toString(),"X-Waggle-RandomID":c.randomId,"X-Waggle-Agent":c.agent,"X-Waggle-APIVersion":c.apiVersion};c.locale&&(o["X-Waggle-ForceLanguage"]=c.locale),a=!1,i=e.ajax({xhrFields:{withCredentials:!0},url:c.bcURL,type:"POST",dataType:"json",contentType:"application/json",timeout:45e3,headers:o,success:function(e,i,s){n=0;try{t.each(e,(function(e){osn.debug("bc","triggering event: "+e.MethodName),osn.events.trigger(e.MethodName,[e])}))}catch(e){window.console.log("!!! CAUGHT EXCEPTION IN BACK CHANNEL !!!"),window.console.log("Message: "+e.message),window.console.log("Stack Trace: \n"+e.stack)}},error:function(e,t,i){"abort"!==t&&(osn.debug("bc","("+n+") "+t+": "+i),++n>=3&&osn.pm.send({message:"status",status:"server-down"}))},complete:function(e,s){if(i=null,!a&&n<3){var o=parseInt(e.getResponseHeader("X-Waggle-BCYield"))||r;0==o?osn.bc.start():(osn.debug("bc","Wait "+o+" MS before sending next BC request"),t.delay((function(){a?osn.debug("bc","Skip delayed BC request - BC has been stopped"):osn.bc.start()}),o))}else a=!0,osn.debug("bc","Backchannel requests have stopped.")}})}}},c.embed&&c.embedEnterHive&&osn.bc.start(),osn.events.off("bc-init")}))})),define("core/dialog/OJDialog.template",["underscore"],(function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<oj-dialog :class="[[className]]" initial-visibility="show" :dialog-title="[[title]]" :cancel-behavior="[[cancelBehavior]]" :resize-behavior="[[resizeBehavior]]":drag-affordance="title-bar" :style.width="[[width]]" :style.height="[[height]]" :style.min-height="[[minHeight]]" :style.max-height="[[maxHeight]]" on-oj-before-open="[[onBeforeOpen]]" on-oj-open="[[onOpen]]" on-oj-close="[[onClose]]" on-oj-focus="[[onFocus]]">  <div slot="body" class="oce-oj-dialog-body">  </div>  <div slot="footer" data-bind="foreach: buttons">    <oj-button :id="[[id]]" :class="[[className]]" disabled="[[disabled]]" :chroming="[[chroming]]" :autofocus="[[autofocus]]" :style.display="[[display]]" on-oj-action="[[click]]">      <span><oj-bind-text value="[[text]]"></oj-bind-text></span>    </oj-button>  </div></oj-dialog>';return __p}})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojmessaging",["ojs/ojcore-base","jquery"],(function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const i=function(e,t,i){this.Init(e,t,i)};e._registerLegacyNamespaceProp("Message",i),i.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},i.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},e.Object.createSubclass(i,e.Object,"Message"),i.prototype.Init=function(e,t,n){i.superclass.Init.call(this),this.summary=e,this.detail=t,this.severity=n||i.SEVERITY_TYPE.ERROR},i.getSeverityLevel=function(e){var t=e;if(t)if("string"==typeof e){var n=i._LEVEL_TO_TYPE.indexOf(t,1);t=-1===n?i.SEVERITY_LEVEL.ERROR:n}else"number"==typeof t&&(t<i.SEVERITY_LEVEL.CONFIRMATION||t>i.SEVERITY_LEVEL.FATAL)&&(t=i.SEVERITY_LEVEL.ERROR);return t||i.SEVERITY_LEVEL.ERROR},i.getSeverityType=function(e){var t=e;return t&&("string"==typeof t?-1===i._LEVEL_TO_TYPE.indexOf(t,1)&&(t=i.SEVERITY_TYPE.ERROR):"number"==typeof t&&(t=t<i.SEVERITY_LEVEL.CONFIRMATION||t>i.SEVERITY_LEVEL.FATAL?i.SEVERITY_TYPE.ERROR:i._LEVEL_TO_TYPE[e])),t||i.SEVERITY_TYPE.ERROR},i.getMaxSeverity=function(e){var n=-1;return e&&e.length>0&&t.each(e,(function(e,t){var s=i.getSeverityLevel(t.severity);n=n<s?s:n})),n},i.isValid=function(e){return!(i.getMaxSeverity(e)>=i.SEVERITY_LEVEL.ERROR)},i._LEVEL_TO_TYPE=["none",i.SEVERITY_TYPE.CONFIRMATION,i.SEVERITY_TYPE.INFO,i.SEVERITY_TYPE.WARNING,i.SEVERITY_TYPE.ERROR,i.SEVERITY_TYPE.FATAL];const n=function(e,t,i,n){this.Init(e,t,i,n)};return e.Object.createSubclass(n,i,"ComponentMessage"),n._DEFAULT_OPTIONS={display:(n.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"}).SHOWN,context:""},n.prototype.Init=function(e,i,s,o){n.superclass.Init.call(this,e,i,s),this._options=t.extend({},n._DEFAULT_OPTIONS,o)},n.prototype.clone=function(){return new n(this.summary,this.detail,this.severity,this._options)},n.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===n.DISPLAY.HIDDEN)},n.prototype._forceDisplayToShown=function(){return!(!this._options||n.DISPLAY.HIDDEN!==this._options.display||(this._options.display=n.DISPLAY.SHOWN,0))},n.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},i.ComponentMessage=n,i})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojbootstrap",["exports"],(function(e){"use strict";var t;const i=function(){return t||(t="loading"===document.readyState?new Promise((function(e){var t=function(){document.removeEventListener("DOMContentLoaded",t),e()};document.addEventListener("DOMContentLoaded",t)})):Promise.resolve()),t};e.whenDocumentReady=i,Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojcustomelement",["ojs/ojcore","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojbootstrap","ojs/ojcore-base"],(function(e,t,i,n,s,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const a={};a.proto={getClass:function(e){var t=Object.create(HTMLElement.prototype);this.InitializePrototype(t);var n=this.GetMetadata(e);a._enumerateMetadataForKey(t,n,"properties",this.DefinePropertyCallback.bind(this)),a._enumerateMetadataForKey(t,n,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(t),t.setProperties=function(e){i.CustomElementUtils.getElementBridge(this)._setProperties(this,e)},Object.defineProperty(t,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(t,"unset",{value:function(e){this.setProperty(e,void 0)}}),t.attributeChangedCallback=this.AttributeChangedCallback,t.connectedCallback=this._connectedCallback,t.disconnectedCallback=this._detachedCallback;const s=t.appendChild;t.appendChild=function(e){return i.CustomElementUtils.canRelocateNode(this,e)?s.call(this,e):e};const o=t.insertBefore;t.insertBefore=function(e,t){return i.CustomElementUtils.canRelocateNode(this,e)?o.call(this,e,t):e},t.setAttribute=function(e,t){if("class"===e){const e=i.CustomElementUtils.getClassSet(t);i.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)},t.removeAttribute=function(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)};var r=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},l=this;return Object.defineProperty(r,"observedAttributes",{get:function(){return l.GetAttributes(n)}}),Object.defineProperty(t,"constructor",{value:r,writable:!0,configurable:!0}),r.prototype=t,Object.setPrototypeOf(r,HTMLElement),r},initializeBridge:function(e,t){this.METADATA=this.GetMetadata(t),this._eventListeners={},this.State=i.CustomElementUtils.getElementState(e)},AddComponentMethods:function(e){},AttributeChangedCallback:function(e,s,o){const r=i.AttributeUtils.attributeToPropertyName(e),l=i.CustomElementUtils.getElementBridge(this);if(s!==o||l.State.dirtyProps.has(r)){if(l.State.dirtyProps.delete(r.split(".")[0]),"disabled"===e&&l.ShouldRemoveDisabled()&&l._isDisabledAttributeRemoved())return void(null!=o&&(t.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),l._removeDisabledAttribute(this)));if(l.ShouldHandleAttributeChanged(this)){a.__CheckOverlappingAttribute(this,e),null===o&&(o=void 0);var c={detail:{attribute:e,value:o,previousValue:s}};if(this.dispatchEvent(new CustomEvent("attribute-changed",c)),!i.AttributeUtils.getExpressionInfo(o).expr){const t=n.getPropertyMetadata(r,i.CustomElementUtils.getElementProperties(this));t&&this.setProperty(r,a.__ParseAttrValue(this,e,r,o,t)),l.HandleAttributeChanged(this,e,s,o)}}}},CreateComponent:function(e){},DefineMethodCallback:function(e,t,i){},DefinePropertyCallback:function(e,t,i){},GetAttributes:function(e){return e?n.getFlattenedAttributes(e.properties):[]},GetMetadata:function(e){return e[a.DESC_KEY_META]||{}},GetAliasForProperty:function(e){return e},ShouldHandleAttributeChanged:function(e){return this.State.canHandleAttributes()},ShouldCallHandleAttributeChanged:function(e){return this.ShouldHandleAttributeChanged()},HandleAttributeChanged:function(e,t,i,n){},HandleBindingsApplied:function(e,t){},HandleDetached:function(e){},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var s=i[n];e.setProperty(s,t[s])}},GetEventListenerProperty:function(e){var t=i.AttributeUtils.eventListenerPropertyToEventType(e),n=this._eventListeners[t];if(n)return n.getListener()},GetProperty:function(e,t,s){var o=n.getPropertyMetadata(t,i.CustomElementUtils.getElementProperties(e));return i.AttributeUtils.isEventListenerProperty(t)||!o||-1===t.indexOf(".")?s[t]:i.CustomElementUtils.getPropertyValue(s,t)},HandlePropertyChanged:function(e,t,i,n,s,o){var r=s?"external":"internal";a.__FirePropertyChangeEvent(e,t,i,n,r,o)},PlaybackEarlyPropertySets:function(e){if(this._earlySets){const t=i.CustomElementUtils.getElementDescriptor(e.tagName),n=this.GetMetadata(t);for(;this._earlySets.length;){const t=this._earlySets.shift(),s=i.transformPreactValue(e,n.properties[t.property],t.value);e.setProperty(t.property,s)}}},SaveEarlyPropertySet:function(e,t,i){return!this.State.allowPropertySets()&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:t,value:i}),!0)},SetEventListenerProperty:function(e,t,n){var s=i.AttributeUtils.eventListenerPropertyToEventType(t),o=this._eventListeners[s];o||(o=this._createEventListenerWrapper(),this._eventListeners[s]=o,e.addEventListener(s,o)),null==n||n instanceof Function?o.setListener(n):a.__ThrowTypeError(e,t,n,"function")},SetProperty:function(t,s,o,r,l){var c=n.getPropertyMetadata(s,i.CustomElementUtils.getElementProperties(t));if(i.AttributeUtils.isEventListenerProperty(s)||!c)t[s]=o;else{var d=t.getProperty(s),u=s.split(".")[0],h=r[u];if(e.CollectionUtils.isPlainObject(h)&&(h=e.CollectionUtils.copyInto({},h,void 0,!0)),!i.ElementUtils.comparePropertyValues(c,o,d)){var p=-1!==s.indexOf(".");if(p&&(this._SKIP_PROP_CHANGE_EVENT=!0),l?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),r,s,o,t):a.__SetProperty(this.GetAliasForProperty.bind(this),r,s,o),this._SKIP_PROP_CHANGE_EVENT=!1,p){var m={path:s,value:o,previousValue:d};this.HandlePropertyChanged(t,u,r[u],h,l,m)}return this.State.dirtyProps.add(u),{property:u,propertySet:!0,isSubproperty:p}}}return{property:null,propertySet:!1,isSubproperty:!1}},ShouldRemoveDisabled:function(){return!0},ValidateAndSetProperty:function(e,t,i,n,s){var o=this.ValidatePropertySet(s,i,n);a.__SetProperty(e,t,i,o)},ValidatePropertySet:function(e,s,o){var r=i.CustomElementUtils.getElementProperties(e),l=n.getPropertyMetadata(s,r),c=s.split(".");if(l){if(r[c[0]].readOnly)throw new i.JetElementError(e,`Read-only property '${s}' cannot be set.`);try{n.checkEnumValues(e,s,o,l)}catch(t){throw new i.JetElementError(e,t.message)}return null!=o?a.checkType(e,s,o,l):o}t.warn(i.CustomElementUtils.getElementInfo(e)+": Ignoring property set for undefined property '"+s+"'.")},PostCreate:function(e){e.hasAttribute("disabled")&&this.ShouldRemoveDisabled()&&!this._isDisabledAttributeRemoved()&&this._removeDisabledAttribute(e)},_connected:function(e){const t=this.State;if(t.isComplete())this.HandleReattached(e);else if(t.startCreationCycle(),t.isCreating()){this.InitializeElement(e),t.setBindingProviderCallback(this.PlaybackEarlyPropertySets.bind(this,e));const i=()=>{try{return t.getSlotMap(!0),(this.CreateComponent(e)||Promise.resolve()).then(this.PostCreate.bind(this,e))}catch(e){return Promise.reject(e)}};t.setCreateCallback(i)}},_connectedCallback:function(){i.CustomElementUtils.getElementBridge(this)._connected(this)},_detachedCallback:function(){const e=i.CustomElementUtils.getElementBridge(this),t=e.State;t.isComplete()?e.HandleDetached(this):t.pauseCreationCycle()},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t.getListener=function(){return e},t},_setProperties:function(e,t){for(var i=[],n={},s=!1,o=Object.keys(t),a=0;a<o.length;a++){var r=o[a];r.indexOf(".")>=0?i.push(r):(n[r]=t[r],s=!0)}s&&this.BatchedPropertySet(e,n);for(var l=0;l<i.length;l++){var c=i[l];e.setProperty(c,t[c])}},_isDisabledAttributeRemoved:function(){return!0===this._disabledProcessed},_removeDisabledAttribute:function(e){this._disabledProcessed=!0,e.removeAttribute("disabled")}},a._enumerateMetadataForKey=function(e,t,i,n){if(t&&t[i]){var s=t[i];Object.keys(s).forEach((function(t){n(e,t,s[t])}))}},a.checkType=function(e,t,n,s){const o=s.type,r=i.ElementUtils.getSupportedTypes(o);if(1===r.typeCount&&!r.any&&!r.other){const i=typeof n;if(r.array&&!Array.isArray(n)||r.object&&"object"!==i||r.string&&"string"!==i||r.number&&("number"!==i||!isFinite(n)))a.__ThrowTypeError(e,t,n,o);else if(r.boolean)return!!n}return n},a.__ThrowTypeError=function(e,t,n,s){throw new i.JetElementError(e,`Invalid type '${typeof n}' found for property '${t}'. Expected value of type '${s}'.`)},a.__CheckOverlappingAttribute=function(e,t){var n=t.split(".");if(n.length>1)for(n.pop();n.length;){var s=n.join(".");if(e.hasAttribute(s))throw new i.JetElementError(e,`Cannot set overlapping attributes '${t}' and '${s}'.`);n.pop()}},a.__InitProperties=function(e,t){const s=i.CustomElementUtils.getElementBridge(e);var o=i.CustomElementUtils.getElementProperties(e);if(o)for(var r=e.attributes,l=0;l<r.length;l++){var c=r[l],d=i.AttributeUtils.attributeToPropertyName(c.nodeName),u=n.getPropertyMetadata(d,o);if(u&&!u.readOnly&&(a.__CheckOverlappingAttribute(e,c.nodeName),!i.AttributeUtils.getExpressionInfo(c.value).expr)){var h=a.__ParseAttrValue(e,c.nodeName,d,c.value,u);s.ValidateAndSetProperty(s.GetAliasForProperty.bind(s),t,d,h,e)}}},a.__SetProperty=function(e,t,i,n){var s,o=t,a=i.split("."),r=e(a[0]);a.length>1&&!t[r]&&(o=s={});for(var l=0;l<a.length;l++){var c=e(a[l]);l===a.length-1?o[c]=n:o[c]||(o[c]={}),o=o[c]}s&&(t[r]=s[r])},a.__ParseAttrValue=function(e,t,n,s,o){if(null==s)return s;function a(n){return i.AttributeUtils.attributeToPropertyValue(e,t,n,o)}var r=i.CustomElementUtils.getElementDescriptor(e.tagName).parseFunction;return r?r(s,n,o,(function(e){return a(e)})):a(s)},a.__ProcessEventListeners=function(t){var n=e.CollectionUtils.copyInto({},t,void 0,!0,1);return n.properties=n.properties||{},a._enumerateMetadataForKey(null,n,"properties",(function(e,t){var s=i.AttributeUtils.propertyNameToChangeEventType(t),o=i.AttributeUtils.eventTypeToEventListenerProperty(s);n.properties[o]={_derived:!0,_eventListener:!0}})),a._enumerateMetadataForKey(null,n,"events",(function(e,t){var s=i.AttributeUtils.eventTypeToEventListenerProperty(t);n.properties[s]={_derived:!0,_eventListener:!0}})),n},a.__FirePropertyChangeEvent=function(e,t,n,s,o,a){var r=i.CustomElementUtils.getElementBridge(e);if(!r._SKIP_PROP_CHANGE_EVENT){var l={};a&&(l.subproperty=a),l.value=n,l.previousValue=s,l.updatedFrom=o,r.beforePropertyChangedEvent&&r.beforePropertyChangedEvent(e,t,l),("external"!==o||r.State.isComplete())&&e.dispatchEvent(new CustomEvent(t+"Changed",{detail:l}))}},a.__DefineDynamicObjectProperty=function(e,t,i,n){Object.defineProperty(e,t,{enumerable:!0,get:i,set:n})},a.DESC_KEY_META="metadata",e._registerLegacyNamespaceProp("BaseCustomElementBridge",a),s.whenDocumentReady().then((function(){!function(){var e=document.createElement("div");e.style.border="1px solid",e.style.borderColor="red green",e.style.position="absolute",e.style.top="-999px",e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var t=document.body;t.appendChild(e);var i=window.getComputedStyle(e),n=i.backgroundImage;i.borderTopColor!==i.borderRightColor&&(null==n||"none"!==n&&"url (invalid-url:)"!==n)||t.classList.add("oj-hicontrast"),t.removeChild(e)}()})),s.whenDocumentReady().then((function(){!function(){let e=[];const t=o.AgentUtils.getAgentInfo();e.push("oj-agent-os-"+t.os.toLowerCase()),e.push("oj-agent-browser-"+t.browser.toLowerCase()),document.documentElement.classList.add(...e)}()}))})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojdefaultsutils",["exports","ojs/ojmetadatautils"],(function(e,t){"use strict";function i(e,t,i){let o=e._defaults;if(void 0===o){const a=n(e,t,i);o=Object.create(a),s(e,o),e._defaults=o}return o}function n(e,i,n){var s;let o=e._staticDefaults;if(void 0===o){if(o=null,i){const e=i.properties,a=null===(s=i.extension)||void 0===s?void 0:s._DEFAULTS;if(a){const e=new a;o=Object.create(e)}else e&&(o=Object.create(t.getDefaultValues(e,n)))}e._staticDefaults=o}return o}function s(e,t){if(e.getDynamicDefaults){const i=e.getDynamicDefaults();if(i)for(let e in i)void 0===t[e]&&(t[e]=i[e])}}var o=Object.freeze({__proto__:null,getFrozenDefault:function(e,n,s){const o=i(n,s,!0);return t.deepFreeze(o[e])},getDefaults:i,getStaticDefaults:n,applyDynamicDefaults:s});e.DefaultsUtils=o,Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojfocusutils",["jquery","ojs/ojcore-base","ojs/ojdomutils"],(function(e,t,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const n={_TABBABLE:":tabbable,iframe",containsFocus:function(e){var t=document.activeElement;return!(!e||!t)&&i.isAncestorOrSelf(e,t)},focusElement:function(e){e.focus()},focusFirstTabStop:function(e){var t=n.getFirstTabStop(e);return t&&n.focusElement(t),t},isFirstActiveElement:function(t){var i=e(t).find(n._TABBABLE);if(null==i||0===i.length)return!1;var s=i[0];return document.activeElement===s||s.name===document.activeElement.name&&"radio"===s.type&&"radio"===document.activeElement.type},isLastActiveElement:function(t){var i=e(t).find(n._TABBABLE);if(null==i||0===i.length)return!1;var s=i[i.length-1];return document.activeElement===s||s.name===document.activeElement.name&&"radio"===s.type&&"radio"===document.activeElement.type},getFirstTabStop:function(t){var i=e(t);if(i.is(n._TABBABLE))return t;var s=i.find(n._TABBABLE);if(s&&s.length>0){if(s[0].classList.contains("oj-radio")){var o=s.filter(".oj-selected.oj-radio");return o&&o.length?o[0]:s[0]}return s[0]}return null},getLastTabStop:function(t){var i=e(t).find(n._TABBABLE);if(i&&i.length>0){if(i[i.length-1].classList.contains("oj-radio")){var s=i.filter(".oj-selected.oj-radio");return s&&s.length?s[s.length-1]:i[i.length-1]}return i[i.length-1]}return null},isFocusable:function(i){return!(!e(i).is(":focusable")||"A"===i.nodeName&&!i.hasAttribute("tabindex")&&t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI)}};return n})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojgestureutils",["exports","jquery","ojs/ojdomutils"],(function(e,t,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const n={_EVENT_NAMESPACE:".contextMenu",stopDetectContextMenuGesture:function(e){e._clickListener&&(t(e).off(n._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer),e._touchStartAndMouseDownListener&&(e.removeEventListener("touchstart",e._touchStartAndMouseDownListener,{passive:!1}),delete e._touchStartAndMouseDownListener),e._touchMoveListener&&(e.removeEventListener("touchmove",e._touchMoveListener,{passive:!0}),delete e._touchMoveListener)},startDetectContextMenuGesture:function(e,s){var o,a,r,l,c=i.PRESS_HOLD_THRESHOLD,d=!1,u=!1,h=null,p=n._EVENT_NAMESPACE,m=!1;function f(i,n,o){if((d=o)&&t(e).one("touchend"+p,(function(){m=!0,setTimeout((function(){m=!1}),50)})),"touchstart"===h&&"contextmenu"===i.type||"contextmenu"===h&&"touchstart"===i.type||"keydown"===h&&"contextmenu"===i.type)return"keydown"===h&&"contextmenu"===i.type&&i.preventDefault(),h=null,void clearTimeout(l);i.isDefaultPrevented&&i.isDefaultPrevented()||i.originalEvent&&i.originalEvent.defaultPrevented||i.defaultPrevented||("touchstart"!==i.type&&"touchmove"!==i.type||(i.originalEvent=i),s(i,n),(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&("touchstart"!==i.type&&"contextmenu"!==i.type&&"keydown"!==i.type||(h=i.type,l=setTimeout((function(){h=null}),300))))}var g=function(e){d&&(e.preventDefault(),e.stopPropagation(),d=!1)};e._clickListener=g,e.addEventListener("click",g,!0);var v=function(t){if("mousedown"!==t.type||!m){if(d=!1,"touchstart"===t.type&&1===t.touches.length){var i=t.touches[0];a=i.pageX,r=i.pageY,u=!0,o=setTimeout(f.bind(void 0,t,"touch",!0),c),e._contextMenuPressHoldTimer=o}return!0}};e._touchStartAndMouseDownListener=v,e.addEventListener("touchstart",v,{passive:!1});var _=function(e){var t=e.touches[0];return(Math.abs(a-t.pageX)>5||Math.abs(r-t.pageY)>5)&&(u=!1,clearTimeout(o)),!0};e._touchMoveListener=_,e.addEventListener("touchmove",_,{passive:!0}),t(e).on("mousedown"+p,v).on("touchend"+p+" touchcancel"+p,(function(){return u=!1,clearTimeout(o),!0})).on("keydown"+p+" contextmenu"+p,(function(e){return("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&f(e,u?"touch":"keydown"===e.type?"keyboard":"mouse",!1),!0})),i.isTouchSupported()&&t(e).addClass("oj-menu-context-menu-launcher")}},s=n.startDetectContextMenuGesture,o=n.stopDetectContextMenuGesture;e.startDetectContextMenuGesture=s,e.stopDetectContextMenuGesture=o,Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojcomponentcore",["exports","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcore","jquery","ojs/ojmessaging","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojlogger","ojs/ojdefaultsutils","ojs/ojtranslation","ojs/ojfocusutils","ojs/ojgestureutils"],(function(e,t,i,n,s,o,a,r,l,c,d,u,h,p,m,f,g,v,_){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const b=function(e){this.Init(e)};a.Object.createSubclass(b,a.Object,"oj.ComponentMessaging"),a._registerLegacyNamespaceProp("ComponentMessaging",b),b._STRATEGY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline",LABEL_EDGE_INSIDE:"inside",LABEL_EDGE_INSIDE_FORM_CNTRL:"insideformcontrol",USER_ASSISTANCE_INLINE:"userassistanceinline"},b._STRATEGY_TYPE_TO_CALLBACK={};const y="aria-describedby";b.registerMessagingStrategy=function(e,t){e&&"function"==typeof t&&(b._STRATEGY_TYPE_TO_CALLBACK[e]=t)},b.prototype.Init=function(e){b.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},b.prototype.activate=function(e,t,i){var n=this;a.Assert.assertObject(i),this._launcher=e,this._contentElement=t,this._messagingContent=a.CollectionUtils.copyInto(this._messagingContent||{},i),this._isActive()?this._reactivate():(r.each(this._strategies,(function(e,t){t.activate(n)})),this._activated=!0)},b.prototype.update=function(e){a.Assert.assertObject(e),a.Assert.assertBoolean(this._activated),this._messagingContent=a.CollectionUtils.copyInto(this._messagingContent||{},e),this._activated&&r.each(this._strategies,(function(t,i){i.shouldUpdate(e)&&i.update()}))},b.prototype.deactivate=function(){r.each(this._strategies,(function(e,t){t.deactivate()})),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},b.prototype.close=function(){this._activated&&r.each(this._strategies,(function(e,t){t.close()}))},b.prototype.releaseResources=function(){this._activated&&r.each(this._strategies,(function(e,t){t.releaseResources()}))},b.prototype.setupResources=function(){this._activated&&r.each(this._strategies,(function(e,t){t.setupResources()}))},b.prototype._createMessagingStrategy=function(e,t){return new(b._STRATEGY_TYPE_TO_CALLBACK[e]||b._STRATEGY_TYPE_TO_CALLBACK[b._STRATEGY_TYPE.NONE])(t)},b.prototype._getComponent=function(){return this._component||null},b.prototype._getLauncher=function(){return this._launcher||null},b.prototype._getContentElement=function(){return this._contentElement||null},b.prototype._getMessagingContent=function(){return this._messagingContent||{}},b.prototype._setMessagingContent=function(e){a.Assert.assertObject(e),this._messagingContent=a.CollectionUtils.copyInto(this._messagingContent||{},e)},b.prototype._isActive=function(){return this._activated},b.prototype._getResolvedMessagingDisplayOptions=function(e){for(var t={},i=!1,n=this._component.options,s={},o=Object.keys(e),a=0;a<o.length;a++){var l=o[a],c=e[l];i=!1;var d=l+"";if(Array.isArray(c))for(var u=0;u<c.length;u++){var h=c[u];i||(i=this._resolveStrategyTypeForArtifact(d,h,n,s))}else"string"==typeof c&&(i||(i=this._resolveStrategyTypeForArtifact(d,c,n,s)));i||(s[d]=b._STRATEGY_TYPE.NONE)}return this._addLabelStrategy(s),r.each(b._STRATEGY_TYPE,(function(e,i){t[i]=[]})),r.each(s,(function(e,i){t[i].push(e)})),t},b.prototype._getUserAssistanceStrategyToArtifactsObj=function(){var e={},t=this._component.options.displayOptions||{},i={},n=Object.keys(t);for(let e=0;e<n.length;e++){let s=n[e],o=t[s];i[s+""]="string"==typeof o&&"none"===o?b._STRATEGY_TYPE.NONE:b._STRATEGY_TYPE.USER_ASSISTANCE_INLINE}return this._addLabelStrategy(i),Object.keys(b._STRATEGY_TYPE).forEach((function(t){let i=b._STRATEGY_TYPE[t];e[i]=[]})),Object.keys(i).forEach((function(t){let n=i[t];e[n].push(t)})),e},b.prototype._addLabelStrategy=function(e){var t=this._component._ResolveLabelEdgeStrategyType();this._resolveStrategyTypeForArtifact("labelEdge",t,this._component.options,e)||(e.labelEdge=b._STRATEGY_TYPE.NONE)},b.prototype._resolveStrategyTypeForArtifact=function(e,t,i,n){var s=!1,o=i.placeholder;switch(t){case b._STRATEGY_TYPE.PLACEHOLDER:"converterHint"===e&&(s||o||(n[e]=t,s=!0));break;case b._STRATEGY_TYPE.INLINE:"messages"===e&&(s||(n[e]=t,s=!0));break;case b._STRATEGY_TYPE.LABEL_EDGE_INSIDE:case b._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL:"labelEdge"!==e||s||a.StringUtils.isEmptyOrUndefined(i.labelHint)||(n[e]=t,s=!0);break;default:s||"labelEdge"===e||(n[e]=t,s=!0)}return s},b.prototype._initializeMessagingStrategies=function(){var e=this._strategyToArtifacts(),t=e[b._STRATEGY_TYPE.NOTEWINDOW],i=e[b._STRATEGY_TYPE.NONE],n=e[b._STRATEGY_TYPE.PLACEHOLDER],s=e[b._STRATEGY_TYPE.INLINE],o=e[b._STRATEGY_TYPE.LABEL_EDGE_INSIDE],a=e[b._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL],r=e[b._STRATEGY_TYPE.USER_ASSISTANCE_INLINE],l={};t.length>0&&(l[b._STRATEGY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(b._STRATEGY_TYPE.NOTEWINDOW,t)),n.length>0&&0===o.length&&(l[b._STRATEGY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(b._STRATEGY_TYPE.PLACEHOLDER,n)),s.length>0&&(l[b._STRATEGY_TYPE.INLINE]=this._createMessagingStrategy(b._STRATEGY_TYPE.INLINE,s)),r.length>0&&(l[b._STRATEGY_TYPE.USER_ASSISTANCE_INLINE]=this._createMessagingStrategy(b._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,r)),o.length>0?l[b._STRATEGY_TYPE.LABEL_EDGE_INSIDE]=this._createMessagingStrategy(b._STRATEGY_TYPE.LABEL_EDGE_INSIDE,o):a.length>0&&(l[b._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL]=this._createMessagingStrategy(b._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,a)),l[b._STRATEGY_TYPE.NONE]=this._createMessagingStrategy(b._STRATEGY_TYPE.NONE,i),this._strategies=l},b.prototype._reactivate=function(){var e,t=this._strategyToArtifacts(),i=this;r.each(t,(function(t,n){t+="",e=i._strategies[t],n&&n.length>0?e?e&&e.reactivate(n):(e=i._createMessagingStrategy(t,n),i._strategies[t]=e,e.activate(i)):e&&b._STRATEGY_TYPE.NONE!==t&&(e.deactivate(),delete i._strategies[t])}))},b.prototype._strategyToArtifacts=function(){let e,t=this._component._getResolvedUserAssistance();if("compact"!==t&&"displayOptions"!==t)e=this._getUserAssistanceStrategyToArtifactsObj();else{let i=this._component.options.displayOptions||{};"compact"===t?(i.messages="notewindow",i.validatorHint="notewindow",i.converterHint="notewindow",e=this._getResolvedMessagingDisplayOptions(i)):e=this._getResolvedMessagingDisplayOptions(i)}return e};const E=function(e){this.Init(e)};a.Object.createSubclass(E,a.Object,"oj.MessagingStrategy"),a._registerLegacyNamespaceProp("MessagingStrategy",E),E.prototype.Init=function(e){a.Assert.assertArray(e),E.superclass.Init.call(this),this._displayOptions=e},E.prototype.activate=function(e){this._componentMessaging=e},E.prototype.deactivate=function(){},E.prototype.close=function(){},E.prototype.setupResources=function(){},E.prototype.releaseResources=function(){},E.prototype.reactivate=function(e){this.Init(e)},E.prototype.shouldUpdate=function(e){return!0},E.prototype.update=function(){},E.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},E.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},E.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},E.prototype.setHasValidatorHints=function(e){this._hasValidatorHints=e},E.prototype.getHasValidatorHints=function(){return!0===this._hasValidatorHints},E.prototype.GenerateIdIfNeeded=function(e){isNaN(E._uidCounter)&&(E._uidCounter=0);var t=e;t.id||(t.id="ojms_"+E._uidCounter,E._uidCounter+=1)},E.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},E.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},E.prototype.GetConverterHint=function(){var e=[],t=this._getMessagingContent(),i=t&&t.converterHint;return i&&e.push(i),e},E.prototype.GetValidatorHints=function(){if(!this.getHasValidatorHints()){this.setHasValidatorHints(!0);let e=this.GetComponent();this._setMessagingContent(e._getValidatorHintsMC()),e._initAsyncValidatorMessagingHint()}var e=this._getMessagingContent();return e&&e.validatorHint||[]},E.prototype.GetTitle=function(){var e=this._getMessagingContent();return e&&e.title||""},E.prototype.GetValidityState=function(){var e=this._getMessagingContent();return e&&e.validityState||null},E.prototype.HasMessages=function(){var e=this.GetMessages();return!!(e&&e.length>0)},E.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},E.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},E.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},E.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},E.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},E.prototype.AddAriaDescribedByForInlineMessaging=function(e){let t=this.GetContentElement();a.Assert.assertPrototype(t,r);let i=r(e).uniqueId()[0].getAttribute("id");t.each((function(){let e=this.getAttribute(y),t=e?e.split(/\s+/):[];-1===t.indexOf(i)&&t.push(i);let n=t.join(" ").trim();this.setAttribute(y,n)}))},E.prototype.AddDescribedByToElement=function(e,t){const i=e.getAttribute("described-by");let n,s=i?i.split(/\s+/):[];-1===s.indexOf(t)&&s.push(t),n=s.join(" ").trim(),e.setAttribute("described-by",n)},E.prototype.RemoveDescribedByFromElement=function(e,t){const i="described-by",n=e.getAttribute(i);let s=(n?n.split(/\s+/):[]).filter((e=>e!==t)).join(" ").trim();s?e.setAttribute(i,s):e.removeAttribute(i)},E.prototype.RemoveAriaDescribedByForInlineMessaging=function(e){let t=this.GetContentElement();a.Assert.assertPrototype(t,r);let i=e.getAttribute("id");t.each((function(){let e=this.getAttribute(y),t=e?e.split(/\s+/):[],n=t.indexOf(i);-1!==n&&t.splice(n,1);let s=t.join(" ").trim();s?this.setAttribute(y,s):this.removeAttribute(y)}))},E.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},E.prototype._setMessagingContent=function(e){return this._componentMessaging?this._componentMessaging._setMessagingContent(e):{}};const w=function(e){this.Init(e)};b.registerMessagingStrategy(b._STRATEGY_TYPE.NONE,w),w._SELECTOR_STATE_INVALID="oj-invalid",w._SELECTOR_STATE_WARNING="oj-warning",a.Object.createSubclass(w,E,"oj.DefaultMessagingStrategy"),a._registerLegacyNamespaceProp("DefaultMessagingStrategy",w),w.prototype.update=function(){w.superclass.update.call(this);var e=this.GetLauncher(),t=this.GetMaxSeverity(),i=[],n=[],s=!1,o=this.GetComponent().widget();e&&(this.IsInvalid()?(i.push(w._SELECTOR_STATE_WARNING),n.push(w._SELECTOR_STATE_INVALID),s=!0):this.HasMessages()&&t===l.SEVERITY_LEVEL.WARNING?(i.push(w._SELECTOR_STATE_INVALID),n.push(w._SELECTOR_STATE_WARNING)):(i.push(w._SELECTOR_STATE_INVALID),i.push(w._SELECTOR_STATE_WARNING)),o.removeClass(i.join(" ")).addClass(n.join(" ")),this.GetContentElement().attr({"aria-invalid":s}))},w.prototype.deactivate=function(){this.GetComponent().widget().removeClass(w._SELECTOR_STATE_INVALID).removeClass(w._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),w.superclass.deactivate.call(this)};const C=function(e){this.Init(e)};b.registerMessagingStrategy(b._STRATEGY_TYPE.PLACEHOLDER,C),a.Object.createSubclass(C,E,"oj.PlaceholderMessagingStrategy"),a._registerLegacyNamespaceProp("PlaceholderMessagingStrategy",C),C.prototype.Init=function(e){C.superclass.Init.call(this,e)},C.prototype.activate=function(e){C.superclass.activate.call(this,e),this._refreshPlaceholder()},C.prototype.reactivate=function(e){C.superclass.reactivate.call(this,e),this._refreshPlaceholder()},C.prototype.shouldUpdate=function(e){return!(!e||void 0===e.converterHint)},C.prototype.update=function(){C.superclass.update.call(this),this._refreshPlaceholder()},C.prototype._refreshPlaceholder=function(){var e=this.GetLauncher();if(this.ShowPlaceholderContent()&&e){var t=this.GetConverterHint(),i=t.length?t[0]:"";if(a.StringUtils.isEmptyOrUndefined(i))return;this.GetComponent().option({placeholder:i},{_context:{internalMessagingSet:!0}})}},C.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()};const S=function(e,t){this.Init(e,t)};S.isInvalid=function(e){return l.getMaxSeverity(e)>=l.SEVERITY_LEVEL.ERROR},a.Object.createSubclass(S,a.Object,"oj.ComponentValidity"),a._registerLegacyNamespaceProp("ComponentValidity",S),S.prototype.Init=function(e,t){S.superclass.Init.call(this),this._initialize(e,t)},S.prototype.isInvalid=function(){return this._invalid},S.prototype.getMessages=function(){return this._messages},S.prototype.getMaxSeverity=function(){return this._maxSeverity},S.prototype.update=function(e,t){this._initialize(e,t)},S.prototype._initialize=function(e,t){this._compValid=e,this._compMessages=t,this._messages=this._getImmediateMessages(),this._maxSeverity=l.getMaxSeverity(this._messages),this._invalid=S.isInvalid(this._messages)},S.prototype._getImmediateMessages=function(){for(var e=this._compMessages||[],t=[],i=0;i<e.length;i++){var n=e[i];n instanceof l.ComponentMessage&&!n.canDisplay()||t.push(n)}return t};const I={};d._registerLegacyNamespaceProp("Components",I),I._OJ_CONTAINER_ATTR="data-oj-container";const A="node is not a component element";function T(e,t){if(null==e)return null;var i=1===e.nodeType,n=d.Composite&&!t?d.Composite.getContainingComposite(e):null;if(n)return n;if(i&&e.hasAttribute("data-oj-internal"))return e.parentNode instanceof Element&&e.parentNode.hasAttribute("data-oj-surrogate-id")?T(e=document.querySelector("[data-oj-popup-"+e.id+"-parent]"),t):T(e.parentNode,t);if(k(e))return e;if(i&&e.classList.contains("oj-component")){if(N(e=e.querySelector(".oj-component-initnode:not([data-oj-internal])")||e))return e}else if(i&&e.hasAttribute("data-oj-containerid"))return T(e=document.getElementById(e.getAttribute("data-oj-containerid")),t);return T(e.parentNode,t)}function O(e,t){var i=function(){var e=r(this),i=e.data("oj-component-names");if(null!=i)for(var n=0;n<i.length;n++){var s=e.data("oj-"+i[n]);null!=s&&t(s)}},n=r(e);n.hasClass("oj-component-initnode")&&i.call(e),n.find(".oj-component-initnode").each(i)}function P(e,t,i){function n(e){if(t&&e.classList.contains("oj-component-initnode")){var n=r(e),s=n.data("oj-component-names");if(null!=s)for(var o=0;o<s.length;o++){var a=n.data("oj-"+s[o]);null!=a&&t(a)}}if(i&&"oj-defer"===e.tagName.toLowerCase()){if(!e._activate)throw new Error("subtreeShown called before module ojs/ojdefer was loaded");e._activate()}}if(!function(e){for(var t=e;t;){if(t.nodeType===Node.DOCUMENT_NODE)return!1;if(t.nodeType===Node.ELEMENT_NODE&&t.classList.contains("oj-subtree-hidden"))return!0;t=t.parentNode}return!0}(e)){n(e);var s=[".oj-component-initnode"];i&&s.push("oj-defer");var o=[];s.forEach((function(e){o.push(".oj-subtree-hidden "+e),o.push(".oj-pending-subtree-hidden "+e)}));for(var a=s.join(","),l=o.join(","),c=function(e,t){for(var i=[],n=0,s=0;s<t.length;s++){for(var o=t[s];n<e.length&&e[n]!==o;)i.push(e[n]),n+=1;n+=1}for(;n<e.length;)i.push(e[n]),n+=1;return i}(e.querySelectorAll(a),e.querySelectorAll(l)),d=0;d<c.length;d++)n(c[d])}}function D(e){this.getCallback=function(){return e}}function R(e,t,i){return Object.keys(t).forEach((function(n){var s=e[n]||[],o=t[n];i?s=s.concat(o):s.push(o),e[n]=s})),e}function x(e){return p.CustomElementUtils.isElementRegistered(e.tagName)}function N(e){return!!I.__GetWidgetConstructor(e)}function k(e){return x(e)||N(e)}I.setDefaultOptions=function(e){var t=I._defaultProperties||{};Object.keys(e).forEach((function(i){var n=e[i];if(!d.CollectionUtils.isPlainObject(n))throw new Error("Invalid default options");t[i]=R(t[i]||{},n,!1)})),I._defaultProperties=t},I.getDefaultOptions=function(){return I._defaultProperties||{}},I.createDynamicPropertyGetter=function(e){return new D(e)},I.getWidgetConstructor=function(e,t){return e&&!p.CustomElementUtils.isElementRegistered(e.tagName)?I.__GetWidgetConstructor(e,t):null},I.__GetWidgetConstructor=function(e,t){var i=r(e),n=i.data("oj-component-names");if(n&&(null==t?t=n[0]:n.indexOf(t)<0&&(t=void 0),null!=t)){var s=i[t];if("function"==typeof s)return s.bind(i)}return null},I.subtreeAttached=function(e){u.fixResizeListeners(e),O(e,(function(e){e.__handleSubtreeAttached()}))},I.subtreeDetached=function(e){O(e,(function(e){e.__handleSubtreeDetached()}))},I.subtreeShown=function(e,t){var i=r(e)[0];if(i.nodeType===Node.ELEMENT_NODE){var n=(t||{}).initialRender;n||u.fixResizeListeners(i),i.classList.remove("oj-subtree-hidden"),P(i,(function(e){p.CustomElementUtils.allowSlotRelocation(!0);try{n?e._NotifyInitShown():e._NotifyShown()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}),!0)}},I.subtreeHidden=function(e){var t=r(e)[0];t.nodeType===Node.ELEMENT_NODE&&(P(t,(function(e){p.CustomElementUtils.allowSlotRelocation(!0);try{e._NotifyHidden()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}),!1),t.classList.add("oj-subtree-hidden"))},I.markPendingSubtreeHidden=function(e){e.classList.add("oj-pending-subtree-hidden")},I.unmarkPendingSubtreeHidden=function(e){e.classList.remove("oj-pending-subtree-hidden")},I.isComponentInitialized=function(e,t){var i=e.data("oj-component-names");return!!(r.isArray(i)&&i.indexOf(t)>-1&&e.is(".oj-component-initnode"))},I.__getDefaultOptions=function(e){for(var t={},i=I.getDefaultOptions(),n=e.length-1;n>=0;n--){var s=i[e[n]];void 0!==s&&(t=R(t,s,!0))}return t},I.getComponentElementByNode=function(e){var t=!!(arguments.length>1&&arguments[1]);return T(e,t)},I.getSubIdByNode=function(e,t){return I.callComponentMethod(e,"getSubIdByNode",t)},I.getNodeBySubId=function(e,t){return I.callComponentMethod(e,"getNodeBySubId",t)},I.getComponentOption=function(e,t){if(!k(e))throw new Error(A);return x(e)?e.getProperty?e.getProperty.call(e,t):void 0:I.__GetWidgetConstructor(e)("option",t)},I.setComponentOption=function(e,t,i){if(!k(e))throw new Error(A);x(e)?e.setProperty&&e.setProperty.call(e,t,i):I.__GetWidgetConstructor(e)("option",t,i)},I.callComponentMethod=function(e,t,i){if(!k(e))throw new Error(A);return x(e)?e[t]?e[t].apply(e,[].slice.call(arguments,2)):void 0:I.__GetWidgetConstructor(e).apply(r(e),[].slice.call(arguments,1))};const L={};L.proto=Object.create(a.BaseCustomElementBridge.proto),a.CollectionUtils.copyInto(L.proto,{beforePropertyChangedEvent:function(e,t,i){var n=t,s=i.value;i.subproperty&&(n=i.subproperty.path,s=i.subproperty.value),this._partialRender(e,n,s)},AddComponentMethods:function(e){e.refresh=function(){p.CustomElementUtils.getElementBridge(this)._fullRender(this)},e.setProperty=function(e,t){var i=p.CustomElementUtils.getElementBridge(this);i.SaveEarlyPropertySet(this,e,t)||i.SetProperty(this,e,t,this,!0)},e.getProperty=function(e){return p.CustomElementUtils.getElementBridge(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(e,t){this._BRIDGE.SetProperty(this._ELEMENT,e,t,this,!1)},e._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this,e,this)}},CreateComponent:function(e){if(I.unmarkPendingSubtreeHidden(e),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR){var t=p.ElementUtils.getUniqueId();if(this._CONTEXT={element:e,props:this._PROPS_PROXY,unique:t},this._CONTEXT.uniqueId=e.id?e.id:t,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},DefineMethodCallback:function(e,t,i){e[t]=function(){var e=p.CustomElementUtils.getElementBridge(this);if(e._INSTANCE){var n=i.internalName||t;return e._INSTANCE[n].apply(e._INSTANCE,arguments)}}},DefinePropertyCallback:function(e,t,i){function n(e,n){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,t,e)){n&&(e=p.transformPreactValue(this._ELEMENT,i,e));var s=this._BRIDGE._PROPS[t];p.ElementUtils.comparePropertyValues(i,e,s)?m.info(p.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+t+"' with same value."):(n&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,t,e)),i._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,t,e),this._BRIDGE._PROPS[t]=e):(this._BRIDGE._PROPS[t]=e,a.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,t,e,s,n?"external":"internal"),this._BRIDGE.State.dirtyProps.add(t)))}}function s(){var e=this._BRIDGE._PROPS[t];return void 0===e&&(e=this._BRIDGE._getDefaultValue(t,i),this._BRIDGE._PROPS[t]=e),e}i._derived||a.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,t,(function(){return s.bind(this)()}),(function(e){n.bind(this)(e,!1)})),a.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,t,(function(){var e=p.CustomElementUtils.getElementBridge(this);return s.bind(e._PROPS_PROXY)()}),(function(e){var t=p.CustomElementUtils.getElementBridge(this);n.bind(t._PROPS_PROXY)(e,!0)}))},InitializeElement:function(e){a.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&I.markPendingSubtreeHidden(e),a.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){a.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},initializeBridge:function(e,t){a.BaseCustomElementBridge.proto.initializeBridge.call(this,e,t),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},e._propsProto&&(this._PROPS_PROXY=Object.create(e._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=e)},ShouldRemoveDisabled:function(){return!0===this._EXTENSION._SHOULD_REMOVE_DISABLED},_fullRender:function(e){if(this._INSTANCE&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},_partialRender:function(e,t,i){if(this._INSTANCE){var n=this._INSTANCE.handlePropertyChanged;if((!n||!n(t,i))&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},_getDefaultValue:function(e,t){return this._EXTENSION._CONSTRUCTOR?f.DefaultsUtils.getDefaults(this._EXTENSION._CONSTRUCTOR,this.METADATA,!1)[e]:c.getDefaultValue(t)}}),a._registerLegacyNamespaceProp("DefinitionElementBridge",L);class M extends p.ElementState{IsTransferAttribute(e){const t=p.CustomElementUtils.getElementBridge(this.Element),i=t._EXTENSION._GLOBAL_TRANSFER_ATTRS;return t._WIDGET_ELEM&&i&&i.includes(e)}GetDescriptiveTransferAttributeValue(e){return p.CustomElementUtils.getElementBridge(this.Element)._WIDGET_ELEM.getAttribute(e)}}const j={};j.proto=Object.create(a.BaseCustomElementBridge.proto),a._registerLegacyNamespaceProp("CustomElementBridge",j);const U=function(e,t){return function(i){e.dispatchEvent(new FocusEvent(t,{relatedTarget:i.relatedTarget}))}};a.CollectionUtils.copyInto(j.proto,{getThrottlePromise:function(){var e=this.State.getBindingProviderPromise();return e.then((function(e){return e?e.__GetThrottlePromise():null}))},AddComponentMethods:function(e){e.setProperty=function(e,t){var i=p.CustomElementUtils.getElementBridge(this);if(!i.SaveEarlyPropertySet(this,e,t)&&!i._setEventProperty(this,e,t)&&!i._validateAndSetCopyProperty(this,e,t,null)){var n=c.getPropertyMetadata(e,p.CustomElementUtils.getElementProperties(this));n?(i._setOption(e,t,n,this),i.State.dirtyProps.add(e.split(".")[0])):this[e]=t}},e.getProperty=function(e){var t=p.CustomElementUtils.getElementBridge(this),i=c.getPropertyMetadata(e,p.CustomElementUtils.getElementProperties(this));if(p.AttributeUtils.isEventListenerProperty(e)||!i)return this[e];var n=i?i.extension:null;return n&&n._COPY_TO_INNER_ELEM?t._getCopyProperty(this,e,i):j._getPropertyAccessor(this,e)()},e.focus=function(){var e=p.CustomElementUtils.getElementBridge(this);if(e._WIDGET_INSTANCE){var t=e._WIDGET_INSTANCE.__getFocusElement();t&&(t!==this?t.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},e.blur=function(){var e=p.CustomElementUtils.getElementBridge(this);if(e._WIDGET_INSTANCE){var t=e._WIDGET_INSTANCE.__getFocusElement();t&&(t!==this?t.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.blur.call(this)}},BatchedPropertySet:function(e,t){var i,n=Object.keys(t),s={};for(i=0;i<n.length;i++){var o=n[i],a=t[o];this._setEventProperty(e,o,a)||this._validateAndSetCopyProperty(e,o,a,null)||(a=this.ValidatePropertySet(e,o,a),s[o=this.GetAliasForProperty(o)]=a)}var r=I.__GetWidgetConstructor(this._WIDGET_ELEM);if(r)r("option",s);else for(i=0;i<n.length;i++){var l=n[i];e.setProperty(l,t[l])}},CreateComponent:function(e){var t=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=j._getWidgetElement(e,t?t(e):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==e){for(var i=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],n=0;n<i.length;n++){var s=i[n];e.hasAttribute(s)&&(this._WIDGET_ELEM.setAttribute(s,e.getAttribute(s)),this._removingTransfer=!0,e.removeAttribute(s))}this._copyProperties()}I.unmarkPendingSubtreeHidden(e);var o=r(this._WIDGET_ELEM),a=r(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(o);a(this._PROPS),this._WIDGET=a,this._WIDGET_INSTANCE=a("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),this._setupFocusPropagation(e)},DefineMethodCallback:function(e,t,i){e[t]=function(){var e=p.CustomElementUtils.getElementBridge(this),n=i.internalName||t;p.CustomElementUtils.allowSlotRelocation(!0);try{return e._WIDGET.apply(null,[n].concat([].slice.call(arguments)))}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},DefinePropertyCallback:function(e,t,i){var n=i.extension;Object.defineProperty(e,t,{enumerable:!0,get:function(){var e=p.CustomElementUtils.getElementBridge(this);return i._eventListener?e.GetEventListenerProperty(t):n&&n._COPY_TO_INNER_ELEM?e._getCopyProperty(this,t,i):j._getPropertyAccessor(this,t)()},set:function(e){var n=p.CustomElementUtils.getElementBridge(this);n.SaveEarlyPropertySet(this,t,e)||(e=p.transformPreactValue(this,i,e),i._eventListener?n.SetEventListenerProperty(this,t,e):n._validateAndSetCopyProperty(this,t,e,i)||(n._setOption(t,e,i,this),n.State.dirtyProps.add(t)))}})},GetAttributes:function(e){var t=c.getFlattenedAttributes(e.properties);return e.extension._GLOBAL_TRANSFER_ATTRS&&(t=t.concat(e.extension._GLOBAL_TRANSFER_ATTRS)),e.extension._WATCHED_ATTRS&&(t=t.concat(e.extension._WATCHED_ATTRS)),t},GetAliasForProperty:function(e){var t=this._EXTENSION._ALIASED_PROPS;return t&&t[e]?t[e]:e},InitializeElement:function(e){a.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&I.markPendingSubtreeHidden(e),a.BaseCustomElementBridge.__InitProperties(e,this._PROPS)},HandleAttributeChanged:function(e,t,i,n){var s=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,o=s&&-1!==s.indexOf(t),a=this._EXTENSION._WATCHED_ATTRS,r=a&&-1!==a.indexOf(t);o&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(t,n),this._removingTransfer=!0,e.removeAttribute(t)):r&&i!==n&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(t,i,n)},HandleDetached:function(e){a.BaseCustomElementBridge.proto.HandleDetached.call(this,e),I.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected(),this._teardownFocusPropagation(e)},HandleReattached:function(e){a.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._setupFocusPropagation(e),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},initializeBridge:function(e,t){a.BaseCustomElementBridge.proto.initializeBridge.call(this,e,t),this._INNER_DOM_FUNCTION=t.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:e}:{},this._setupPropertyAccumulator(e,this._PROPS),this._processProperties(e)},_setOption:function(e,t,i,n){let s={};if(void 0===t&&-1===e.indexOf(".")&&(s={_context:{skipEvent:!0}},t=c.getDefaultValue(i),this.State.isComplete())){const t=n[e];a.BaseCustomElementBridge.__FirePropertyChangeEvent(n,e,void 0,t,"external")}j._getPropertyAccessor(n,e,s)(t)},_copyProperties:function(){if(this._COPY_ATTRS)for(var e=0;e<this._COPY_ATTRS.length;e++){var t=this._COPY_ATTRS[e],i=p.AttributeUtils.attributeToPropertyName(t);if(Object.prototype.hasOwnProperty.call(this._PROPS,i)){var n=this._PROPS[i];this._setCopyProperty(t,n),delete this._PROPS[i]}}},_getCopyProperty:function(e,t,i){var n=p.AttributeUtils.propertyNameToAttribute(t);if(i.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(n)){var s=this._WIDGET_ELEM.getAttribute(n);return p.AttributeUtils.attributeToPropertyValue(e,n,s,i)}return null}return this._WIDGET_ELEM[t]},_processProperties:function(e){var t=p.CustomElementUtils.getElementProperties(e);if(t)for(var i=Object.keys(t),n=0;n<i.length;n++){var s=i[n],o=t[s];o.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[s]=!0);var a=o.extension;a&&a._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(s))}},_setCopyProperty:function(e,t){null==t||!1===t?this._WIDGET_ELEM.removeAttribute(e):!0===t?this._WIDGET_ELEM.setAttribute(e,""):this._WIDGET_ELEM.setAttribute(e,t)},_setupPropertyAccumulator:function(e,t){this._WIDGET=function(i,n,s){if("option"===i)return a.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),t,n,s),t[n];throw new p.JetElementError(e,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(e,t,i,n){var s=p.AttributeUtils.propertyNameToAttribute(t),o=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(s);if(o)if(i=this.ValidatePropertySet(e,t,i),this._WIDGET_ELEM){n||(n=c.getPropertyMetadata(t,p.CustomElementUtils.getElementProperties(e)));var r=this._getCopyProperty(e,t,n);this._setCopyProperty(s,i),a.BaseCustomElementBridge.__FirePropertyChangeEvent(e,t,this._getCopyProperty(e,t,n),r,"external")}else this._PROPS[s]=i;return o},_setEventProperty:function(e,t,i){var n=p.AttributeUtils.isEventListenerProperty(t);return n&&(e[t]=i),n},_setupFocusPropagation:function(e){const t=this._WIDGET_INSTANCE.__getFocusElement();if(t&&t!==e){const i=U(e,"focus"),n=U(e,"blur");t.addEventListener("focus",i),t.addEventListener("blur",n),this._teardownFocus=function(e,t,i){return function(){e.removeEventListener("focus",t),e.removeEventListener("blur",i)}}(t,i,n)}},_teardownFocusPropagation:function(){this._teardownFocus&&(this._teardownFocus(),this._teardownFocus=null)}}),j.getMetadata=function(e){return j._METADATA_MAP[e.toLowerCase()]},j.isKnownEvent=function(e,t){var i=p.CustomElementUtils.getElementBridge(e);return null!=(i.METADATA.events&&i.METADATA.events[t])},j.isKnownProperty=function(e,t){var i=p.CustomElementUtils.getElementBridge(e);return null!=(i.METADATA.properties&&i.METADATA.properties[t])},j.getPropertyForAlias=function(e,t){var i=p.CustomElementUtils.getElementBridge(e)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return i&&i[t]?i[t]:t},j.register=function(e,t){var i=t[a.BaseCustomElementBridge.DESC_KEY_META];i=a.BaseCustomElementBridge.__ProcessEventListeners(i),t[a.BaseCustomElementBridge.DESC_KEY_META]=i,j._METADATA_MAP[e.toLowerCase()]=i;var n=i.extension,s=n&&n._WIDGET_NAME?j.proto:L.proto;const o=n&&n._WIDGET_NAME?M:p.ElementState;var r=n._ALIASED_PROPS;r&&(n._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(r).forEach((function(e){n._COMPONENT_TO_ELEMENT_ALIASES[r[e]]=e})));const l={descriptor:t,bridgeProto:s,stateClass:o};p.CustomElementUtils.registerElement(e,l,s.getClass(t))},j._getPropertyAccessor=function(e,t,i){return function(n){var s=p.CustomElementUtils.getElementBridge(e);return 1===arguments.length?(n=s.ValidatePropertySet(e,t,n),t=s.GetAliasForProperty(t),void s._WIDGET("option",t,n,i)):(t=s.GetAliasForProperty(t),s._WIDGET("option",t))}.bind(e)},j._getWidgetElement=function(e,t){var i=e;if(t){var n=e.firstElementChild;if(n&&n.tagName.toLowerCase()===t)i=n;else{i=document.createElement(t);for(var s=[],o=e.childNodes,a=0;a<o.length;a++)s.push(o[a]);for(e.appendChild(i);s.length;){var r=s.shift();p.CustomElementUtils.getSlotAssignment(r)||i.appendChild(r)}}i.setAttribute("data-oj-internal","")}return i},j._METADATA_MAP={};class F{static isDataProvider(e){return!!e.fetchFirst}static isTreeDataProvider(e){return!!e.getChildDataProvider}}d._registerLegacyNamespaceProp("DataProviderFeatureChecker",F);var V,B,G={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=X},stopPropagation:function(){this.isPropagationStopped=X},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=X}};function H(e,t,i,n,s,o,a){var r=i,l=!1,c={};delete n[s],Object.defineProperty(n,s,{get:function(){if(l)return r;if(null!=e._settingNestedKey)return r;var i=o(a?a():s);return W([t,i,r],c)},set:function(t){r=t,null!=e._settingNestedKey?c[e._settingNestedKey]=!0:l=!0},enumerable:!0})}function z(e){if(1===e.length){var t=e[0];return t instanceof D?t.getCallback():null}for(var i=!1,n=0;n<e.length&&!i;n++){var s=e[n];null!=s&&s instanceof D&&(i=!0)}return i?function(t){var i=[];return e.forEach((function(e){null!=e&&e instanceof D?i.push(e.getCallback()(t)):i.push(e)})),W(i)}:null}function W(e,t){for(var i,n=0;n<e.length;n++){var s=e[n];void 0!==s&&(i=r.isPlainObject(s)?q({},r.isPlainObject(i)?[i,s]:[s],n===e.length-1?null:t,null):s)}return i}function q(e,t,i,n){for(var s=t.length,o=0;o<s;o++)for(var a=t[o],l=Object.keys(a),c=0;c<l.length;c++){var d,u=l[c];if(d=null==i?null:null==n?u:n+"."+u,null==i||!i[d]){var h=a[u];if(void 0!==h)if(r.isPlainObject(h)){var p=r.isPlainObject(e[u])?[e[u],h]:[h];e[u]=q({},p,i,d)}else e[u]=h}}return e}function X(){return!0}function J(e){return e.getAttribute&&e.getAttribute("class")||""}r.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(e,t){e&&(this.OuterWrapper=e._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=e||{},this._super(e,t),this._AfterCreateEvent()},_SetRootAttributes:function(){var e=this.options.rootAttributes;if(e){var t=this.widget();if(null==t)return;var i=e.class;i&&t.addClass(i),e.style&&m.error("The rootAttributes.style option violates the recommended\n          Content Security Policy which disallows inline styles and is therefore ignored.\n          Use the rootAttributes.class option instead."),delete(e=r.extend({},e)).class,delete e.style,t.attr(e),delete e.id;var n=Object.keys(e);if(n.length)throw new Error("Unsupported values passed to rootAttributes option: "+n.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass("oj-component-initnode")},_InitOptions:function(e,t){this._setupDefaultOptions(e,t),this._initContextMenuOption(t)},_ComponentCreate:function(){var e,t,i;e=this.element,t=this.widgetName,(i=e.data("oj-component-names"))||(i=[],e.data("oj-component-names",i)),i.indexOf(t)<0&&i.push(t),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:r.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(e){},_SaveAllAttributes:function(e){var t=this;this._savedAttributes=[],r.each(e,(function(e,i){var n={},s={element:i,attributes:n},o=i.attributes;t._savedAttributes.push(s),r.each(o,(function(e,t){var i=t.name;n[i]={attr:t.value}}))}))},_GetSavedAttributes:function(e){var t=this._savedAttributes;if(void 0===t)return null;for(var i=e[0],n=0,s=t.length;n<s;n++){var o=t[n];if(o.element===i)return o.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){r.each(this._savedAttributes,(function(e,t){var i=r(t.element),n=t.attributes;if(1===i.length){var s,o,a=t.element.attributes,l=[];for(s=0,o=a.length;s<o;s++)a[s].name in n||l.push(a[s].name);for(s=0,o=l.length;s<o;s++)"style"===l[s]?i[0].style=null:i.removeAttr(l[s]);var c=Object.keys(n);for(s=0;s<c.length;s++){var d=c[s];"style"===d&&""===n[d].attr?i[0].style=null:i.attr(d,n[d].attr)}}}))},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(e,t,i){return this._IsCustomElement()&&this._getWritebackOption(e)?a.Object.compareValues(t,i):t===i},getTranslatedString:function(e,t){var i={};arguments.length>2?i=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(i=arguments[1])||i instanceof Array||(i=[i]));var n=this.option("translations."+e);return null==n?e:g.applyParameters(n.toString(),i)},getNodeBySubId:function(e){return null!=e&&null!=e.subId||!this.element?null:this.element[0]},getSubIdByNode:function(e){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),u.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass("oj-component-initnode"),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(e,t){var i=e.data("oj-component-names");if(i){var n=i.indexOf(t);n>=0&&(i.splice(n,1),0===i.length&&e.removeData("oj-component-names"))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(e,t){if(0===arguments.length)return r.widget.extend({},this.options);var i,n=arguments[0],s=n,o=null,a={};if("string"==typeof n){s={};var l=n.split(".");if(n=l.shift(),l.length){var c;o=l.join(".");try{arguments.length>1&&(this._settingNestedKey=o),c=r.widget.extend({},this.options[n]),s[n]=c}finally{this._settingNestedKey=null}for(i=0;i<l.length-1;i++)c[l[i]]=c[l[i]]||{},c=c[l[i]];if(n=l.pop(),1===arguments.length)return void 0===c[n]?null:c[n];c[n]=t}else{if(1===arguments.length)return void 0===this.options[n]?null:this.options[n];s[n]=t}a=arguments[2]||a}else a=arguments[1]||a;if(null!=o){var d={path:e,value:t};a=r.widget.extend({},a,{subkey:o,subproperty:d})}var u=a?a._context:null,h=!!u&&u.internalSet,f={},g=Object.keys(s);for(i=0;i<g.length;i++){var v=g[i],_=s[v],b=this.options[v],y=a&&a.changed;y||!this._CompareOptionValues(v,b,_)?f[v]=_:this._IsCustomElement()&&m.info(p.CustomElementUtils.getElementInfo(this.element[0])+": Ignoring property set for property '"+v+"' with same value.")}if(Object.keys(f).length>0){p.CustomElementUtils.allowSlotRelocation(!0);try{h?this._internalSetOptions(f,a):this._setOptions(f,a)}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}return this},_internalSetOptions:function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++){var s=i[n],o=e[s],a=this.options[s];this.options[s]=o,this._optionChanged(s,o,a,t)}},_setOptions:function(e,t){p.CustomElementUtils.allowSlotRelocation(!0);try{for(var i=Object.keys(e),n=0;n<i.length;n++){var s=i[n],o=e[s];this._setOption(s,o,t)}}finally{p.CustomElementUtils.allowSlotRelocation(!1)}return this},_setOption:function(e,t,i){var n=this.options[e];if("disabled"===e)this.options[e]=t,this.widget().toggleClass("oj-disabled",!!t).attr("aria-disabled",t),t&&this._removeStateClasses(this.widget());else{try{var s=null==i?null:i.subkey;null!=s&&(this._settingNestedKey=s),this._super(e,t)}finally{this._settingNestedKey=null}"contextMenu"===e&&this._SetupContextMenu()}return this._optionChanged(e,t,n,i),this},_optionChanged:function(e,t,i,n){var s,o=null,a=!1,l=!1,c=null,d="external",u=null;if(n&&(o=n._context)){if(o.skipEvent)return;c=o.originalEvent,a=void 0===o.writeback?null!=c:o.writeback,l=o.readOnly,u=o.optionMetadata,s=o.extraData,o.internalSet&&(d="internal")}(u=u||{}).writeback=a?"shouldWrite":"shouldNotWrite",l&&(u.readOnly=!0);var h={option:e,previousValue:i,value:t,optionMetadata:u,updatedFrom:d},p=null==n?null:n.subkey;if(p){var m=p.split("."),f=i;m.forEach((function(e){f&&(f=f[e])}));var g=n.subproperty;g.previousValue=f,h.subproperty=g}null!=s&&(h=r.extend({},s,h)),this._trigger("optionChange",c,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(e,t,i){return this._trigger2(e,t,i).proceed},_trigger2:function(e,t,i){var n=i||{};if(this._IsCustomElement())return this._triggerCustomEvent(e,t,n);var s=this.options[e],o=r.Event(t,G);return o.type=(this.widgetEventPrefix+e).toLowerCase(),o.target=this.element[0],this.element.trigger(o,n),{proceed:!(r.isFunction(s)&&!1===s.apply(this.element[0],[o].concat(n))||o.isDefaultPrevented()),event:o}},_triggerCustomEvent:function(e,t,i){var n,s,o,a={},l=this._getRootElement();if("optionChange"===e){var c=j.getPropertyForAlias(l,i.option);if(!j.isKnownProperty(l,c))return{proceed:!0,event:null};n=p.AttributeUtils.propertyNameToChangeEventType(c);for(var d=Object.keys(i),u=0;u<d.length;u++){var h=d[u];if("option"!==h)if("optionMetadata"===h)for(var m=Object.keys(i[h]),f=0;f<m.length;f++){var g=m[f];"writeback"!==g&&"component"!==g&&(a[g]=i[h][g])}else a[h]=i[h]}}else{if(n=p.AttributeUtils.eventTriggerToEventType(e),!j.isKnownEvent(l,n))return{proceed:!0,event:null};s=!0,o=!0,a=this._resolveJQueryObjects(i)}t&&(a.originalEvent=t instanceof r.Event?t.originalEvent:t);var v={detail:a};s&&(v.bubbles=!0),o&&(v.cancelable=!0);var _=new CustomEvent(n,v);return l.dispatchEvent(_),{proceed:!_.defaultPrevented,event:_}},_resolveJQueryObjects:function(e){for(var t=a.CollectionUtils.copyInto({},e),i=Object.keys(t),n=0;n<i.length;n++){var s=i[n],o=t[s];o&&o instanceof r&&(0===o.length?t[s]=null:1===o.length?t[s]=o[0]:t=o.toArray())}return t},_initContextMenuOption:function(e){var t=this.element.attr("contextmenu");this._initialCmDomAttr=t,t&&!("contextMenu"in e)&&this.option("contextMenu",document.getElementById(t),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(e,t,i){if(!this._IsEffectivelyDisabled()){var n;if("OJ-MENU"===e.tagName)n=e;else{var s=I.__GetWidgetConstructor(e,"ojMenu");if(!(n=s&&s("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(n,t,i),r(e).is(":visible")&&t.preventDefault()}},_SetupContextMenu:function(){var e=this._GetContextMenu();if(e||(e=this._GetDefaultContextMenu()),e&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=e;var t=this;_.startDetectContextMenuGesture(this.widget()[0],(function(i,n){t._handleContextMenuGesture(e,i,n)}))}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,_.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var e=p.CustomElementUtils.getSlotMap(this._getRootElement()).contextMenu;if(e&&e.length>0)return e[0]}else if(this.options.contextMenu)return r(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(e,t,i){this._OpenContextMenu(t,i)},_OpenContextMenu:function(e,t,i,n,s){var o=this._GetContextMenu();if(o||(o=this._contextMenuGestureInit&&r(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),o){var a={mouse:{my:"start top",at:"start bottom",of:e,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},l={launcher:this.element,position:a[t]},c={initialFocus:"menu"},d=s?r.extend(l,i,c):r.extend(!0,l,i,c);if(o.__openingContextMenu=!0,"OJ-MENU"===o.tagName)o.open(e,d,n);else{var u=I.__GetWidgetConstructor(o,"ojMenu");(u&&u("instance")).open(e,d,n);var h=function(e){e.preventDefault()};o.addEventListener("contextmenu",h),window.setTimeout((function(){o.removeEventListener("contextmenu",h)}),50)}o.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(e){e.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),e.find(".oj-hover").removeClass("oj-hover"),e.find(".oj-focus").removeClass("oj-focus"),e.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),e.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!u.recentTouchEnd()},_AddHoverable:function(e){var t;r.isPlainObject(e)?t=e.element:(t=e,e={});var i=e.afterToggle||r.noop;t.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,i)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",i))},_RemoveHoverable:function(e){e&&e.off(this.hoverableEventNamespace)},_AddActiveable:function(e){var t;r.isPlainObject(e)?t=e.element:(t=e,e={});var i=e.afterToggle||r.noop;u.isTouchSupported()&&(t[0]&&(this._touchstartListener=this._activeStartHandler.bind(this,i),t[0].addEventListener("touchstart",this._touchstartListener,{passive:!0})),t.on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",i))),t.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,i)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",i)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,i)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",i))},_RemoveActiveable:function(e){e&&(e[0]&&(e[0].removeEventListener("touchstart",this._touchstartListener,{passive:!0}),delete this._touchstartListener),e.off(this.activeableEventNamespace),V=null)},_activeStartHandler:function(e,t){var i=r(t.currentTarget);("mouseenter"!==t.type||this._isTargetInActiveElement(t.currentTarget))&&(i.hasClass("oj-disabled")||"touchstart"!==t.type&&!this._isRealMouseEvent(t)||(i.addClass("oj-active"),e(t.type),"mousedown"===t.type&&(V=t.currentTarget,this.document.one("mouseup",(function(){V=null})))))},_hoverStartHandler:function(e,t){var i=r(t.currentTarget);!i.hasClass("oj-disabled")&&this._isRealMouseEvent(t)&&(i.addClass("oj-hover"),e(t.type))},_hoverAndActiveEndHandler:function(e,t,i){("oj-active"!==e||"mouseleave"!==i.type||this._isTargetInActiveElement(i.currentTarget))&&(r(i.currentTarget).removeClass(e),t(i.type))},_isTargetInActiveElement:function(e){return V===e||null!=V&&r.contains(V,e)},_hoverable:function(){},_focusable:function(e){r.isPlainObject(e)||(e={element:e}),e.component=this,u.makeFocusable(e)},_UnregisterChildNode:function(e){if(e){r(e).off(this.eventNamespace);var t=this.bindings;t&&(this.bindings=r(t.not(e)))}},_GetReadingDirection:function(){return u.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(e){this._ancestorDisabled=e},_getTranslationSectionLoader:function(){var e=[],t=this,i=0;this._traverseWidgetHierarchy((function(n){var s=0===i?t._GetTranslationsSectionName():n.widgetFullName;i+=1;var o=g.getComponentTranslations(s);null==o||r.isEmptyObject(o)||e.push(s)}));var n=e.length;return n>0?function(){if(1===n)return g.getComponentTranslations(e[0]);for(var t={},i=n-1;i>=0;i--)r.widget.extend(t,g.getComponentTranslations(e[i]));return t}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var e={};this._propertyContext=e;var t=this.element[0];e.containers=function(e){for(var t=e,i=[];t;){var n=t.getAttribute,s=n?n.call(t,I._OJ_CONTAINER_ATTR):null;null!=s&&i.push(s),t=t.parentNode}return i}(t),e.element=t,e.isCustomElement=this._IsCustomElement(),e.isCustomElement&&(e.customElement=this._getRootElement())}return this._propertyContext},_setupDefaultOptions:function(e,t){var i=this.options,n=this._getTranslationSectionLoader(),s=t.translations;null==n||void 0!==s&&!r.isPlainObject(s)||H(this,void 0,t.translations,i,"translations",n),this._loadGlobalDefaultOptions(e,t)},_loadGlobalDefaultOptions:function(e,t){var i=this.options,n=[];this._traverseWidgetHierarchy((function(e){n.push(e.widgetName)})),n.push("default");var s=I.__getDefaultOptions(n);if(!r.isEmptyObject(s))for(var o=this,a=function(){return o._getDynamicPropertyContext()},l=Object.keys(s),c=0;c<l.length;c++){var d=l[c],u=t[d];if(void 0===u||r.isPlainObject(u)){var h=s[d];if(h){var p=z(h);if(p)H(this,e[d],u,i,d,p,a);else{var m=[e[d]].concat(h);m.push(u),i[d]=W(m)}}}}},_traverseWidgetHierarchy:function(e){for(var t=this.constructor.prototype;null!=t&&"oj"===t.namespace;)e(t),t=Object.getPrototypeOf(t)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return p.CustomElementUtils.isElementRegistered(this._getRootElement().tagName)},_GetThrottlePromise:function(){if(this._IsCustomElement()){var e=this._getRootElement();return p.CustomElementUtils.getElementBridge(e).getThrottlePromise()}return Promise.resolve(null)},_FixRendererContext:function(e){if(this._IsCustomElement()){var t=a.CollectionUtils.copyInto({},e);return delete t.component,t.componentElement=this._getRootElement(),t}return e},_GetCustomElement:function(){return this._getRootElement()},_WrapCustomElementRenderer:function(e){return this._IsCustomElement()&&"function"==typeof e?function(t){var i=e(t);return i&&i.insert?i.insert:null}:e},__saveWritebackOptions:function(e){this._writebackOptions=e},_getWritebackOption:function(e){return!(!this._writebackOptions||!this._writebackOptions[e])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(e){return!!this._VerifyConnectedForSetup()&&(void 0===this.connectedState&&window.queueMicrotask(function(){this.connectedState===e&&(0===e?this._SetupResources():this._ReleaseResources()),this.connectedState=void 0}.bind(this)),this.connectedState=e,!0)},__handleWatchedAttribute:function(e,t,i){this._WatchedAttributeChanged(e,t,i)},_WatchedAttributeChanged:function(e,t,i){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete r.fn.baseComponent,a.__registerWidget=function(e,t,i,n){if(r.widget(e,t,i),n){var s=e.split(".")[1];delete r.fn[s]}if("oj.oj"===e.substring(0,5)||"oj._oj"===e.substring(0,6)){var o,a=e.split("."),l=a[0],c=a[1],d=l+"-"+c;o="_"===c.substring(0,1)?"_"+l+"-"+c.substring(3):l+"-"+c.substring(2),r.expr.pseudos[o.toLowerCase()]=function(e){return!!r.data(e,d)}}},r.cleanData=(B=r.cleanData,function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(null==n)break;var s=!1,o=I.__GetWidgetConstructor(n);if(o&&!(s=o("instance")._IsCustomElement())){var a=I.getComponentElementByNode(n);s=a&&p.CustomElementUtils.isElementRegistered(a.tagName)}s||t.push(n)}t.length>0&&B(t)}),r.fn.addClass=function(e){if("function"==typeof e)return this.each((function(t){r(this).addClass(e.call(this,t,J(this)))}));const t=Array.isArray(e)?e:p.CustomElementUtils.getClassSet(e);return this.each((function(){1===this.nodeType&&this.classList.add(...t)})),this},r.fn.removeClass=function(e){if("function"==typeof e)return this.each((function(t){r(this).removeClass(e.call(this,t,J(this)))}));if(!arguments.length)return this.attr("class","");const t=Array.isArray(e)?e:p.CustomElementUtils.getClassSet(e);return this.each((function(){1===this.nodeType&&this.classList.remove(...t)})),this};const Y={};a._registerLegacyNamespaceProp("Test",Y),Y.ready=!1,Y.domNodeForLocator=function(e){var t=e;if(a.StringUtils.isString(e)){var i=e;try{t=JSON.parse(i)}catch(e){return null}}if(t&&t.element){var n=r(t.element);if(n&&n.length>0){delete t.element;var s=t;return I.getNodeBySubId(n[0],s)}}return null},Y.getOpenPopupCount=function(){return a.ZOrderUtils.getOpenPopupCount()},Y.findOpenPopups=function(){return a.ZOrderUtils.findOpenPopups()},Y.compareStackingContexts=function(e,t){return a.ZOrderUtils.compareStackingContexts(e,t)};const K=I.subtreeAttached,Z=I.subtreeDetached,$=I.subtreeHidden,Q=I.subtreeShown,ee=I.createDynamicPropertyGetter,te=I.setDefaultOptions,ie=I.getDefaultOptions,ne=I.__GetWidgetConstructor,se=I.setComponentOption,oe=I.getComponentOption,ae=I.getWidgetConstructor,re=I.isComponentInitialized,le=I.markPendingSubtreeHidden,ce=I.unmarkPendingSubtreeHidden,de=I.__getDefaultOptions,ue=I.getComponentElementByNode,he=I.getSubIdByNode,pe=I.getNodeBySubId,me=I.callComponentMethod,fe=I._OJ_CONTAINER_ATTR;e.DataProviderFeatureChecker=F,e._OJ_CONTAINER_ATTR=fe,e.__GetWidgetConstructor=ne,e.__getDefaultOptions=de,e.callComponentMethod=me,e.createDynamicPropertyGetter=ee,e.getComponentElementByNode=ue,e.getComponentOption=oe,e.getDefaultOptions=ie,e.getNodeBySubId=pe,e.getSubIdByNode=he,e.getWidgetConstructor=ae,e.isComponentInitialized=re,e.markPendingSubtreeHidden=le,e.setComponentOption=se,e.setDefaultOptions=te,e.subtreeAttached=K,e.subtreeDetached=Z,e.subtreeHidden=$,e.subtreeShown=Q,e.unmarkPendingSubtreeHidden=ce,Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojpreact-patch",["exports"],(function(e){"use strict";Symbol();const t=Symbol(),i=Symbol(),n=Symbol();e.OJ_POPUP=t,e.OJ_SLOT_REMOVE=i,e.patchPopupParent=function(e){e[n]||(e[n]=!0,Object.defineProperty(e,"firstChild",{get(){let i=e.childNodes[0];return i?i[t]||i:null},enumerable:!0}))},e.patchSlotParent=function(e){if(!e[n]){e[n]=!0;const t=e.removeChild;e.removeChild=n=>{const s=n[i];return s?(s(),null):t.call(e,n)}}},Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define("preact/jsx-runtime",["exports","preact"],t):t(e.jsxRuntime={},e.preact)}(this,(function(e,t){var i=0;function n(e,n,s,o,a){var r,l,c={};for(l in n)"ref"==l?r=n[l]:c[l]=n[l];var d={type:e,props:c,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--i,__source:a,__self:o};if("function"==typeof e&&(r=e.defaultProps))for(l in r)void 0===c[l]&&(c[l]=r[l]);return t.options.vnode&&t.options.vnode(d),d}e.Fragment=t.Fragment,e.jsx=n,e.jsxs=n,e.jsxDEV=n})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojpopupcore",["exports","ojs/ojcore-base","jquery","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojdomutils","ojs/ojpreact-patch","jqueryui-amd/position","ojs/ojcontext","preact/jsx-runtime","preact","ojs/ojcustomelement-utils"],(function(e,t,i,n,s,o,a,r,l,c,d,u){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;const h=function(e){this._tapCallback=e,this.Init()};t._registerLegacyNamespaceProp("SimpleTapRecognizer",h),t.Object.createSubclass(h,t.Object,"oj.SimpleTapRecognizer"),h.prototype.Init=function(){h.superclass.Init.call(this);var e=this._eventHandler.bind(this);this._eventHandlerCallback=e;for(var t,i=document.documentElement,n=0;n<h._TOUCHEVENTS.length;n++)"touchstart"===(t=h._TOUCHEVENTS[n])||"touchmove"===t?i.addEventListener(t,e,{passive:!1,capture:!0}):i.addEventListener(t,e,!0)},h.prototype._eventHandler=function(e){var t=this._tapCallback,i=e.type;if("touchstart"===i)this._touchStartEvent=e,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===i||"touchcancel"===i)this._touchStartEvent=null;else if("touchend"===i){if(this._touchStartEvent){var n=this._touchStartEvent._tapStart;(isNaN(n)||(new Date).getTime()-n<h._PRESSHOLDTHRESSHOLD)&&t(this._touchStartEvent)}this._touchStartEvent=null}},h.prototype.destroy=function(){this._tapCallback=null;var e=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var t,i=document.documentElement,n=0;n<h._TOUCHEVENTS.length;n++)"touchstart"===(t=h._TOUCHEVENTS[n])||"touchmove"===t?i.removeEventListener(t,e,{passive:!1,capture:!0}):i.removeEventListener(t,e,!0)},h._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],h._PRESSHOLDTHRESSHOLD=700;const p=function(){this.Init()};t._registerLegacyNamespaceProp("PopupService",p),t.Object.createSubclass(p,t.Object,"oj.PopupService");const m=function(){this.Init()},f={};p.prototype.Init=function(){p.superclass.Init.call(this)},p.getInstance=function(e){return p._popupService||(p._popupService=new m),p._popupService},p.prototype.open=function(e){t.Assert.failedInAbstractFunction()},p.prototype.close=function(e){t.Assert.failedInAbstractFunction()},p.prototype.changeOptions=function(e){t.Assert.failedInAbstractFunction()},p.prototype.triggerOnDescendents=function(e,i,n){t.Assert.failedInAbstractFunction()},p.prototype.destroy=function(){p._popupService=null},p.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},p.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},p.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},p.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},t.__registerWidget("oj.ojSurrogate",i.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var e=this.options.beforeDestroy;this.options.beforeDestroy=null,e&&e()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()}}),t.CustomElementBridge.register("oj-surrogate",{metadata:{properties:{beforeDestroy:{type:"function"}},extension:{_WIDGET_NAME:"ojSurrogate"}}}),t._registerLegacyNamespaceProp("PopupServiceImpl",m),t.Object.createSubclass(m,p,"oj.PopupServiceImpl"),m.prototype.open=function(e){t.Assert.assertObject(e);var a=i(e[p.OPTION.POPUP]);t.Assert.assertPrototype(a,i);var r=f.getStatus(a);if(r===f.STATUS.UNKNOWN||r===f.STATUS.BEFORE_OPEN||r===f.STATUS.CLOSE){var l=i(e[p.OPTION.LAUNCHER]);t.Assert.assertPrototype(l,i);var c=e[p.OPTION.POSITION];t.Assert.assertObjectOrNull(c);var d=e[p.OPTION.EVENTS];t.Assert.assertObject(d);var u=e[p.OPTION.MODALITY];(!u||p.MODALITY.MODELESS!==u&&p.MODALITY.MODAL!==u)&&(u=p.MODALITY.NONE);var h=e[p.OPTION.LAYER_SELECTORS];t.Assert.assertString(h);var g=e[p.OPTION.CUSTOM_ELEMENT],v=e[p.OPTION.LAYER_LEVEL];(!v||p.LAYER_LEVEL.TOP_LEVEL!==v&&p.LAYER_LEVEL.NEAREST_ANCESTOR!==v)&&(v=p.LAYER_LEVEL.NEAREST_ANCESTOR);var _=d[p.EVENT.POPUP_BEFORE_OPEN];_&&i.isFunction(_)||(_=m._defaultBeforeOpenCallback);var b=d[p.EVENT.POPUP_AFTER_OPEN];f.setStatus(a,f.STATUS.OPENING),o.setLogicalParent(a,l),f.addToAncestorLayer(a,l,u,h,v,g);var y,E=function(){try{a.removeAttr("aria-hidden"),this._assertEventSink(),n.subtreeShown(a[0])}catch(e){s.error("Error opening popup:\n%o",e)}finally{f.setStatus(a,f.STATUS.OPEN),b&&b(e);var o=f.getFirstAncestorLayer(a);t.Assert.assertPrototype(o,i),f.applyEvents(o,d),!f._getSurrogate(o)&&i.isFunction(d[p.EVENT.POPUP_REMOVE])&&(0,d[p.EVENT.POPUP_REMOVE])()}};E=E.bind(this);try{y=_(e)}catch(e){s.error("Error before open popup:\n%o",e)}finally{y&&y instanceof Promise?y.then(E):E()}}else this._assertEventSink()},m._defaultBeforeOpenCallback=function(e){var n=i(e[p.OPTION.POPUP]);t.Assert.assertPrototype(n,i);var s=e[p.OPTION.POSITION];n.show(),s&&n.position(s)},m.prototype.close=function(e){t.Assert.assertObject(e);var a=i(e[p.OPTION.POPUP]);t.Assert.assertPrototype(a,i);var r=f.getOpenPopupLayer(a);t.Assert.assertPrototype(r,i);var l=e[p.OPTION.EVENTS];l?l=i.extend(f.getEvents(r),l):(l=f.getEvents(r),e[p.OPTION.EVENTS]=l);var c=f.getStatus(a);if(c!==f.STATUS.OPEN&&c!==f.STATUS.BEFORE_CLOSE||!l)this._assertEventSink();else{var d=l[p.EVENT.POPUP_BEFORE_CLOSE];d&&i.isFunction(d)||(d=m._defaultBeforeCloseCallback);var u=l[p.EVENT.POPUP_AFTER_CLOSE];f.setStatus(a,f.STATUS.CLOSING),f.applyEvents(r,{}),a.attr("aria-hidden","true");var h,g=function(){try{a.hide(),a.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),f.removeFromAncestorLayer(a),o.setLogicalParent(a,null),this._assertEventSink(),n.subtreeHidden(a[0])}catch(e){s.error("Error closing popup:\n%o",e)}finally{f.setStatus(a,f.STATUS.CLOSE),u&&i.isFunction(u)&&u(e)}};g=g.bind(this);try{h=d(e)}catch(e){s.error("Error before close popup:\n%o",e)}finally{h&&h instanceof Promise?h.then(g):g()}}},m._defaultBeforeCloseCallback=function(e){var n=i(e[p.OPTION.POPUP]);t.Assert.assertPrototype(n,i),n.hide()},m.prototype.changeOptions=function(e){t.Assert.assertObject(e);var n=i(e[p.OPTION.POPUP]);if(t.Assert.assertPrototype(n,i),f.getStatus(n)===f.STATUS.OPEN){var s=f.getOpenPopupLayer(n);t.Assert.assertPrototype(s,i);var o=e[p.OPTION.EVENTS];o&&f.applyEvents(s,o);var a=e[p.OPTION.MODALITY];a&&f.applyModality(s,a);var r=e[p.OPTION.LAYER_SELECTORS];t.StringUtils.isEmptyOrUndefined(r)||s.attr("class",r)}},m.prototype.triggerOnDescendents=function(e,t,i){if(f.isPopupOpen(e)){var n={};n.event=t,n.argsArray=i;var s=f.getFirstAncestorLayer(e);f.postOrderVisit(s,this._triggerOnDescendentsVisitCallback,n)}},m.prototype._triggerOnDescendentsVisitCallback=function(e,t){var n=t.event,s=t.argsArray,o=f.getEvents(e);return o&&i.isFunction(o[n])&&o[n].apply(this,s),f.VISIT_RESULT.ACCEPT},m.prototype._assertEventSink=function(){var e,t,i,n=f.hasPopupsOpen(),s=this._callbackEventFilter;if(!n&&s){for(window.removeEventListener("resize",m._refreshCallback,!0),window.removeEventListener("scroll",m._refreshCallback,!0),(t=document.documentElement).removeEventListener("mousewheel",m._refreshCallback,{passive:!0,capture:!0}),t.removeEventListener("DOMMouseScroll",m._refreshCallback,!0),this._callbackEventFilter=null,e=0;e<m._REDISTRIBUTE_EVENTS.length;e++)i=m._REDISTRIBUTE_EVENTS[e],t.removeEventListener(i,s,!0);var a=this._simpleTapRecognizer;a&&(a.destroy(),this._simpleTapRecognizer=null)}else if(n&&!s){for(window.addEventListener("resize",m._refreshCallback,!0),window.addEventListener("scroll",m._refreshCallback,!0),(t=document.documentElement).addEventListener("mousewheel",m._refreshCallback,{passive:!0,capture:!0}),t.addEventListener("DOMMouseScroll",m._refreshCallback,!0),s=this._eventFilterCallback.bind(this),this._callbackEventFilter=s,e=0;e<m._REDISTRIBUTE_EVENTS.length;e++)i=m._REDISTRIBUTE_EVENTS[e],t.addEventListener(i,s,!0);o.isTouchSupported()&&(this._simpleTapRecognizer=new h(s))}},m.prototype._eventFilterCallback=function(e){var t=i(e.target);if(f.hasPopupsOpen()){if(!o.isChromeEvent(e)&&("focus"!==e.type||t.is(":focusable"))){var n=f.getDefaultLayer();if("keydown"!==e.type||!f.hasModalDialogOpen()||o.isAncestor(n[0],t[0])){var s=f.getFirstAncestorLayer(t),a=n.find("."+m._FOCUS_WITHIN_SELECTOR).first(),r=e.target.classList.contains(f._OVERLAY_SELECTOR);if(n[0]!==s[0]?s.hasClass(m._FOCUS_WITHIN_SELECTOR)||(a.length&&a.removeClass(m._FOCUS_WITHIN_SELECTOR),s.addClass(m._FOCUS_WITHIN_SELECTOR)):a.length&&!r&&a.removeClass(m._FOCUS_WITHIN_SELECTOR),"focus"!==e.type||"-1"!==t.attr("tabindex")){var l={};l.targetIsOverlay=r;for(var c=m._COPY_SAFE_EVENT_PROPERTIES,d={},u=0;u<c.length;u++){var h=c[u],p=e[h];void 0===p||i.isFunction(p)||(d[h]=p)}l.event=i.Event(e,d),f.postOrderVisit(n,m._redistributeVisitCallback,l)}}else f.eatEvent(e)}}else this._assertEventSink()},m._redistributeVisitCallback=function(e,t){var n=f.getEvents(e),s=t.event;return n&&i.isFunction(n[p.EVENT.POPUP_AUTODISMISS])?n[p.EVENT.POPUP_AUTODISMISS](s):"mousedown"===s.type&&t.targetIsOverlay&&s.preventDefault(),f.VISIT_RESULT.ACCEPT},m._refreshCallback=function(e){isNaN(m._refreshTimerId)&&(m._refreshTimerId=window.setTimeout((function(){m._refreshTimerId=Number.NaN;var e=f.getDefaultLayer();i.isFunction(window.requestAnimationFrame)?m._afRequestId=window.requestAnimationFrame((function(){m._afRequestId=null,f.postOrderVisit(e,m._refreshVisitCallback)})):f.postOrderVisit(e,m._refreshVisitCallback)}),m._REFRESH_DELAY))},m._refreshVisitCallback=function(e,t){if(t.level>0)return f.VISIT_RESULT.REJECT;var n=f.getEvents(e);return n&&i.isFunction(n[p.EVENT.POPUP_REFRESH])&&n[p.EVENT.POPUP_REFRESH](),f.VISIT_RESULT.ACCEPT},m.prototype.destroy=function(){m.superclass.destroy.call(this)},m._FOCUS_WITHIN_SELECTOR="oj-focus-within",m._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],m._COPY_SAFE_EVENT_PROPERTIES=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","char","charCode","key","keyCode"],m._REFRESH_DELAY=10,t._registerLegacyNamespaceProp("ZOrderUtils",f),f.STATUS={UNKNOWN:0,BEFORE_OPEN:.5,OPENING:1,OPEN:2,BEFORE_CLOSE:2.5,CLOSING:3,CLOSE:4},f._STATUS_DATA="oj-popup-status",f.getStatus=function(e){e instanceof Element&&(e=i(e));var t=e.data(f._STATUS_DATA);return isNaN(t)?f.STATUS.UNKNOWN:t},f.setStatus=function(e,t){e instanceof Element&&(e=i(e)),t>=f.STATUS.UNKNOWN&&t<=f.STATUS.CLOSE&&e.data(f._STATUS_DATA,t)},f.getFirstAncestorLayer=function(e){if(!e)return f.getDefaultLayer();for(var t=e;t&&t.length>0&&t.attr(f._SURROGATE_ATTR)!==f._DEFAULT_LAYER_ID;){if(f._hasSurrogate(t[0]))return t;t=t.parent()}return f.getDefaultLayer()},f.getDefaultLayer=function(){var e=i(document.getElementById(f._DEFAULT_LAYER_ID));return e.length>0||((e=i("<div>")).attr("role","presentation"),e.attr("id",f._DEFAULT_LAYER_ID),e.prependTo(i(document.body))),e},f.addToAncestorLayer=function(e,s,o,a,r,l){var c=e[0];if(f._hasSurrogate(c.parentNode))throw new Error("JET Popup is already open - id: "+c.getAttribute("id"));var d=f.getFirstAncestorLayer(r===p.LAYER_LEVEL.TOP_LEVEL?null:s),u=i("<div>"),h=e.attr("id");t.StringUtils.isEmptyOrUndefined(h)?u.uniqueId():u.attr("id",[h,"layer"].join("_")),u.attr("role","presentation"),u.addClass(a),e.after(u);const m=f._createSurrogate(u,l);n.subtreeDetached(c),e.appendTo(u),e.data(f._LAYER_ID_DATA,u.attr("id")),u.appendTo(d),n.subtreeAttached(c),f._applyVDomPatch(m[0],c),f.applyModality(u,o)},f._applyVDomPatch=function(e,t){e[a.OJ_POPUP]=t,a.patchPopupParent(e.parentElement)},f._getSurrogate=function(e){var t=e.attr(f._SURROGATE_ATTR);if(t)return document.getElementById(t)},f.applyEvents=function(e,t,s){s||(s=i(f._getSurrogate(e))),e.data(f._EVENTS_DATA,t),s.length>0&&t&&i.isFunction(t[p.EVENT.POPUP_REMOVE])&&n.setComponentOption(s[0],"beforeDestroy",t[p.EVENT.POPUP_REMOVE])},f.getEvents=function(e){return e.data(f._EVENTS_DATA)},f._createSurrogate=function(e,n){var s="script";n&&(s="oj-surrogate");var o=i(document.createElement(s)),a=e.attr("id");t.StringUtils.isEmptyOrUndefined(a)||o.attr("id",[a,"surrogate"].join("_")),n&&o.attr("data-oj-binding-provider","none"),o.insertBefore(e),n||o.ojSurrogate();var r=o.attr("id");return e.attr(f._SURROGATE_ATTR,r),o},f._removeSurrogate=function(e){var t=e.attr(f._SURROGATE_ATTR);e.removeAttr(f._SURROGATE_ATTR);var s=i(document.getElementById(t)),o=s.length>0;return o&&(e.insertAfter(s),n.setComponentOption(s[0],"beforeDestroy",null),s.remove()),o},f.getOpenPopupLayer=function(e){var t=e.parent();if(!t||0===t.length){var n=e.data(f._LAYER_ID_DATA);t=i(document.getElementById(n))}return t},f.removeFromAncestorLayer=function(e){var t=f.getOpenPopupLayer(e);f.preOrderVisit(t,f._closeDescendantPopupsCallback),f._restoreBodyOverflow(),f._removeOverlayFromAncestorLayer(t),t.removeData(f._EVENTS_DATA),t.removeData(f._MODALITY_DATA),e.removeData(f._LAYER_ID_DATA);var i=e[0];n.subtreeDetached(i),f._removeSurrogate(t)&&i&&i.parentElement?(o.unwrap(e,t),n.subtreeAttached(i)):t.remove()},f._closeDescendantPopupsCallback=function(e,t){if(t.level>0)return f.VISIT_RESULT.REJECT;var n=e.data(f._EVENTS_DATA);return n&&i.isFunction(n[p.EVENT.POPUP_CLOSE])&&n[p.EVENT.POPUP_CLOSE](),f.VISIT_RESULT.ACCEPT},f._disableBodyOverflow=function(e){const t=document.body,n=e.children()[0];i(n).width()<=window.innerWidth&&i(n).height()<=window.innerHeight&&t.classList.add("oj-component-modal-open")},f._restoreBodyOverflow=function(){document.body.classList.remove("oj-component-modal-open")},f._removeFocusWithinFromOverlayedContent=function(){var e=f.getDefaultLayer().find("."+m._FOCUS_WITHIN_SELECTOR).first();e.length&&e.removeClass(m._FOCUS_WITHIN_SELECTOR)},f.applyModality=function(e,i){var n=e.data(f._MODALITY_DATA);e.data(f._MODALITY_DATA,i),t.StringUtils.isEmptyOrUndefined(n)?p.MODALITY.MODAL===i?(f._addOverlayToAncestorLayer(e),f._disableBodyOverflow(e),f._removeFocusWithinFromOverlayedContent()):f._removeOverlayFromAncestorLayer(e):n!==i&&(i!==n&&i===p.MODALITY.MODAL?(f._addOverlayToAncestorLayer(e),f._disableBodyOverflow(e),f._removeFocusWithinFromOverlayedContent()):f._removeOverlayFromAncestorLayer(e)),i===p.MODALITY.MODAL?e.attr("aria-modal","true"):e.removeAttr("aria-modal")},f.hasModalDialogOpen=function(){for(var e=f.getDefaultLayer().children(),t=e.length-1;t>-1;t--)if(i(e[t]).hasClass(f._OVERLAY_SELECTOR))return!0;return!1},f._addOverlayToAncestorLayer=function(e){var n=i("<div>");n.addClass(f._OVERLAY_SELECTOR),n.addClass(e[0].className),n.attr("role","presentation");var s=e.attr("id");t.StringUtils.isEmptyOrUndefined(s)?n.uniqueId():n.attr("id",[s,"overlay"].join("_")),e.before(n);var o=n.attr("id");e.attr(f._OVERLAY_ATTR,o)},f._removeOverlayFromAncestorLayer=function(e){var n=e.attr(f._OVERLAY_ATTR);t.StringUtils.isEmptyOrUndefined(n)||(e.removeAttr(f._OVERLAY_ATTR),i(document.getElementById(n)).remove())},f.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},f._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},f.postOrderVisit=function(e,t,i){var n=i;i||(n={}),n.level=0,n.type=f._VISIT_TRAVERSAL.POST_ORDER,f._visitTree(e,t,n)},f.preOrderVisit=function(e,t,i){var n=i;i||(n={}),n.level=0,n.type=f._VISIT_TRAVERSAL.PRE_ORDER,f._visitTree(e,t,n)},f._visitTree=function(e,t,n){for(var s=n.level,o=e.children(),a=o.length-1;a>-1;a--){var r=i(o[a]);if(f._hasSurrogate(r[0])){var l;if(n.type===f._VISIT_TRAVERSAL.PRE_ORDER){if((l=t(r,n))===f.VISIT_RESULT.COMPLETE)return l;if(l===f.VISIT_RESULT.REJECT)break}if(n.level=s+1,l=f._visitTree(r,t,n),n.level=s,l===f.VISIT_RESULT.COMPLETE)return l;if(n.type===f._VISIT_TRAVERSAL.POST_ORDER){if((l=t(r,n))===f.VISIT_RESULT.COMPLETE)return l;if(l===f.VISIT_RESULT.REJECT)break}}}return f.VISIT_RESULT.ACCEPT},f._hasSurrogate=function(e){return!(!e||1!==e.nodeType||!e.hasAttribute(f._SURROGATE_ATTR))},f.hasPopupsOpen=function(){return f.getDefaultLayer().children().length>0},f.getOpenPopupCount=function(){var e={popupCount:0},t=f.getDefaultLayer();return f.preOrderVisit(t,f._openPopupCountCallback,e),e.popupCount},f._openPopupCountCallback=function(e,t){return t.popupCount+=1,f.VISIT_RESULT.ACCEPT},f.findOpenPopups=function(){var e={},t=[];e.popups=t;var n=f.getDefaultLayer();return f.preOrderVisit(n,f._openPopupsCallback,e),t=e.popups,i(t)},f._openPopupsCallback=function(e,t){return t.popups.push(e[0]),f.VISIT_RESULT.ACCEPT},f.isAboveTopModalLayer=function(e){if(!e||!f.hasPopupsOpen())return!0;var t=function(){var e={topLayer:null},t=f.getDefaultLayer();if(f.preOrderVisit(t,(function(e,t){if(t.level>0)return f.VISIT_RESULT.REJECT;var n=t.topLayer;return n?f.compareStackingContexts(i(e),i(n))>0&&(t.topLayer=e):t.topLayer=e,f.VISIT_RESULT.ACCEPT}),e),e.topLayer)return e.topLayer[0]}();if(!t)return!0;var n=function(e){var t={topModalPopup:null};if(e.hasAttribute(f._OVERLAY_ATTR)&&(t.topModalPopup=i(e)),f.postOrderVisit(i(e),(function(e,t){return e[0].hasAttribute(f._OVERLAY_ATTR)?(t.topModalPopup=e,f.VISIT_RESULT.COMPLETE):f.VISIT_RESULT.ACCEPT}),t),t.topModalPopup)return t.topModalPopup[0]}(t);return!n||o.isAncestorOrSelf(n,e)||f.compareStackingContexts(i(n),i(e))<0},f.compareStackingContexts=function(e,n){function s(e,t){var n,s=["absolute","relative","fixed"],a=e.parents(),r=[];for(n=a.length-1;n>-1;n--)r.push(i(a[n]));(a=r).push(e);var l=[],c=0;for(n=0;n<a.length;n++){var d=a[n],u=d.css("position"),h=o.getCSSLengthAsFloat(d.css("opacity")),p=o.getCSSLengthAsInt(d.css("z-index")),m=i.inArray(d[0],d.parent().children());i.inArray(u,s)>-1&&p>0?(l.push({weight:[c,p,m],order:[m]}),c+=1):h<1?(l.push({weight:[c,1,m],order:[m]}),c+=1):t&&l.push({weight:[0,0,m],order:[m]})}return l}function a(e,t){for(var i=Math.max(e.length,t.length),n=0;n<i;n++){var s=n<e.length?e[n]:0,o=n<t.length?t[n]:0;if(s!==o)return s<o?-1:1}return 0}t.Assert.assertPrototype(e,i),t.Assert.assertPrototype(n,i);var r,l,c=s(e,!1),d=s(n,!1),u=Math.max(c.length,d.length);for(r=0;r<u;r++)if(0!==(l=a(r<c.length?c[r].weight:[-1],r<d.length?d[r].weight:[-1])))return l;for(c=s(e,!0),d=s(n,!0),u=Math.max(c.length,d.length),r=0;r<u;r++)if(0!==(l=a(r<c.length?c[r].order:[-1],r<d.length?d[r].order:[-1])))return l;return 0},f.eatEvent=function(e){e.stopPropagation(),e.preventDefault()},f.isPopupOpen=function(e){var t=e.parent();return!(!t||1!==t.length||!f._hasSurrogate(t[0]))},f._EVENTS_DATA="oj-popup-events",f._MODALITY_DATA="oj-popup-modality",f._DEFAULT_LAYER_ID="__oj_zorder_container",f._SURROGATE_ATTR="data-oj-surrogate-id",f._LAYER_ID_DATA="oj-popup-layer-id",f._OVERLAY_ATTR="data-oj-overlayid",f._OVERLAY_SELECTOR="oj-component-overlay";const g={};t._registerLegacyNamespaceProp("PositionUtils",g),g.normalizeHorizontalAlignment=function(e,n){for(var s=i.extend({},e),o=0;o<g._ALIGN_RULE_PROPERTIES.length;o++){var a=g._ALIGN_RULE_PROPERTIES[o],r=s[a];if(r)if(t.StringUtils.isString(r))s[a]=r.replace("start",n?"right":"left").replace("end",n?"left":"right").replace("<",n?"+":"-").replace(">",n?"-":"+");else for(var l=0;l<g._SUB_ALIGN_RULE_PROPERTIES.length;l++){var c=g._SUB_ALIGN_RULE_PROPERTIES[l],d=r[c];t.StringUtils.isString(d)&&(r[c]=d.replace("start",n?"right":"left").replace("end",n?"left":"right").replace("<",n?"+":"-").replace(">",n?"-":"+"))}}return s},g.normalizePositionOf=function(e,t,i){return"event"===e?i:null==e||"launcher"===e?t:e},g._normalizeEventForPosition=function(e){i.each(["pageX","pageY"],(function(t,i){if(e&&void 0===e[i]&&e.originalEvent){var n,s=e.originalEvent,o=s.type;if(n="touchstart"===o||"touchmove"===o?"touches":"touchend"===o?"changedTouches":null){var a=s[n][0];a&&(e[i]=a[i])}}}))},g._ALIGN_RULE_PROPERTIES=["my","at"],g._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],g.isAligningPositionClipped=function(e){if(e.target&&e.target.height>0&&e.target.width>0){var t=e.target.element;return!g.isWithinViewport(t)}return!1},g.isWithinViewport=function(e){function t(e,t){var i;if(["hidden","scroll","auto"].indexOf(t.overflowY)>-1){if(e.bottom-t.top<-1)return!1;if(i="auto"===t.overflowX&&t.scrollWidth>t.innerWidth||"scroll"===t.overflowX?o.getScrollBarWidth():0,t.bottom-i-e.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(t.overflowX)>-1&&(i="auto"===t.overflowY&&t.scrollHeight>t.innerHeight||"scroll"===t.overflowY?o.getScrollBarWidth():0,e.right-(t.left+("rtl"===o.getReadingDirection()?i:0))<-1||e.left-(t.right-("ltr"===o.getReadingDirection()?i:0))>-1))}function n(e){var t=e[0];if(1===t.nodeType){var n=i.extend({},t.getBoundingClientRect());return n.overflowX=e.css("overflow-x"),n.overflowY=e.css("overflow-y"),n.innerHeight=e.innerHeight(),n.innerWidth=e.innerWidth(),n.scrollHeight=t.scrollHeight,n.scrollWidth=t.scrollWidth,n}return{height:0,width:0}}function s(e){return["fixed","absolute","relative","sticky"].indexOf(e.css("position"))>-1&&(!isNaN(parseInt(e.css("top"),10))||!isNaN(parseInt(e.css("bottom"),10))||!isNaN(parseInt(e.css("left"),10))||!isNaN(parseInt(e.css("right"),10)))}if(!e)return!1;if(i.isWindow(e[0])||s(e))return!0;for(var a,r=n(e),l=!0,c=e.parent();l&&c&&c.length>0&&"BODY"!==c[0].nodeName&&1===c[0].nodeType&&!s(c);){if("visible"!==(a=c).css("overflow-x")||"visible"!==a.css("overflow-y")){var d=n(c);d.height>0&&d.width>0&&(l=t(r,d))}c=c.parent()}return l},g._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},g._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",g.captureTransformOriginAnimationEffectsOption=function(e,t){var i=[t.horizontal,t.vertical].join("-");e.data(g._ALIGN_MNEMONIC_DATA,i)},g.addTransformOriginAnimationEffectsOption=function(e,i){var n,s;t.StringUtils.isString(i)?(s=!0,n=i):(s=!1,n=JSON.stringify(i));var o=/#myPosition/g;if(n.match(o)){var a=e.data(g._ALIGN_MNEMONIC_DATA);t.StringUtils.isEmptyOrUndefined(a)&&(a="center-middle");var r=g._ANIMATION_TRANSFORM_ORIGIN_RULES[a];n=n.replace(o,r),i=s?n:JSON.parse(n)}return i},g._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|-)?(\d+)?/,g._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,g._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,g._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,g._parsePositionNmnemonic=function(e,t){var i=[null,Number.NaN],n=g._JQUI_MNEMONIC_GRP_REGX.exec(e);if(n[1]&&t.test(n[1])&&(i[0]=n[1],n[2])){var s=parseInt(n[3],10);isNaN(s)||(s*="-"===n[2]?-1:1,i[1]=s)}return i},g._parseJSON=function(e){if(t.StringUtils.isString(e)&&/^{/.test(e)&&/}$/.test(e))try{return JSON.parse(e)}catch(e){}return null},g._coerceMyAtToJet=function(e,n,s,a){var r=g._parseJSON(n);r&&(n=r),(r=g._parseJSON(s))&&(s=r),a||(a={});var l,c=i.extend({},a),d={x:0,y:0};if(s&&"x"in s&&"y"in s&&(d.x=o.getCSSLengthAsInt(s.x),d.y=o.getCSSLengthAsInt(s.y)),t.StringUtils.isString(n)){var u=n.split(/\s/);u.length>0&&!t.StringUtils.isEmpty(u[0])&&(l=g._parsePositionNmnemonic(u[0],g._HORIZONTAL_ENUM_TST_REGX))[0]&&(c.horizontal=l[0],isNaN(l[1])||(d.x=l[1])),u.length>1&&!t.StringUtils.isEmpty(u[1])&&(l=g._parsePositionNmnemonic(u[1],g._VERTICAL_ENUM_TST_REGX))[0]&&(c.vertical=l[0],isNaN(l[1])||(d.y=l[1]))}else n&&("horizontal"in n&&(l=g._parsePositionNmnemonic(n.horizontal,g._HORIZONTAL_ENUM_TST_REGX))[0]&&(c.horizontal=l[0],isNaN(l[1])||(d.x=l[1])),"vertical"in n&&(l=g._parsePositionNmnemonic(n.vertical,g._VERTICAL_ENUM_TST_REGX))[0]&&(c.vertical=l[0],isNaN(l[1])||(d.y=l[1])));var h={};return h[e]=c,h.offset=d,h},g._coerceCollisionToJet=function(e,t){var i=t;return g._COLLISION_ENUM_TST_REGX.test(e)&&(i=e),{collision:i}},g._coerceOfToJet=function(e,n){var s=g._parseJSON(e);s&&(e=s);var a=n;return t.StringUtils.isString(e)?a=e:i.isWindow(e)?a="window":e instanceof Element||e instanceof i?((e=i(e)).uniqueId(),a="#"+function(e){for(var t=[],i=/\w|_|-/,n=0;n<e.length;n++){var s=e.substring(n,n+1);i.test(s)?t.push(s):t.push("\\"+s)}return t.join("")}(e.attr("id"))):e instanceof Event||e instanceof i.Event?("pageX"in e||"pageY"in e)&&((a={}).x=o.getCSSLengthAsFloat(e.pageX),a.y=o.getCSSLengthAsFloat(e.pageY)):e&&("x"in e||"y"in e)&&((a={}).x=o.getCSSLengthAsFloat(e.x),a.y=o.getCSSLengthAsFloat(e.y)),{of:a}},g.coerceToJet=function(e,t){e||(e={});var n=g._parseJSON(e);n&&(e=n),t||(t={});var s=t.my,o=t.at,a=t.collision,r=t.of,l=g._coerceMyAtToJet("my",e.my,e.offset,s),c=g._coerceMyAtToJet("at",e.at,null,o),d={offset:{x:l.offset.x+c.offset.x,y:l.offset.y+c.offset.y}};return delete l.offset,delete c.offset,i.extend({},l,c,d,g._coerceCollisionToJet(e.collision,a),g._coerceOfToJet(e.of,r),function(e,t){return{using:i.isFunction(e)?e:void 0}}(e.using))},g.coerceToJqUi=function(e){function n(t,i){var n=[];if(e[t][i]?n.push(e[t][i]):n.push("center"),"my"===t&&e.offset){var s="horizontal"===i?"x":"y",o=e.offset[s];isNaN(o)||0===o||(n.push(o>0?"+":""),n.push(Math.floor(o).toString()))}return n.join("")}var s={};["my","at"].forEach((function(t){if(e[t]){var i=[];i.push(n(t,"horizontal")),i.push(" "),i.push(n(t,"vertical")),s[t]=i.join("")}}));var o=e.of;if(t.StringUtils.isString(o))s.of="window"===o?window:o;else if(o&&!t.StringUtils.isString(o)&&"x"in o&&"y"in o){var a=o.x,r=o.y,l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,a,r,a,r,!1,!1,!1,!1,0,null),s.of=i.Event(l,{pageX:a,pageY:r})}else s.of=o;return e.collision&&(s.collision=e.collision),e.using&&(s.using=e.using),s},g.calcAvailablePopupSize=function(e,t,n){var s,a,r,l,c=i.position.getWithinInfo(n||window),d=i.position.getScrollInfo(c),u="rtl"===o.getReadingDirection(),h=u?d.width:0,p=u?0:d.width,m=t.element,f=t.target,g=c.isWindow?c.scrollLeft:0,v=c.isWindow?c.scrollTop:0,_=m.left,b=m.left+m.width,y=m.top,E=m.top+m.height,w=f.left,C=f.left+f.width,S=f.top,I=f.top+f.height,A=c.offset.left+g+h,T=c.offset.left+c.width+g-p,O=c.offset.top+v,P=c.offset.top+c.height+v-d.height;return _<w?(s=A,a=b<=w?w:b<=C?Math.min(C,T):T):_===w?w-A>T-C?(s=A,a=C):(s=w,a=T):_<C?(s=w,a=b<=C?C:T):(s=C,a=T),y<S?(r=O,l=E<=S?S:E<=I?Math.min(I,P):P):y===S?(r=S,l=P):y<I?(r=S,l=E<=I?I:P):(r=I,l=P),{width:a-s,height:l-r}},function(){var e,n=Math.max,s=Math.abs;const a=/left|center|right/,r=/top|center|bottom/,l=/[+-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/;var u=i.fn.position,h=i.position.getWithinInfo;function p(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function m(e,t){return parseInt(i.css(e,t),10)||0}function f(e){var i,n=e[0];if(9===n.nodeType)return{width:e.width(),height:e.height(),offset:{top:0,left:0}};if(null!=(i=n)&&i===i.window){var s=t.AgentUtils.getAgentInfo(),o=t.AgentUtils.OS.ANDROID===s.os||t.AgentUtils.OS.IOS===s.os;return{width:e.width(),height:o?n.innerHeight:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}}return n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}i.position={getWithinInfo:h.bind(this),scrollbarWidth:function(){if(void 0!==e)return e;var t,n,s=document.createElement("div");s.style.display="block",s.style.position="absolute",s.style.width="50px",s.style.height="50px",s.style.overflow="hidden";var o=document.createElement("div");return o.style.height="100px",o.style.width="auto",s.appendChild(o),i("body").append(i(s)),t=o.offsetWidth,s.style.overflow="scroll",t===(n=o.offsetWidth)&&(n=s.clientWidth),i(s).remove(),e=t-n},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?i.position.scrollbarWidth():0,height:s?i.position.scrollbarWidth():0}}},i.fn.position=function(e){if(!e||!e.of)return u.apply(this,arguments);var t,o,d,h,g,v,_="string"==typeof(e=i.extend({},e)).of?i(document).find(e.of):i(e.of),b=i.position.getWithinInfo(e.within),y=i.position.getScrollInfo(b),E=(e.collision||"flip").split(" "),w={};return v=f(_),_[0].preventDefault&&(e.at="left top"),o=v.width,d=v.height,h=v.offset,g=i.extend({},h),i.each(["my","at"],(function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",t=l.exec(n[0]),i=l.exec(n[1]),w[this]=[t?t[0]:0,i?i[0]:0],e[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]})),1===E.length&&(E[1]=E[0]),"right"===e.at[0]?g.left+=o:"center"===e.at[0]&&(g.left+=o/2),"bottom"===e.at[1]?g.top+=d:"center"===e.at[1]&&(g.top+=d/2),t=p(w.at,o,d),g.left+=t[0],g.top+=t[1],this.each((function(){var a,r,l=i(this),c=l.outerWidth(),u=l.outerHeight(),f=m(this,"marginLeft"),v=m(this,"marginTop"),C=c+f+m(this,"marginRight")+y.width,S=u+v+m(this,"marginBottom")+y.height,I=i.extend({},g),A=p(w.my,l.outerWidth(),l.outerHeight());"right"===e.my[0]?I.left-=c:"center"===e.my[0]&&(I.left-=c/2),"bottom"===e.my[1]?I.top-=u:"center"===e.my[1]&&(I.top-=u/2),I.left+=A[0],I.top+=A[1],a={marginLeft:f,marginTop:v},i.each(["left","top"],(function(n,s){i.ui.position[E[n]]&&i.ui.position[E[n]][s](I,{targetWidth:o,targetHeight:d,elemWidth:c,elemHeight:u,collisionPosition:a,collisionWidth:C,collisionHeight:S,offset:[t[0]+A[0],t[1]+A[1]],my:e.my,at:e.at,within:b,elem:l})})),e.using&&(r=function(t){var i=h.left-I.left,a=i+o-c,r=h.top-I.top,p=r+d-u,m={target:{element:_,left:h.left,top:h.top,width:o,height:d},element:{element:l,left:I.left,top:I.top,width:c,height:u},horizontal:a<0?"left":i>0?"right":"center",vertical:p<0?"top":r>0?"bottom":"middle"};o<c&&Math.abs(i+a)<o&&(m.horizontal="center"),d<u&&Math.abs(r+p)<d&&(m.vertical="middle"),n(s(i),s(a))>n(s(r),s(p))?m.important="horizontal":m.important="vertical",e.using.call(this,t,m)}),l.offset(i.extend(I,{using:r}))}))};var g=i.ui.position.flip.left;i.ui.position.flip={left:g.bind(this),top:function(e,t){var i,n,s=t.within,o=s.offset.top+s.scrollTop,a=s.height,r=s.isWindow?s.scrollTop:s.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-r,d=l+t.collisionHeight-a-r;i="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,n="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0;var u,h,p=-2*t.offset[1];c<0?((u=e.top+i+n+p+t.collisionHeight-a-o)<0||u<Math.abs(c))&&d<0&&c>d&&(e.top+=i+n+p):d>0&&((h=e.top-t.collisionPosition.marginTop+i+n+p-r)>0||Math.abs(h)<d)&&(e.top+=i+n+p)}},i.ui.position.fit={left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=e.left-t.collisionPosition.marginLeft,r=s-a,l=a+t.collisionWidth-o-s;t.collisionWidth>o?r>0&&l<=0?(i=e.left+r+t.collisionWidth-o-s,e.left+=r-i):e.left=l>0&&r<=0?s:r>l?s+o-t.collisionWidth:s:r>0?e.left+=r:l>0?e.left-=l:e.left=Math.max(e.left-a,e.left),e.left<0&&(e.left=0)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,r=s-a,l=a+t.collisionHeight-o-s;t.collisionHeight>o?r>0&&l<=0?(i=e.top+r+t.collisionHeight-o-s,e.top+=r-i):e.top=l>0&&r<=0?s:r>l?s+o-t.collisionHeight:s:r>0?e.top+=r:l>0?e.top-=l:e.top=Math.max(e.top-a,e.top),e.top<0&&(e.top=0)}},i.ui.position.flipcenter={left:function(e,t){var n=e.left;i.ui.position.flip.left.call(this,e,t);var s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,r=s.width,l=e.left-t.collisionPosition.marginLeft,c=a-l,d=l+t.collisionWidth-r-a;(c>0||d>0)&&("right"===t.at[0]?n-=t.targetWidth/2:"left"===t.at[0]&&(n+=t.targetWidth/2),n-=("rtl"===o.getReadingDirection()?-1:1)*(t.elemWidth/2),e.left=Math.max(0,n))},top:function(e,t){var n=e.top;i.ui.position.flip.top.call(this,e,t);var s=t.within,o=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,l=o-r,c=r+t.collisionHeight-a-o;(l>0||c>0)&&("top"===t.at[1]?n+=t.targetHeight/2:"bottom"===t.at[1]&&(n-=t.targetHeight/2),n+=t.elemHeight/2,e.top=Math.max(0,n))}}}();const v=function(){this.Init()};t._registerLegacyNamespaceProp("PopupLiveRegion",v),t.Object.createSubclass(v,t.Object,"oj.PopupLiveRegion"),v.prototype.Init=function(){v.superclass.Init.call(this),isNaN(v._refCounter)?v._refCounter=1:v._refCounter+=1},v.prototype.destroy=function(){if(!isNaN(v._refCounter)&&(v._refCounter-=1)<1){var e=i(document.getElementById(v._POPUP_LIVE_REGION_ID));e.length>0&&e.remove()}},v.prototype.announce=function(e){if(!t.StringUtils.isEmpty(e)){var n=v._getLiveRegion();n.children().remove(),setTimeout((function(){i("<div>").text(e).appendTo(n)}),250)}},v._getLiveRegion=function(){var e=i(document.getElementById(v._POPUP_LIVE_REGION_ID));return 0===e.length&&((e=i("<div>")).attr({id:v._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),e.addClass("oj-helper-hidden-accessible"),e.appendTo(document.body)),e},v._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion";const _=function(e,n,s,o,a){t.Assert.assertPrototype(e,i),t.Assert.assertString(n),t.Assert.assertFunction(s),t.Assert.assertStringOrNull(o),this._options={insertBefore:!1,preventKeyEvents:!0},a&&(this._options=Object.assign({},this._options,a)),this._sibling=e,this._message=n,this._callback=s,this._id=o,this.Init()};t._registerLegacyNamespaceProp("PopupSkipLink",_),t.Object.createSubclass(_,t.Object,"oj.PopupSkipLink"),_.prototype.Init=function(){_.superclass.Init.call(this);var e=this._sibling,t=this._callback,n=this._message,s=this._options.insertBefore,o=this._options.preventKeyEvents;this._message=null;var a=this._id;this._id=null;var r=i(document.getElementById(a));r.length<1&&(r=i("<a>").attr({tabindex:"-1",href:"#",role:"link"})),r.attr("id",a),r.addClass("oj-helper-hidden-accessible"),r.text(n),s?r.insertBefore(e):r.insertAfter(e),r.on("click",_._activateHandler.bind(this,t)),o&&r.on("keydown keyup keypress",_._keyHandler),e.data(_._SKIPLINK_ATTR,r)},_._activateHandler=function(e,t){f.eatEvent(t),window.setImmediate(e)},_._keyHandler=function(e){e.keyCode===i.ui.keyCode.ENTER&&f.eatEvent(e)},_.prototype.destroy=function(){var e=this._sibling;if(delete this._sibling,delete this._callback,e){var t=e.data(_._SKIPLINK_ATTR);e.removeData(_._SKIPLINK_ATTR),t&&(t.off("click keydown keyup keypress"),t.remove())}},_.prototype.getLink=function(){var e,t=this._sibling;return t&&(e=t.data(_._SKIPLINK_ATTR)),e},_._SKIPLINK_ATTR="oj-skiplink";const b=function(e,t,i,n){this._element=e,this._operation=t,this._widgetName=i,this._isCustomElement=!!n,this.Init()};t._registerLegacyNamespaceProp("PopupWhenReadyMediator",b),t.Object.createSubclass(b,t.Object,"oj.PopupWhenReadyMediator"),b.prototype.Init=function(){b.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var e=this._operation,t=["oj"];this._isCustomElement?(t.push(e.charAt(0).toUpperCase()),t.push(e.slice(1))):t.push(e);var i=t.join("");this._eventType=i,this._element.on(i,this._callback);var n=l.getContext(this._element[0]).getBusyContext(),s={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},o=n.addBusyState(s);this.AddPromiseExecutor(o),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},b.prototype._getBusyStateDescription=function(e,t,i){return i+" identified by '"+e.attr("id")+"' is busy animating on the '"+t+"' operation."},b.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=null;var i=e||this._operation;this._operation=null;for(var n=0;n<t.length;n++)try{t[n](i)}catch(e){s.error("Error resolving whenReady promises:\n%o",e)}this._whenReadyPromise=Promise.resolve("none")},b.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var e=this._eventType;this._element.off(e,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},b.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},b.prototype._eventHandler=function(e){e.target===this._element[0]&&(this._element.off(e.type,this._callback),this._deliverResolved(),this._callback=null)},b.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},b.prototype.AddPromiseExecutor=function(e,t){this._resolvedQueue&&this._resolvedQueue.push(e)},b.prototype.isOperationPending=function(e,t,i,n){var o=!1,a=this._widgetName,r=this._getPendingOperation();return t===r?(s.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",a,t),o=!0):"none"!==r&&(s.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",a,t,r),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[i].apply(this,n)}.bind(e)),o=!0),o};class y extends d.Component{constructor(){super(...arguments),this._setRootRef=e=>{this._rootRef=e}}render(e){return c.jsx("div",Object.assign({style:{display:"none"},ref:this._setRootRef},{children:e.children}))}componentDidMount(){this._popup=i(this._rootRef.firstChild);const e={[p.OPTION.POPUP]:this._popup,[p.OPTION.EVENTS]:{[p.EVENT.POPUP_AUTODISMISS]:this.props.autoDismiss,[p.EVENT.POPUP_REFRESH]:function(){this._popup.position(this._getPosition())}.bind(this)},[p.OPTION.LAYER_SELECTORS]:this.props.layerSelectors,[p.OPTION.CUSTOM_ELEMENT]:!0,[p.OPTION.LAUNCHER]:i(this._rootRef),[p.OPTION.POSITION]:this._getPosition()};p.getInstance().open(e)}componentWillUnmount(){p.getInstance().close({[p.OPTION.POPUP]:this._popup})}componentDidUpdate(){this._popup.position(this._getPosition())}_getPosition(){return g.normalizeHorizontalAlignment(this.props.position,"rtl"===o.getReadingDirection())}}y.defaultProps={autoDismiss:null,layerSelectors:"",position:{}};const E=u.ElementUtils.getUniqueId.bind(null,null),w=Symbol();function C(e,i){const n={},s=t.PopupService.OPTION;n[s.POPUP]=e,n[s.LAUNCHER]=i,n[s.LAYER_SELECTORS]="oj-v-layer-host-layer";const o=t.PopupService.EVENT;return n[s.EVENTS]={[o.POPUP_BEFORE_OPEN]:()=>{},[o.POPUP_AFTER_OPEN]:()=>{},[o.POPUP_BEFORE_CLOSE]:()=>{},[o.POPUP_AFTER_CLOSE]:()=>{},[o.POPUP_AUTODISMISS]:()=>{},[o.POPUP_REFRESH]:()=>{},[o.POPUP_CLOSE]:()=>{!function(e,i){if(!e)return;const n=t.PopupService.getInstance(),s=C(e,i);n.close(s),e.remove()}(e,i)},[o.POPUP_REMOVE]:()=>{}},n}e.PopupLiveRegion=v,e.PopupService=p,e.PopupSkipLink=_,e.PopupWhenReadyMediator=b,e.PositionUtils=g,e.VPopup=y,e.getLayerHost=function(e){const i=e.anchorRef;let n;if(e[w]?n=document.getElementById(e[w]):e[w]="__v_layer_host_"+E(),n)return n;let s,o=!1;s=null!=i?i.current:e;let a=e.closest("#__oj_zorder_container");if(a?o=!0:i&&i.current&&!i.current.x&&(a=i.current.closest("#__oj_zorder_container"),a&&(o=!0)),o)return function(e,i){if(!e)return;let n=document.getElementById(e);n||(n=document.createElement("div"),n.setAttribute("id",e),document.body.appendChild(n));const s=t.PopupService.getInstance(),o=C(n,i);return s.open(o),n}(e[w],s);let r=document.getElementById("__root_layer_host");return r||(r=document.createElement("div"),r.setAttribute("id","__root_layer_host"),r.classList.add("oj-root-layer-host"),a=document.getElementById("__oj_zorder_container"),a?a.after(r):document.body.prepend(r)),r},Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojoption",["ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojcustomelement","ojs/ojcustomelement-utils"],(function(e,t,i,n,s){"use strict";var o;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,(o={properties:{disabled:{type:"boolean",value:!1},value:{type:"any"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptionRenderer={},o.extension._CONSTRUCTOR=function(e){function t(e){var t=s.CustomElementUtils.getSlotMap(e),n=["startIcon","","endIcon"];i.each(t,(function(t,s){-1===n.indexOf(t)&&function(e,t){i.each(t,(function(t,i){e.removeChild(i)}))}(e,s)})),i.each(n,(function(n,s){t[s]&&function(e,t){i.each(t,(function(t,i){e.appendChild(i)}))}(e,t[s])}))}this.updateDOM=function(){var i=e.element.customOptionRenderer;t(e.element),i&&"function"==typeof i&&i(e.element)}},e.CustomElementBridge.register("oj-option",{metadata:o})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojchildmutationobserver",["ojs/ojcustomelement","ojs/ojcustomelement-utils"],(function(e,t){"use strict";return function(e,i){var n=e,s=i,o=t.CustomElementUtils.isElementRegistered(e.tagName)?t.CustomElementUtils.getElementState(e).getTrackChildrenOption():"none",a=function(e){var i=function(e){for(var i=[],s=0;s<e.length;s++)for(var a=e[s],r="childList"===a.type?a.target:a.target.parentNode;r;)r===n?(i.push(a),r=null):r="nearestCustomElement"!==o||t.ElementUtils.isValidCustomElementName(r.localName)?null:r.parentNode;return i}(e);i.length>0&&s(i)},r=new MutationObserver(a);return{observe:function(){"none"!==o&&r.observe(n,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},disconnect:function(){var e=r.takeRecords();e&&e.length>0&&a(e),r.disconnect()}}}})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojjquery-hammer",["ojs/ojlogger","hammerjs","jquery"],(function(e,t,i){"use strict";var n;i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,t?(i.fn.ojHammer=function(e){switch(e){case"instance":return this.data("ojHammer");case"destroy":return this.each((function(){var e=i(this),t=e.data("ojHammer");t&&(t.destroy(),e.removeData("ojHammer")),e.off("remove.ojHammer")}));default:return this.each((function(){var n=i(this);if(!n.data("ojHammer")){const i=new t.Manager(n[0],e);n.on("remove.ojHammer",(e=>{e.target===n[0]&&i.destroy()})),n.data("ojHammer",i)}}))}},t.Manager.prototype.emit=(n=t.Manager.prototype.emit,function(e,t){n.call(this,e,t),i(this.element).trigger({type:e,gesture:t})})):e.warn("Hammer jQuery extension loaded without Hammer.")})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojanimation",["exports","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger"],(function(e,t,i,n,s,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const a={};t._registerLegacyNamespaceProp("AnimationUtils",a),a._getName=function(e,t){if(!a._nameMap){a._nameMap={};var i=a._nameMap,n=e.style;i.backfaceVisibility=void 0!==n.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",i.transform=void 0!==n.webkitTransform?"webkitTransform":"transform",i.transformOrigin=void 0!==n.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",i.transition=void 0!==n.webkitTransition?"webkitTransition":"transition",i.transitionend=void 0!==n.webkitTransition?"webkitTransitionEnd":"transitionend"}return a._nameMap[t]||t},a._getElementStyle=function(e,t){return e.style[a._getName(e,t)]},a._setElementStyle=function(e,t,i){e.style[a._getName(e,t)]=i},a._animate=function(e,t,n,s,o,r){var l=[].concat(o),c=function(i,c){var d=function(e){var t=0===e.propertyName.indexOf("-webkit-")?e.propertyName.substr(8):e.propertyName;t=a._getCamelCasePropName(t);var i=l.indexOf(t);i>-1&&(l.length>1?l.splice(i,1):p())},u=0,h=!1;function p(){h||(u&&(window.cancelAnimationFrame(u),u=0),e.removeEventListener(a._getName(e,"transitionend"),d),i&&i(!0),h=!0)}null==n&&(n={}),null==n.css&&(n.css={}),n.css.transition=a._createTransitionValue(e,o,s);var m=a._saveStyle(e,t,n,s,r||o);a._applyState(e,t,m>1),e.addEventListener(a._getName(e,"transitionend"),d);var f=s.duration,g=s.delay,v=s._skipPromise;function _(){u=0,a._applyState(e,n,m>1)}null==t?_():(s._noReflow||(a._x=e.offsetWidth),u=window.requestAnimationFrame(_));var b=a._getTotalTiming(f,g);v||setTimeout(p,b+100)};return s._skipPromise?(c(null),null):new Promise(c).then((function(){t&&t.addClass&&i(e).removeClass(t.addClass),n&&n.addClass&&i(e).removeClass(n.addClass),a._restoreStyle(e)}))},a._saveCssValues=function(e,t,i,n){for(var s=Object.keys(t),o=Object.prototype.hasOwnProperty,r=0;r<s.length;r++){var l=s[r];o.call(i,l)||n&&-1!==n.indexOf(l)||(i[l]=a._getElementStyle(e,l))}},a._saveStyle=function(e,t,i,n,s){var o=e._ojSavedStyle||{},r=t&&t.css?t.css:{},l=i&&i.css?i.css:{},c=s;n&&"all"===n.persist||(c=null),a._saveCssValues(e,r,o,c),a._saveCssValues(e,l,o,c),e._ojSavedStyle=o;var d=e._ojEffectCount||0;return d+=1,e._ojEffectCount=d,d},a._restoreStyle=function(e){var t=e,i=t._ojEffectCount;if(i>1)t._ojEffectCount=i-1;else{var n=t._ojSavedStyle;if(n){for(var s=Object.keys(n),o=0;o<s.length;o++){var r=s[o];a._setElementStyle(t,r,n[r])}delete t._ojSavedStyle,delete t._ojEffectCount}}},a._getCamelCasePropName=function(e){if(e.indexOf("-")>=0){for(var t="",i=e.split("-"),n=0;n<i.length;n++){var s=i[n];s&&(t?t+=s.charAt(0).toUpperCase()+s.slice(1):t=s)}return t}return e},a._getHyphenatedPropName=function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0===t.indexOf("webkit")&&(t="-"+t),t},a._concatMultiValue=function(e,t,i,n,s){if(t.css[i]){var o=a._getElementStyle(e,i);o&&0!==o.indexOf(n)&&(t.css[i]=o+s+t.css[i])}},a._splitTransform=function(e){var t=[];if(e&&"none"!==e)for(var i=e,n=i.indexOf(")");n>0;){var s=i.substr(0,n+1);t.push(s.trim()),n=(i=i.slice(n+1)).indexOf(")")}return t},a._getTransformFuncName=function(e){var t=e.indexOf("(");return t>=1?e.substr(0,t):e},a._applyTransform=function(e,t){for(var i=a._getElementStyle(e,"transform"),n=a._splitTransform(i),s=a._splitTransform(t),o=[],r=0;r<s.length;r++){var l=a._getTransformFuncName(s[r]),c=!1;if(l)for(var d=0;d<n.length;d++)0===n[d].indexOf(l+"(")&&(n[d]=s[r],c=!0);c||o.push(s[r])}return(n=n.concat(o)).join(" ")},a._applyState=function(e,t,n){if(t){if(t.css){n&&a._concatMultiValue(e,t,"transition","all",", "),t.css.transform&&(t.css.transform=a._applyTransform(e,t.css.transform));for(var s=t.css,o=Object.keys(s),r=0;r<o.length;r++){var l=o[r];a._setElementStyle(e,l,s[l])}}t.addClass&&i(e).addClass(t.addClass),t.removeClass&&i(e).removeClass(t.removeClass)}},a._getTimingValue=function(e){var t=parseFloat(e);return isNaN(t)?0:e.indexOf("ms")>-1?t:1e3*t},a._getTotalTiming=function(e,t){var i=a._getTimingValue(e);return i>0?i+(t?a._getTimingValue(t):0):0},a._calcCssTime=function(e,t,i){for(var n=e.split(","),s=t.split(","),o=i.split(","),r=n.length,l=s.length,c=o.length,d=0,u=0;u<r;u++){var h=o[u%c],p=s[u%l],m=a._getTotalTiming(h,p);d=Math.max(d,m)}return d},a._calcEffectTime=function(e){var t,i,n,s=window.getComputedStyle(e);t=s.animationName||s.webkitAnimationName,i=s.animationDelay||s.webkitAnimationDelay,n=s.animationDuration||s.webkitAnimationDuration;var o=a._calcCssTime(t,i,n);t=s.transitionProperty||s.webkitTransitionProperty,i=s.transitionDelay||s.webkitTransitionDelay,n=s.transitionDuration||s.webkitTransitionDuration;var r=a._calcCssTime(t,i,n);return Math.max(o,r)},a._fillEmptyOptions=function(e,t){e.delay=e.delay||t.delay,e.duration=e.duration||t.duration,e.timingFunction=e.timingFunction||t.timingFunction,e.persist=e.persist||t.persist},a._triggerEvent=function(e,t,i,n){var s;if(n&&n._trigger)s=!n._trigger(t,null,i);else{var o="oj"+t.substr(0,1).toUpperCase()+t.substr(1),a=new CustomEvent(o,{detail:i,bubbles:!0,cancelable:!0}),r=n||e;r.dispatchEvent&&r.dispatchEvent(a),s=a.defaultPrevented}return s},a.startAnimation=function(e,t,n,s){return e=i(e)[0],new Promise((function(o,r){var l=i(e),c="oj-animate-"+t,d=c+"-active",u=!1,h=!1,p=function(){if(u&&h){l.removeClass(c),l.removeClass(d),a._restoreStyle(e),o(!0);var i={action:t,element:e};a._triggerEvent(e,"animateEnd",i,s)}},m=function(){u=!0,p()},f=function(){h=!0,p()};a._saveStyle(e,null,null,null,null);var g={action:t,element:e,endCallback:m};if(!a._triggerEvent(e,"animateStart",g,s)){for(var v=[].concat(n),_=[],b={},y=0;y<v.length;y++){var E,w=v[y],C="";null!=w&&"none"!==w&&("string"==typeof w?(C=w,E={}):"object"==typeof w&&(C=w.effect,E=i.extend({},w)),a._fillEmptyOptions(E,b),b=i.extend({},E)),C&&a[C]&&_.push(a[C](e,E))}_.length?Promise.all(_).then(m):m()}l.addClass(c);var S=window.requestAnimationFrame((function(){S=0,l.addClass(d);var t=a._calcEffectTime(e);t>0?setTimeout(f,t+100):f()}));setTimeout((function(){S&&(window.cancelAnimationFrame(S),S=0,f())}),1e3)}))},a._mergeOptions=function(e,t){return null==a._defaultOptions&&(a._defaultOptions=s.parseJSONFromFontFamily("oj-animation-effect-default-options")),i.extend({duration:"400ms"},a._defaultOptions?a._defaultOptions[e]:null,t)},a._createTransitionValue=function(e,t,i){var n="";if(t)for(var s=0;s<t.length;s++){var o=a._getName(e,t[s]);n+=(s>0?", ":"")+a._getHyphenatedPropName(o)+" "+i.duration,i.timingFunction&&(n+=" "+i.timingFunction),i.delay&&(n+=" "+i.delay)}return n},a._fade=function(e,t,i,n,s){var o=a._mergeOptions(i,t),r={css:{opacity:n}},l={css:{opacity:s}};return o&&(o.startOpacity&&(r.css.opacity=o.startOpacity),o.endOpacity&&(l.css.opacity=o.endOpacity)),a._animate(e,r,l,o,["opacity"])},a.fadeIn=function(e,t){return a._fade(e,t,"fadeIn",0,1)},a.fadeOut=function(e,t){return a._fade(e,t,"fadeOut",1,0)},a.expand=function(e,t){return a._expandCollapse(e,t,!0)},a.collapse=function(e,t){return a._expandCollapse(e,t,!1)},a._wrapRowContent=function(e,t){var i,n,s=[],o=e.children,a=[],r=[];for(e._ojSavedHeight=e.style.height,n=0;n<o.length;n++){i=o[n];var l=window.getComputedStyle(i);a.push(l.padding),r.push(l.textAlign),i._ojSavedPadding=i.style.padding}for(n=0;n<o.length;n++){i=o[n];var c=document.createElement("div");c.style.overflow="hidden;";var d=document.createElement("div");for(d.style.display="table-cell",d.style.verticalAlign="middle",d.style.boxSizing="border-box",d.style.height=t,d.style.padding=a[n],d.style.textAlign=r[n],c.appendChild(d);i.firstChild;)d.appendChild(i.firstChild);i.appendChild(c),i.style.padding="0",s.push(c)}return e.style.height="0",s},a._unwrapRowContent=function(e){for(var t=e.children,i=0;i<t.length;i++){var n=t[i],s=n.children[0];if(s){var o=s.children[0];if(o)for(;o.firstChild;)n.appendChild(o.firstChild);n.removeChild(s)}n.style.padding=n._ojSavedPadding,delete n._ojSavedPadding}e.style.height=e._ojSavedHeight,delete e._ojSavedHeight},a._expandCollapseRow=function(e,t,n){var s=Promise.resolve(),o=e.offsetHeight+"px",r=a._wrapRowContent(e,o),l=i.extend({},t);if(n?l.endMaxHeight||(l.endMaxHeight=o):l.startMaxHeight||(l.startMaxHeight=o),l.persist="all",l._noReflow=!0,r.length)for(var c=0;c<r.length;c++)0===c?(l._skipPromise=!1,s=a._expandCollapse(r[c],l,n)):(l._skipPromise=!0,a._expandCollapse(r[c],l,n));return s.then((function(){null!=t&&"all"===t.persist||a._unwrapRowContent(e)}))},a._getSizeLimit=function(e,t,i,n,s){var o=i;if(!o)if(n)o="0";else{var a=s?t.maxWidth:t.maxHeight;o="none"!==a?a:(s?e.offsetWidth:e.offsetHeight)+"px"}return o},a._expandCollapse=function(e,t,i){if(e&&"TR"===e.tagName)return a._expandCollapseRow(e,t,i);var n=a._mergeOptions(i?"expand":"collapse",t),s={css:{}},o={css:{}},r=n.direction||"height",l=s.css,c=o.css,d=window.getComputedStyle(e),u=[];if("both"===r||"height"===r){var h=a._getSizeLimit(e,d,n.startMaxHeight,i,!1),p=a._getSizeLimit(e,d,n.endMaxHeight,!i,!1);l.maxHeight=h,c.maxHeight=p,u.push("maxHeight")}if("both"===r||"width"===r){var m=a._getSizeLimit(e,d,n.startMaxWidth,i,!0),f=a._getSizeLimit(e,d,n.endMaxWidth,!i,!0);l.maxWidth=m,c.maxWidth=f,u.push("maxWidth")}l.overflow=n.overflow?n.overflow:"hidden";var g=[].concat(u);return g.push("overflow"),a._animate(e,s,o,n,u,g)},a.zoomIn=function(e,t){return a._zoom(e,t,!0)},a.zoomOut=function(e,t){return a._zoom(e,t,!1)},a._zoom=function(e,t,i){var n,s=a._mergeOptions(i?"zoomIn":"zoomOut",t),o={css:{}},r={css:{}},l=s.axis||"both";n="both"===l?"scale":"x"===l?"scaleX":"scaleY";var c=o.css,d=r.css;return c.transform=n+"("+(i?0:1)+") translateZ(0)",d.transform=n+"("+(i?1:0)+") translateZ(0)",c.transformOrigin=s.transformOrigin||"center",a._animate(e,o,r,s,["transform"])},a.slideIn=function(e,t){return a._slide(e,t,!0)},a.slideOut=function(e,t){return a._slide(e,t,!1)},a._slide=function(e,t,i){var s=a._mergeOptions(i?"slideIn":"slideOut",t),o={css:{}},r={css:{}},l=s.direction||"start",c="0",d="0",u=o.css,h=r.css;if(s.offsetX||s.offsetY)s.offsetX&&(c=s.offsetX),s.offsetY&&(d=s.offsetY);else{var p="rtl"===n.getReadingDirection();switch(l){case"left":c=(i?e.offsetWidth:-e.offsetWidth)+"px";break;case"right":c=(i?-e.offsetWidth:e.offsetWidth)+"px";break;case"top":d=(i?e.offsetHeight:-e.offsetHeight)+"px";break;case"bottom":d=(i?-e.offsetHeight:e.offsetHeight)+"px";break;case"end":c=(i?-e.offsetWidth:e.offsetWidth)*(p?-1:1)+"px";break;default:c=(i?e.offsetWidth:-e.offsetWidth)*(p?-1:1)+"px"}}return i?(u.transform="translate("+c+","+d+") translateZ(0)",h.transform="translate(0,0) translateZ(0)"):(u.transform="translate(0,0) translateZ(0)",h.transform="translate("+c+","+d+") translateZ(0)"),a._animate(e,o,r,s,["transform"])},a.ripple=function(e,t){var n=a._mergeOptions("ripple",t),s={css:{}},o={css:{}},r=e.offsetWidth,l=e.offsetHeight,c=i("<div>").css({position:"absolute",overflow:"hidden"}),d=i("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),u="static"===window.getComputedStyle(e).position?{left:e.offsetLeft,top:e.offsetTop}:{left:0,top:0};e.insertBefore(c[0],e.firstChild),c.css({left:u.left+"px",top:u.top+"px",width:r+"px",height:l+"px"}),c.prepend(d);var h=s.css,p=o.css;return a._setRippleOptions(h,d,c,n),h.transform="scale(0) translateZ(0)",h.opacity=n.startOpacity||d.css("opacity"),p.transform="scale(1) translateZ(0)",p.opacity=n.endOpacity||0,n.persist="all",a._animate(d[0],s,o,n,["transform","opacity"]).then((function(){c.remove()}))},a._setRippleOptions=function(e,t,i,n){var s=e,o=t.width(),r=i.width(),l=i.height();if(n.diameter){var c=n.diameter,d=parseInt(c,10);isNaN(d)||(o="%"===c.charAt(c.length-1)?Math.floor(Math.min(r,l)*(d/100)):d,s.width=o+"px",s.height=o+"px")}var u,h="static"===i.css("position")?i.position():{left:0,top:0};null!=(u=a._calcRippleOffset(n.offsetX,o,r,h.left))&&(s.left=u+"px"),null!=(u=a._calcRippleOffset(n.offsetY,o,l,h.top))&&(s.top=u+"px"),n.color&&(s.backgroundColor=n.color)},a._calcRippleOffset=function(e,t,i,n){var s,o=e||"50%",a=parseInt(o,10);return isNaN(a)||(s="%"===o.charAt(o.length-1)?i*(a/100)-t/2:a-t/2,s=Math.floor(s+n)),s},a._removeRipple=function(e,t){var n=t||{},s=n.removeEffect||"fadeOut",r=i(".oj-animation-rippler",e);if(0!==r.length)return s in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?a[s](r,n).then((function(){r.remove()})):r.remove();o.warn("No rippler so returning")},a._calcBackfaceAngle=function(e){var t,i=e.match(/^([+-]?\d*\.?\d*)(.*)$/),n=parseFloat(i[1]),s=i[2];switch(s){case"deg":t=n-180+s;break;case"grad":t=n-200+s;break;case"rad":t=n-3.1416+s;break;case"turn":t=n-.5+s;break;default:o.error("Unknown angle unit in flip animation: "+s)}return t},a._flip=function(e,t,n,s,o){if(t&&"children"===t.flipTarget){var r,l=[],c=i(e).children(),d=i.extend({},t);delete d.flipTarget;var u=i.extend({},d);u.startAngle=a._calcBackfaceAngle(t.startAngle||s),u.endAngle=a._calcBackfaceAngle(t.endAngle||o);for(var h=0;h<c.length;h++)r=i(c[h]).hasClass("oj-animation-backface")?u:d,l.push(a._flip(c[h],r,n,s,o));return Promise.all(l)}var p,m={},f={},g={css:m},v={css:f},_="rotateY(",b="2000px",y="hidden",E="center";return(t=a._mergeOptions(n,t))&&("x"===t.axis&&(_="rotateX("),t.startAngle&&(s=t.startAngle),t.endAngle&&(o=t.endAngle),t.perspective&&(b=t.perspective),t.backfaceVisibility&&(y=t.backfaceVisibility),t.transformOrigin&&(E=t.transformOrigin)),p="perspective("+b+") "+_,m.transform=p+s+")",m.backfaceVisibility=y,m.transformOrigin=E,f.transform=p+o+")",a._animate(e,g,v,t,["transform"],["transform","backfaceVisibility","transformOrigin"])},a.flipIn=function(e,t){return a._flip(e,t,"flipIn","-180deg","0deg")},a.flipOut=function(e,t){return a._flip(e,t,"flipOut","0deg","180deg")},a.addTransition=function(e,t){var i=a._mergeOptions("addTransition",t);return a._animate(e,null,null,i,i.transitionProperties)},a._createHeroParent=function(){var e=document.createElement("div"),t=document.body;t.appendChild(e),e.style.position="absolute",e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px",e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+"px",e.style.zIndex=2e3,e.className="oj-animation-host-viewport";var i=document.createElement("div");return i.className="oj-animation-host",e.appendChild(i),i},a._removeHeroParent=function(e){if(e){var t=e.parentNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},a._defaultHeroCreateClonedElement=function(e){return e.fromElement.cloneNode(!0)},a._defaultHeroHideFromAndToElements=function(e){var t=e.fromElement,i=e.toElement;t.style.visibility="hidden",i.style.visibility="hidden"},a._defaultHeroAnimateClonedElement=function(e){return new Promise((function(t){var i=e.clonedElement.style;i.transformOrigin="left top",i.transform="translate(0, 0) scale(1, 1)",requestAnimationFrame((function(){i.transitionDelay=e.delay,i.transitionDuration=e.duration,i.transitionTimingFunction=e.timingFunction,i.transitionProperty="transform";var n="translate("+e.translateX+"px,"+e.translateY+"px)";n+=" scale("+e.scaleX.toFixed(2)+","+e.scaleY.toFixed(2)+")",i.transform=n;var s=a._getTimingValue(e.delay)+a._getTimingValue(e.duration);setTimeout((function(){t()}),s)}))}))},a._defaultHeroShowToElement=function(e){e.toElement.style.visibility="visible"},a._doAnimateHero=function(e,t,i,n,s,o){var r=document.querySelector(t);if(null!=r){var l=e.getBoundingClientRect(),c=r.getBoundingClientRect(),d=c.left-l.left,u=c.top-l.top,h=c.width/l.width,p=c.height/l.height,m={fromElement:e,toElement:r,clonedElement:null,translateX:d,translateY:u,scaleX:h,scaleY:p,toElementElapsedTime:n,delay:i.delay,duration:i.duration,timingFunction:i.timingFunction},f=i.createClonedElement(m);m.clonedElement=f;var g=a._createHeroParent(),v=g.getBoundingClientRect();g.appendChild(f),f.style.position="absolute",f.style.left=l.left-v.left+"px",f.style.top=l.top-v.top+"px",i.hideFromAndToElements(m),f.style.visibility="visible",i.animateClonedElement(m).then((function(){_(),s()})).catch((function(e){_(),o(e)}))}else n+100>i.toElementWaitTime?o("toElement not found in DOM after toElementWaitTime has expired"):setTimeout((function(){a._doAnimateHero(e,t,i,n+100,s,o)}),100);function _(){i.showToElement(m),a._removeHeroParent(g)}},a.animateHero=function(e,t){var i=e,n={toElementWaitTime:5e3,createClonedElement:a._defaultHeroCreateClonedElement,hideFromAndToElements:a._defaultHeroHideFromAndToElements,animateClonedElement:a._defaultHeroAnimateClonedElement,showToElement:a._defaultHeroShowToElement,delay:"0s",duration:"400ms",timingFunction:"ease"};return Object.assign(n,t),new Promise((function(e,s){i?t.toElementSelector?a._doAnimateHero(i,t.toElementSelector,n,0,e,s):s("No options.toElementSelector specified"):s("No element specified")}))};const r=a.startAnimation,l=a.fadeIn,c=a.fadeOut,d=a.expand,u=a.collapse,h=a.zoomIn,p=a.zoomOut,m=a.slideIn,f=a.slideOut,g=a.ripple,v=a.flipIn,_=a.flipOut,b=a.addTransition,y=a.animateHero;e.addTransition=b,e.animateHero=y,e.collapse=u,e.expand=d,e.fadeIn=l,e.fadeOut=c,e.flipIn=v,e.flipOut=_,e.ripple=g,e.slideIn=m,e.slideOut=f,e.startAnimation=r,e.zoomIn=h,e.zoomOut=p,Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojpopup",["ojs/ojpopupcore","ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojfocusutils","ojs/ojcustomelement-utils"],(function(e,t,i,n,s,o,a,r,l,c){"use strict";var d;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,function(){var d=["oj-left","oj-center","oj-right","oj-top","oj-middle","oj-bottom"],u={"right-top":"oj-right oj-top","right-middle":"oj-right oj-middle","right-bottom":"oj-right oj-bottom","left-top":"oj-left oj-top","left-middle":"oj-left oj-middle","left-bottom":"oj-left oj-bottom","center-top":"oj-center oj-top","center-middle":"oj-left oj-middle","center-bottom":"oj-center oj-bottom"};t.__registerWidget("oj.ojPopup",i.oj.baseComponent,{widgetEventPrefix:"oj",options:{animation:null,autoDismiss:"focusLoss",chrome:"default",initialFocus:"auto",position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flip"},tail:"none",modality:"modeless",role:"tooltip",beforeOpen:null,open:null,beforeClose:null,close:null,focus:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var e=this._getRootStyle(),n=this.element;n.hide().addClass(e).attr("aria-hidden","true"),n.addClass("oj-component");var s=i("<div>");s.addClass([e,"content"].join("-")),s.attr("role","presentation"),s.append(n[0].childNodes),s.appendTo(n),this._content=s,this._setChrome(),this._setupFocus(n);var o=this.options;o.position=t.PositionUtils.coerceToJet(o.position)},_AfterCreate:function(){this._super(),this.element.uniqueId(),this._createTail()},_destroy:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyTail(),delete this._popupServiceEvents;var e=this.element;e.hide().attr("aria-hidden","true").removeUniqueId();var i=this._content;delete this._content,e.append(i[0].childNodes),i.remove();var n=this._closeDelayTimer;n&&(delete this._closeDelayTimer,n()),this._super()},open:function(e,i){if(!this._isOperationPending("open",[e,i])){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly();var n=this.element,s=t.ZOrderUtils.getStatus(n);if(s===t.ZOrderUtils.STATUS.CLOSE||s===t.ZOrderUtils.STATUS.UNKNOWN)if(t.ZOrderUtils.setStatus(n,t.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen")){this._setWhenReady("open"),this._setLauncher(e);var o=this._launcher,a=this.options;(i=i||a.position).of||(this._hasPositionOfLauncherOverride=!0,i.of=o),this._setPosition(i),this._setAutoDismiss(a.autoDismiss),this._addDescribedBy(),this._IsCustomElement()&&n[0].hasAttribute("role")||n.attr("role",a.role);var r=this._getPositionAsJqUi(),l=this._getRootStyle(),c=[l,"layer"].join("-"),d=a.tail;"none"!==d&&(c+=" "+[l,"tail",d].join("-"));var u={};u[t.PopupService.OPTION.POPUP]=n,u[t.PopupService.OPTION.LAUNCHER]=o,u[t.PopupService.OPTION.POSITION]=r,u[t.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),u[t.PopupService.OPTION.LAYER_SELECTORS]=c,u[t.PopupService.OPTION.MODALITY]=a.modality,u[t.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),t.PopupService.getInstance().open(u)}else t.ZOrderUtils.setStatus(this.element,s)}},_beforeOpenHandler:function(e){var i=e[t.PopupService.OPTION.POPUP],n=e[t.PopupService.OPTION.POSITION];i.show(),i.position(n),this.initialWidth=i.width(),this.initialHeight=i.height();var s=this.options.animation;if(s&&s.open){var o=s.actionPrefix,a=o?[o,"open"].join("-"):"open";return r.startAnimation(i[0],a,t.PositionUtils.addTransformOriginAnimationEffectsOption(i,s.open),this)}},_afterOpenHandler:function(e){var i=e[t.PopupService.OPTION.POPUP],n=e[t.PopupService.OPTION.LAUNCHER];this.initialWidth===i.width()&&this.initialHeight===i.height()||this._reposition(),delete this.initialWidth,delete this.initialHeight,this._registerResizeListener(i[0]),this._initVoiceOverAssist(),this._trigger("open"),this._intialFocus(),this._on(i,{keydown:this._keyHandler}),n&&n.length>0&&this._on(n,{keydown:this._keyHandler})},_GetContextMenu:function(){if(!this._IsCustomElement())return this._super();var e=c.CustomElementUtils.getSlotMap(this._content[0]).contextMenu;return e&&e.length>0?e[0]:void 0},close:function(){if(!this._isOperationPending("close",[])){var e=this.element,i=t.ZOrderUtils.getStatus(e);if(i===t.ZOrderUtils.STATUS.OPEN)if(t.ZOrderUtils.setStatus(e,t.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose")||this._ignoreBeforeCloseResultant){this._setWhenReady("close");var n=this._launcher;this._off(e,"keydown"),n&&n.length>0&&this._off(n,"keydown"),this._restoreFocus(),this._destroyVoiceOverAssist();var s={};s[t.PopupService.OPTION.POPUP]=e,t.PopupService.getInstance().close(s)}else t.ZOrderUtils.setStatus(e,i)}},_beforeCloseHandler:function(e){var i=e[t.PopupService.OPTION.POPUP];this._unregisterResizeListener(i[0]);var n=this.options.animation;if(!this._ignoreBeforeCloseResultant&&n&&n.close){var s=n.actionPrefix,o=s?[s,"close"].join("-"):"close";return r.startAnimation(i[0],o,t.PositionUtils.addTransformOriginAnimationEffectsOption(i,n.close),this).then((function(){i.hide()}))}i.hide()},_afterCloseHandler:function(e){this._removeDescribedBy(),this._setAutoDismiss(),delete this._launcher,this._trigger("close"),this._hasPositionOfLauncherOverride&&(this.options.position.of=null,delete this._hasPositionOfLauncherOverride)},isOpen:function(){var e=t.ZOrderUtils.getStatus(this.element);return e===t.ZOrderUtils.STATUS.OPENING||e===t.ZOrderUtils.STATUS.OPEN||e===t.ZOrderUtils.STATUS.BEFORE_CLOSE||e===t.ZOrderUtils.STATUS.CLOSING},refresh:function(){if(this._super(),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._reposition()){var e=this.element;t.PopupService.getInstance().triggerOnDescendents(e,t.PopupService.EVENT.POPUP_REFRESH)}},_setOption:function(e,i){var n=this.options;switch(e){case"tail":i!==n.tail&&this._setTail(i);break;case"chrome":i!==n.chrome&&this._setChrome(i);break;case"position":return this._setPosition(i),void this.refresh();case"autoDismiss":t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&i!==n.autoDismiss&&this._setAutoDismiss(i);break;case"modality":if(t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var s=this.element,o={};o[t.PopupService.OPTION.POPUP]=s,o[t.PopupService.OPTION.MODALITY]=i,t.PopupService.getInstance().changeOptions(o)}}this._superApply(arguments)},_getRootStyle:function(){return"oj-popup"},_setTail:function(e){this._destroyTail(),this._createTail(e),this._reposition()},_createTail:function(e){var n=e||this.options.tail;if("none"!==n){var s=this._getRootStyle(),o=[s,"tail"].join("-"),a=[o,n].join("-"),r=i("<div>").hide();r.addClass(o).addClass(a),r.attr("role","presentation"),this._tailId=r.attr("id",this._getSubId("tail")).attr("id");var l=this.element;if(r.appendTo(l),l.addClass(a),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var c=[s,"layer"].join("-");c+=" "+a;var d={};d[t.PopupService.OPTION.POPUP]=l,d[t.PopupService.OPTION.LAYER_SELECTORS]=c,t.PopupService.getInstance().changeOptions(d)}}},_getTail:function(){var e=this._tailId;return e?i(document.getElementById(e)):null},_destroyTail:function(){var e=this._getTail();e&&e.remove(),delete this._tailId;var i=this.options.tail,n=this._getRootStyle(),s=[n,"tail",i].join("-"),o=this.element;if(o.removeClass(s),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var a=[n,"layer"].join("-"),r={};r[t.PopupService.OPTION.POPUP]=o,r[t.PopupService.OPTION.LAYER_SELECTORS]=a,t.PopupService.getInstance().changeOptions(r)}},_setChrome:function(e){var t=e||this.options.chrome,i=[this._getRootStyle(),"no-chrome"].join("-"),n=this.element;"default"===t&&n.hasClass(i)?n.removeClass(i):"none"!==t||n.hasClass(i)||n.addClass(i)},_setLauncher:function(e){var t=e;if(t?("string"===i.type(t)||1===t.nodeType)&&(t=i(t)):t=i(document.activeElement),t instanceof i&&t.length>1)for(var n=this.element,o=0;o<t.length;o++){var a=t[0];if(!s.isAncestorOrSelf(n[0],a)){t=i(a);break}}else t instanceof i&&!(t instanceof i&&0===t.length)||(t=i(document.activeElement));this._launcher=t},_setPosition:function(e){var i=this.options;e&&(i.position=t.PositionUtils.coerceToJet(e,i.position))},_getPositionAsJqUi:function(){var e=this.options,n=t.PositionUtils.coerceToJqUi(e.position),s="rtl"===this._GetReadingDirection(),o=(n=t.PositionUtils.normalizeHorizontalAlignment(n,s)).using;return o=i.isFunction(o)?o:null,n.using=this._usingHandler.bind(this,o),n},_resolveBusyStateAndCloseImplicitly:function(e){e(),delete this._closeDelayTimer,this._closeImplicitly()},_resolveBusyStateAndCancelDelayedClosure:function(e,t){window.clearTimeout(e),t()},_usingHandler:function(e,i,o){var a=o.element.element;if(i.top!==a.css("top")||i.left!==a.css("left")){var r=this._getTail();if(r){r.hide();for(var l=0;l<d.length;l++)r.removeClass(d[l]),a.removeClass(d[l]);if(r.removeAttr("style"),o.target&&0===o.target.height&&0===o.target.width){var c="rtl"===this._GetReadingDirection(),h=t.PositionUtils.normalizeHorizontalAlignment(this.options.position,c).my;if(!t.StringUtils.isEmptyOrUndefined(h)){var p="center"===h.horizontal?h.horizontal:o.horizontal,m="center"===h.vertical?"middle":h.vertical;o.horizontal=p,o.vertical=m}}var f,g,v=[o.horizontal,o.vertical].join("-"),_=u[v];if(r.addClass(_),a.addClass(_),r.show(),"left"===o.horizontal?(f=r.outerWidth(),f-=f+s.getCSSLengthAsInt(r.css("left")),i.left+=f-2):"right"===o.horizontal&&(f=r.outerWidth(),f-=f+s.getCSSLengthAsInt(r.css("right")),i.left-=f-2),"top"===o.vertical?(g=r.outerHeight(),g-=g+s.getCSSLengthAsInt(r.css(o.vertical)),i.top+=g-2):"bottom"===o.vertical&&(g=r.outerHeight(),g-=g+s.getCSSLengthAsInt(r.css(o.vertical)),i.top-=g-2),a.css(i),"center"===o.horizontal&&"middle"!==o.vertical){var b=a.width(),y=Math.round((b/2-r.outerWidth()/2)/b*100);r.css({left:y+"%"})}else if("middle"===o.vertical){var E=a.height(),w=Math.round((E/2-r.outerHeight()/2)/E*100);r.css({top:w+"%"})}}else a.css(i);if(t.PositionUtils.captureTransformOriginAnimationEffectsOption(a,o),e&&e(i,o),"focusLoss"===this.options.autoDismiss&&t.PositionUtils.isAligningPositionClipped(o)){this._ignoreRestoreFocus=!0;var C=n.getContext(this.element[0]).getBusyContext(),S={description:["ojPopup identified by '",this.element.attr("id"),"' is pending implicit closure."].join("")},I=C.addBusyState(S),A=window.setTimeout(this._resolveBusyStateAndCloseImplicitly.bind(this,I),0);this._closeDelayTimer=this._resolveBusyStateAndCancelDelayedClosure.bind(this,A,I)}}},_reposition:function(){var e=this.element,n=this._getPositionAsJqUi();if(t.StringUtils.isString(n.of)){var s=i(n.of);if(0===s.length)return!1;n.of=s}return!(this.element.width()>window.innerWidth||this.element.height()>window.innerHeight||(e.position(n),0))},_unregisterResizeListener:function(e){e&&this._resizeHandler&&(s.removeResizeListener(e,this._resizeHandler),this._resizeHandler=null)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),s.addResizeListener(e,this._resizeHandler,30,!0))},_handleResize:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._reposition()},_intialFocus:function(e){var t=this._deriveInitialFocus();(e||"none"!==t)&&(this.GetFocusElement().focus(),this._trigger("focus"))},GetFocusElement:function(){var e=document.activeElement;if(e&&this._isFocusInPopup(e))return e;var t,n=this._deriveInitialFocus();if("none"===n&&(n="popup"),"firstFocusable"===n){for(var s=this._content.find(":focusable"),o=0;o<s.length;o++)if(l.isFocusable(s[o])){t=i(s[o]);break}t||(n="popup")}if("popup"===n){var a=this._closeSkipLink;a?t=a.getLink():(t=this.element).attr("tabindex","-1")}return t[0]},_deriveInitialFocus:function(){var e=this.options,t=e.initialFocus;return"auto"===t&&(t="modal"===e.modality?s.isTouchSupported()?"popup":"firstFocusable":"none"),t},_isFocusInPopup:function(e,t){if(e||(e=document.activeElement),!e)return!1;var i=this.element;return t&&(i=i.parent()),s.isAncestorOrSelf(i[0],e)},_isFocusInLauncher:function(e){e||(e=document.activeElement);var t=this._launcher;return s.isAncestorOrSelf(t[0],e)},_restoreFocus:function(){this._ignoreRestoreFocus?delete this._ignoreRestoreFocus:this._isFocusInPopup(null,!0)&&this._launcher.focus()},_keyHandler:function(e){if(!e.isDefaultPrevented()){var t=this._content,n=e.target;if(e.keyCode===i.ui.keyCode.ESCAPE&&(this._isFocusInPopup(n)||this._isFocusInLauncher(n)))e.preventDefault(),e.stopPropagation(),this.close();else if(117===e.keyCode||"F6"===e.key)this._isFocusInPopup(n)?"modeless"===this.options.modality?(e.preventDefault(),this._launcher.focus()):this.close():this._isFocusInLauncher(n)&&(e.preventDefault(),this._intialFocus(!0));else if(e.keyCode===i.ui.keyCode.TAB&&this._isFocusInPopup(n)){var s=t.find(":tabbable");if(s.length>0){var o=s[0],a=s[s.length-1],r=this.element;o!==n&&r[0]!==n||!e.shiftKey?a!==n||e.shiftKey||(e.preventDefault(),a===o?(r.attr("tabindex","-1"),r.focus()):i(o).focus()):(e.preventDefault(),o===a&&o===n?(r.attr("tabindex","-1"),r.focus()):i(a).focus())}else e.preventDefault(),"modeless"===this.options.modality?this._launcher.focus():this.close()}}},_setAutoDismiss:function(e){var i=this._focusLossCallback,n=this._getPopupServiceEvents();if(i&&(delete n[t.PopupService.EVENT.POPUP_AUTODISMISS],delete this._focusLossCallback),"focusLoss"===e&&(i=this._dismissalHandler.bind(this),this._focusLossCallback=i,n[t.PopupService.EVENT.POPUP_AUTODISMISS]=i),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var s=this.element,o={};o[t.PopupService.OPTION.POPUP]=s,o[t.PopupService.OPTION.EVENTS]=n,t.PopupService.getInstance().changeOptions(o)}},_dismissalHandler:function(e){if(t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var i=this._launcher,n=this.element.parent(),o=e.target,a=this._focusSkipLink;if(a){var r=a.getLink();if(r&&s.isAncestorOrSelf(r[0],o))return}if(!s.isAncestorOrSelf(i[0],o)&&!s.isAncestorOrSelf(n[0],o)){var c=o.getAttribute("tabindex");if(l.isFocusable(o)&&"-1"!==c){if("mousedown"===e.type||"touchstart"===e.type)return;this._ignoreRestoreFocus=!0}this.close()}}},_addDescribedBy:function(){var e=this._launcher,t=this.element.attr("id"),n=e.attr("aria-describedby"),s=n?n.split(/\s+/):[];s.push(t),n=i.trim(s.join(" ")),e.attr("aria-describedby",n)},_removeDescribedBy:function(){var e=this._launcher,t=this.element;if(e&&0!==e.length){var n=t.attr("id"),s=e.attr("aria-describedby"),o=s?s.split(/\s+/):[],a=i.inArray(n,o);-1!==a&&o.splice(a,1),(s=i.trim(o.join(" ")))?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}},_initVoiceOverAssist:function(){var i,n=t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS||t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.ANDROID,s=this._liveRegion;s||(s=new e.PopupLiveRegion,this._liveRegion=s);var o=this._deriveInitialFocus();if(i=n?this.getTranslatedString("none"===o?"ariaLiveRegionInitialFocusNoneTouch":"ariaLiveRegionInitialFocusFirstFocusableTouch"):this.getTranslatedString("none"===o?"ariaLiveRegionInitialFocusNone":"ariaLiveRegionInitialFocusFirstFocusable"),s.announce(i),n){var a=this._getSubId("focusSkipLink"),r=this._launcher,l=this._intialFocus.bind(this,!0);i=this.getTranslatedString("ariaFocusSkipLink"),this._focusSkipLink=new e.PopupSkipLink(r,i,l,a);var c=this._content,d=this._getSubId("closeSkipLink");l=this._closeImplicitly.bind(this),i=this.getTranslatedString("ariaCloseSkipLink"),this._closeSkipLink=new e.PopupSkipLink(c,i,l,d)}},_destroyVoiceOverAssist:function(){this._liveRegion.destroy(),delete this._liveRegion;var e=this._focusSkipLink;e&&(e.destroy(),delete this._focusSkipLink);var t=this._closeSkipLink;t&&(t.destroy(),delete this._closeSkipLink)},_getSubId:function(e){var i=this.element.attr("id");return t.StringUtils.isEmptyOrUndefined(i)&&(i=this.uuid),[i,e].join("_")},_surrogateRemoveHandler:function(){var e=this.element;t.ZOrderUtils.getStatus(e)===t.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};this._popupServiceEvents=e,e[t.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),e[t.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[t.PopupService.EVENT.POPUP_REFRESH]=this.refresh.bind(this),e[t.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[t.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[t.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[t.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojPopup",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_setupFocus:function(e){var t=this;this._focusable({applyHighlight:!0,setupHandlers:function(n,s){t._on(e,{focus:function(e){n(i(e.currentTarget))},blur:function(e){s(i(e.currentTarget))}})}})},_NotifyDetached:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}});const h={open:"--oj-private-popup-global-open-animation-default",close:"--oj-private-popup-global-close-animation-default"};a.setDefaultOptions({ojPopup:{modality:a.createDynamicPropertyGetter((function(){return o.getCachedCSSVarValues(["--oj-private-popup-global-modality-default"])[0]})),animation:a.createDynamicPropertyGetter((function(){const e={},t=Object.keys(h),i=t.map((e=>h[e])),n=o.getCachedCSSVarValues(i);return t.forEach(((t,i)=>{e[t]=JSON.parse(n[i])})),e}))}})}(),(d={properties:{autoDismiss:{type:"string",enumValues:["focusLoss","none"],value:"focusLoss"},chrome:{type:"string",enumValues:["default","none"],value:"default"},initialFocus:{type:"string",enumValues:["auto","firstFocusable","none","popup"],value:"auto"},modality:{type:"string",enumValues:["modal","modeless"],value:"modeless"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"bottom"}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flip"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},tail:{type:"string",enumValues:["none","simple"],value:"none"},translations:{type:"object",value:{},properties:{ariaCloseSkipLink:{type:"string"},ariaFocusSkipLink:{type:"string"},ariaLiveRegionInitialFocusFirstFocusable:{type:"string"},ariaLiveRegionInitialFocusFirstFocusableTouch:{type:"string"},ariaLiveRegionInitialFocusNone:{type:"string"},ariaLiveRegionInitialFocusNoneTouch:{type:"string"}}}},methods:{close:{},getProperty:{},isOpen:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeClose:{},ojBeforeOpen:{},ojClose:{},ojFocus:{},ojOpen:{}},extension:{}}).extension._WIDGET_NAME="ojPopup",d.extension._CONTROLS_SUBTREE_HIDDEN=!0,t.CustomElementBridge.register("oj-popup",{metadata:d})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojlabel",["ojs/ojcore","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojpopup","ojs/ojcore-base","jquery","hammerjs","ojs/ojlogger","ojs/ojcontext","ojs/ojdomutils"],(function(e,t,i,n,s,o,a,r,l,c){"use strict";var d;s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,s.__registerWidget("oj.ojLabel",o.oj.baseComponent,{version:"1.0.0",defaultElement:"<label>",widgetEventPrefix:"oj",options:{for:null,help:{definition:null,source:null},labelId:null,showRequired:!1,rootAttributes:null},_BUNDLE_KEY:{_TOOLTIP_HELP:"tooltipHelp",_TOOLTIP_REQUIRED:"tooltipRequired"},widget:function(){return this.uiLabel},refresh:function(){this._super(),this._refreshRequired(),this._refreshHelp(),this._addIdsToDom()},_InitOptions:function(e,t){this._super(e,t),this._isCustomElement=this._IsCustomElement(),this._checkRequiredOption()},_ComponentCreate:function(){this._super(),this._touchEatClickNamespace=this.eventNamespace+"TouchEatClick",this._touchEatContextMenuNamespace=this.eventNamespace+"TouchEatContextMenu",this._helpDefPopupNamespace=this.eventNamespace+"HelpDefPopup",this._bTouchSupported=c.isTouchSupported(),this._drawOnCreate()},_AfterCreate:function(){var e,t,i,n=this,s=this.options.for,o=this.options.showRequired;if(this.OuterWrapper&&(e=this.OuterWrapper.getAttribute("data-oj-input-id"),t=this.OuterWrapper.getAttribute("data-oj-set-id")),e?this.element[0].setAttribute("for",e):t&&(this._targetElement=document.getElementById(t),(i=this._targetElement)&&(this._needsHelpIcon()&&n._addHelpSpanIdOnTarget(n.helpSpanId,i),n.options.showRequired&&n._addRequiredDescribedByOnCustomFormElement(i))),s&&this._isCustomElement){var a=l.getContext(this.OuterWrapper).getBusyContext().addBusyState({description:"The oj-label id='"+this.OuterWrapper.id+"' is looking for its form component with id "+s});Promise.resolve().then((()=>{if(n._targetElement=document.getElementById(s),n._targetElement){i=n._targetElement;var t=document.getElementById(n.helpSpanId);if(n._needsHelpIcon()?n._addHelpSpanIdOnTarget(n.helpSpanId,i):t||i.getAttribute("described-by")!==n.helpSpanId||n._removeHelpSpanIdOnTarget(n.helpSpanId,i),o&&n._addRequiredDescribedByOnCustomFormElement(i),!e)if(n._isElementCustomElement(i)){var l=n.OuterWrapper.id;n._addElementAttribute(i,l,"labelled-by")}else n.element[0].setAttribute("for",s)}else r.info("could not find an element with forOption "+s);a()}))}else this._isCustomElement&&this.options.labelId&&(this._targetElement=this._getTargetElementFromLabelledAttr("aria-labelledby",this.options.labelId),(i=this._targetElement)&&this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,i))},_SaveAttributes:function(e){this._IsCustomElement()||(this._savedClasses=e.attr("class"))},_RestoreAttributes:function(){this._IsCustomElement()||(this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class"))},_NotifyDetached:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_NotifyHidden:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_ReleaseResources:function(){this._super(),this._removeHelpDefIconEventListeners()},_SetupResources:function(){this._super(),this._addShowHelpDefinitionEventHandlers()},_GetTranslationsSectionName:function(){return"oj-ojLabel"},_WatchedAttributeChanged:function(e,t,i){switch(this._superApply(arguments),e){case"data-oj-input-id":this.element[0].setAttribute("for",i);break;case"data-oj-set-id":if(t&&!i){let e=document.getElementById(t);this._removeDescribedByWithPrefix(e,this.OuterWrapper.id)}else{this._targetElement=document.getElementById(i);var n=this._targetElement,s=this._needsHelpIcon(),o=this.options.showRequired;if(s||o){var a=l.getContext(this.OuterWrapper).getBusyContext(),r=a.addBusyState({description:"The oj-label is writing described-by on its target."}),c=this;Promise.resolve().then((()=>{s&&c._addHelpSpanIdOnTarget(c.helpSpanId,n),c.options.showRequired&&c._addRequiredDescribedByOnCustomFormElement(n),r()}))}}}},_removeDescribedByWithPrefix:function(e,t){var i,n;n=(i=e.getAttribute("described-by"))?i.split(/\s+/):[],(i=(n=n.filter((function(e){return-1===e.indexOf(t)}))).join(" ").trim())?e.setAttribute("described-by",i):e.removeAttribute("described-by")},_drawOnCreate:function(){var e,t=null;this.OuterWrapper?(this.uiLabel=o(this.OuterWrapper).append(this.element.wrap(this._createOjLabelGroupDom()).parent()),this.uiLabel.addClass("oj-label oj-component")):this.uiLabel=this.element.wrap(this._createRootDomElement()).closest(".oj-component"),this._addIdsToDom(),e=this.element[0].id,this.helpSpanId=e+"_helpIcon",this.requiredSpanId=e+"_requiredIcon",this._isCustomElement||this._moveLabelStyleClassesToRootDom(),this.options.showRequired&&this._createRequiredIconSpanDom(),this._needsHelpIcon()&&(t=this._createIconSpan(this.helpSpanId,!0),this._createHelp(t))},_addRequiredDescribedByOnCustomFormElement:function(e){e&&this._isElementCustomElementAriaRequiredUnsupported(e)&&this._addElementAttribute(e,this.requiredSpanId,"described-by")},_removeRequiredDescribedByOnCustomFormElement:function(e){e&&this._isElementCustomElementAriaRequiredUnsupported(e)&&this._removeElementAttribute(e,this.requiredSpanId,"described-by")},_addHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._addElementAttribute(t,e,i)},_removeHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._removeElementAttribute(t,e,i)},_getAriaAttributeForTarget:function(e){return this._isElementCustomElement(e)?"described-by":"group"===e.getAttribute("role")?"aria-labelledby":"aria-describedby"},_getTargetElementFromLabelledAttr:function(e,t){var i;return i="["+e+"~='"+t+"']",document.querySelector(i)},_isElementCustomElement:function(e){return s.Assert.assertDomElement(e),-1!==e.tagName.indexOf("-")},_isElementCustomElementAriaRequiredUnsupported:function(e){var t;s.Assert.assertDomElement(e);var i,n=["oj-radioset","oj-checkboxset"],o=n.length,a=!1;i=e.tagName.toLowerCase();for(var r=0;r<o&&!a;r++)t=n[r],0===i.indexOf(t)&&(a=!0);return a},_addElementAttribute:function(e,t,i){var n,s,o=e.getAttribute(i);-1===(s=o?o.split(/\s+/):[]).indexOf(t)&&s.push(t),n=s.join(" ").trim(),e.setAttribute(i,n)},_removeElementAttribute:function(e,t,i){var n,s,o,a=e.getAttribute(i);-1!==(s=(o=a?a.split(/\s+/):[]).indexOf(t))&&o.splice(s,1),(n=o.join(" ").trim())?e.setAttribute(i,n):e.setAttribute(i,"")},_createHelp:function(e){var t=this.options.help.definition,i=this.options.help.source,n=this._createHelpIconAnchorDomElement(t,i);o(e).prepend(n),this._attachHelpDefToIconAnchor(),this._focusable({element:n,applyHighlight:!0})},_createRequiredIconSpanDom:function(){this._createIconSpan(this.requiredSpanId,!1).appendChild(this._createRequiredIconDomElement())},_checkRequiredOption:function(){var e=this.options.showRequired;if("boolean"!=typeof e)throw new Error("Option 'showRequired' has invalid value set: "+e)},_addIdsToDom:function(){this._isCustomElement&&(this.OuterWrapper.id||o(this.OuterWrapper).uniqueId(),this._refreshLabelId()),null==this.element.attr("id")&&this.element.uniqueId()},_moveLabelStyleClassesToRootDom:function(){var e,t,i,n=this.element.attr("class");if(n){i=(e=n.split(/\s+/)).length;for(var s=0;s<i;s++)(t=e[s]).includes("-label")&&(this.uiLabel.addClass(t),this.element.removeClass(t))}},_createIconSpan:function(e,t){var i=document.createElement("span");return i.setAttribute("id",e),t?this.uiLabel.find(".oj-label-group").prepend(i):this.element.before(i),i},_createRootDomElement:function(){var e,t,i=this.options.rootAttributes,n="oj-label oj-component";return i&&(e=i.class),e&&(n=n+" "+e),(t=document.createElement("div")).className=n,t.appendChild(this._createOjLabelGroupDom()),t},_createOjLabelGroupDom:function(){var e;return(e=document.createElement("div")).className="oj-label-group",e},_createRequiredIconDomElement:function(){var e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),t=document.createElement("span");return t.className="oj-label-required-icon oj-component-icon",t.setAttribute("role","img"),t.setAttribute("title",e),t.setAttribute("aria-label",e),t},_createHelpIconAnchorDomElement:function(e,t){var i;if((i=document.createElement("a")).setAttribute("tabindex","0"),i.setAttribute("target","_blank"),i.className="oj-label-help-icon-anchor oj-label-help-icon oj-component-icon oj-clickable-icon-nocontext",t)try{c.validateURL(t),i.setAttribute("href",t)}catch(e){throw new Error(e+". The source option ("+t+") is invalid.")}else i.setAttribute("role","img");return e?i.setAttribute("aria-label",e):i.setAttribute("aria-label",this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP)),i},_attachHelpDefToIconAnchor:function(){var e,t,i,n=this;0!==(t=this.widget().find(".oj-label-help-icon-anchor")).length&&(this._bTouchSupported&&(this._eatClickOnHelpIconListener&&this.widget().off(this._touchEatClickNamespace),this._eatClickOnHelpIconListener=function(){return!1},t.on("contextmenu"+this._touchEatContextMenuNamespace,!1)),this._openPopupForHelpDefCallbackListener=function(s){null==e&&((e=n._createHelpDefPopupDiv()).on("mouseleave"+n._helpDefPopupNamespace,n._mouseleaveClosePopupForHelpDefListener),e.on("mouseenter"+n._helpDefPopupNamespace,n._clearTimeoutOnPopupMouseEnterListener),i={my:"start bottom",at:"end top",collision:"flipcenter",of:t},e.ojPopup({position:i,modality:"modeless",animation:{open:null,close:null}})),n._handleOpenHelpDefPopup(s,e,t)},this._mouseleaveClosePopupForHelpDefListener=function(i){if(null!=n._helpDefPopupDivId){const s=i.currentTarget===t[0],o=i.currentTarget===e[0];if(s||o){const t=l.getContext(n.element[0]).getBusyContext();n.helpDefClosePopupBCResolved=t.addBusyState({description:"The oj-label is closing the help popup.'"}),n.closePopupTimer=setTimeout((function(){e.ojPopup("close"),n._resolveHelpDefClosePopupTimoutBC()}),200)}}},this._clearTimeoutOnPopupMouseEnterListener=function(){n.closePopupTimer&&(clearTimeout(n.closePopupTimer),n._resolveHelpDefClosePopupTimoutBC())})},_createHelpDefPopupDiv:function(){var e,t,i,n;return n=this.options.help.definition||this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP),this._helpDefPopupDivId?(i=o(document.getElementById(this._helpDefPopupDivId))).length&&i.find(".oj-label-help-popup-container").first().text(n):((t=document.createElement("div")).className="oj-label-help-popup",t.style.display="none",(i=o(t)).uniqueId(),this._helpDefPopupDivId=i.prop("id"),(e=document.createElement("div")).className="oj-label-help-popup-container",t.appendChild(e),o(e).text(n),this.uiLabel.append(i)),i},_addShowHelpDefinitionEventHandlers:function(){const e=this.uiLabel.find(".oj-label-help-icon");0!==e.length&&(e.on("focusin"+this._helpDefPopupNamespace+" mouseenter"+this._helpDefPopupNamespace,this._openPopupForHelpDefCallbackListener),e.on("mouseleave"+this._helpDefPopupNamespace,this._mouseleaveClosePopupForHelpDefListener),this._setupHammerEventHandlers(e))},_setupHammerEventHandlers:function(){const e=this.uiLabel.find(".oj-label-help-icon");if(this._bTouchSupported&&0!==e.length)if(this.options.help.source){let t={recognizers:[[a.Press,{time:c.PRESS_HOLD_THRESHOLD}]]};e.ojHammer(t),this._on(e,{press:this._openPopupForHelpDefCallbackListener})}else{let t={recognizers:[[a.Tap],[a.Press,{time:c.PRESS_HOLD_THRESHOLD}]]};e.ojHammer(t),this._on(e,{press:this._openPopupForHelpDefCallbackListener,tap:this._openPopupForHelpDefCallbackListener})}},_releaseHammerEventHandlers:function(){const e=this.uiLabel.find(".oj-label-help-icon");this._bTouchSupported&&0!==e.length&&e.ojHammer("destroy")},_resolveHelpDefClosePopupTimoutBC:function(){this.closePopupTimer=null,this.helpDefClosePopupBCResolved&&(this.helpDefClosePopupBCResolved(),delete this.helpDefClosePopupBCResolved)},_handleOpenHelpDefPopup:function(e,t,i){if(this.closePopupTimer&&(clearTimeout(this.closePopupTimer),this._resolveHelpDefClosePopupTimoutBC()),!t.ojPopup("isOpen"))if(this._bTouchSupported){if("press"===e.type){var n=this.widget();n.on("click"+this._touchEatClickNamespace,this._eatClickOnHelpIconListener);var s=this;t.on("ojclose",(function(){n.off(s._touchEatClickNamespace)}))}else t.off("ojclose");"press"!==e.type&&"tap"!==e.type&&(c.recentTouchStart()||"focusin"!==e.type&&"mouseenter"!==e.type)||t.ojPopup("open",i)}else t.ojPopup("open",i)},_handleCloseHelpDefPopup:function(){null!=this._helpDefPopupDivId&&o(document.getElementById(this._helpDefPopupDivId)).ojPopup("close")},_removeHelpDefIconEventListeners:function(){const e=this.uiLabel.find(".oj-label-help-icon");this._bTouchSupported&&(this.widget().off(this._touchEatClickNamespace),e.off(this._touchEatContextMenuNamespace)),this._releaseHammerEventHandlers(),e.off(this._helpDefPopupNamespace),null!=this._helpDefPopupDivId&&o(document.getElementById(this._helpDefPopupDivId)).off(this._helpDefPopupNamespace)},_removeHelpDefPopup:function(){var e;null!=this._helpDefPopupDivId&&((e=o(document.getElementById(this._helpDefPopupDivId))).length>0&&(e.ojPopup("destroy"),e.remove()),this._helpDefPopupDivId=null)},_needsHelpIcon:function(){var e,t,i=this.options,n=i.help.source;return(t=""!==n&&null!=n)||(t=""!==(e=i.help.definition)&&null!=e),t},_refreshHelp:function(){var e,t,i=this.helpSpanId,n=this._targetElement;1===(t=this.uiLabel.find(".oj-label-help-icon")).length&&(this._removeHelpDefIconEventListeners(),this._removeHelpDefPopup(),t.remove()),e=document.getElementById(i),this._needsHelpIcon()?(null==e&&(e=this._createIconSpan(i,!0)),this._createHelp(e),this._addShowHelpDefinitionEventHandlers(),this._isCustomElement&&n&&this._addHelpSpanIdOnTarget(i,n)):null!==e&&(e.parentNode.removeChild(e),this._isCustomElement&&n&&this._removeHelpSpanIdOnTarget(i,n))},_refreshRequired:function(){var e,t,i=this.requiredSpanId;e=document.getElementById(i),this.options.showRequired?e?(t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),this.uiLabel.find(".oj-label-required-icon").attr("title",t)):(this._createRequiredIconSpanDom(),this._isCustomElement&&this._addRequiredDescribedByOnCustomFormElement(this._targetElement)):(null!==(e=document.getElementById(i))&&e.parentNode.removeChild(e),this._isCustomElement&&this._removeRequiredDescribedByOnCustomFormElement(this._targetElement))},_refreshFor:function(e,t){var i=this.element[0],n=this.OuterWrapper.id;if(e){i.removeAttribute("for"),this.OuterWrapper.removeAttribute("data-oj-input-id");var s=document.getElementById(e);if(s){var o=s.getAttribute("labelled-by");if(o)if(o===n)s.removeAttribute("labelled-by");else{var a=o.split(/\s+/).filter((function(e){return e!==n})).join(" ");s.setAttribute("labelled-by",a)}}}if(this._targetElement=document.getElementById(this.options.for),this._targetElement){var r=this._targetElement;this._isElementCustomElement(r)?(this._addElementAttribute(r,n,"labelled-by"),this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,r),this.options.showRequired&&this._addRequiredDescribedByOnCustomFormElement(r)):i.setAttribute("for",t)}},_refreshLabelId:function(){var e,t;(e=this.options.labelId)?this.element.attr("id",e):(t=this.uiLabel.attr("id"))&&this.element.attr("id",t+"|label")},_setOption:function(e,t){var i=this.options[e];switch(this._superApply(arguments),e){case"showRequired":this._refreshRequired();break;case"help":this._refreshHelp();break;case"for":this._isCustomElement&&this._refreshFor(i,t);break;case"labelId":this._refreshLabelId()}},getNodeBySubId:function(e){var t;return(t=this._super(e))||"oj-label-help-icon"===e.subId&&(t=this.widget().find(".oj-label-help-icon")[0]),t||null},getSubIdByNode:function(e){var t=null;return null!=e&&e===this.widget().find(".oj-label-help-icon")[0]&&(t={subId:"oj-label-help-icon"}),t||this._superApply(arguments)},_destroy:function(){return this._removeHelpDefIconEventListeners(),this._removeHelpDefPopup(),this.helpSpanId=null,this.requiredSpanId=null,this._isCustomElement=null,c.unwrap(this.element,this.uiLabel),this._super()}}),(d={properties:{for:{type:"string"},help:{type:"object",value:{definition:null,source:null},properties:{definition:{type:"string"},source:{type:"string"}}},labelId:{type:"string"},showRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{tooltipHelp:{type:"string"},tooltipRequired:{type:"string"}}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._WIDGET_NAME="ojLabel",d.extension._INNER_ELEM="label",d.extension._GLOBAL_TRANSFER_ATTRS=["accesskey"],d.extension._WATCHED_ATTRS=["data-oj-input-id","data-oj-set-id"],s.CustomElementBridge.register("oj-label",{metadata:d})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojlabelledbyutils",["ojs/ojlabel"],(function(e){"use strict";const t={CUSTOM_LABEL_ELEMENT_ID:"|label",_labelledByUpdatedForSet:function(e,i,n,s){if((i||n)&&this._IsCustomElement()){var o={callbackAdd:function(e,i,n){const s=t.CUSTOM_LABEL_ELEMENT_ID;t._addAriaLabelledBy(e,i+s),t._addSetIdOnLabel(i,n.componentId)},callbackRemove:function(e,i,n){const s=t.CUSTOM_LABEL_ELEMENT_ID;t._removeAriaLabelledBy(e,i+s),t._removeSetIdOnLabel(i,n.componentId)},args:{componentId:e}};t._byUpdatedTemplate(i,n,s,o)}},_describedByUpdated:function(e,i,n=this._GetContentElement()){if(e||i){var s={callbackAdd:function(e,i){t._addRemoveAriaBy(e,"aria-describedby",i,!0)},callbackRemove:function(e,i){t._addRemoveAriaBy(e,"aria-describedby",i,!1)}};t._byUpdatedTemplate(e,i,n,s)}},_byUpdatedTemplate:function(e,t,i,n){var s,o,a,r;if(!e&&t)for(o=t.split(/\s+/),r=0;r<o.length;r++)s=o[r],n.callbackAdd.call(this,i,s,n.args);else if(e&&!t)for(o=e.split(/\s+/),r=0;r<o.length;r++)s=o[r],n.callbackRemove.call(this,i,s,n.args);else if(e&&t){for(o=t.split(/\s+/),a=e.split(/\s+/),r=0;r<a.length;r++)s=a[r],-1===t.indexOf(s)&&n.callbackRemove.call(this,i,s,n.args);for(r=0;r<o.length;r++)s=o[r],-1===e.indexOf(s)&&n.callbackAdd.call(this,i,s,n.args)}},_addAriaLabelledBy:function(e,i){t._addRemoveAriaBy(e,"aria-labelledby",i,!0)},_removeAriaLabelledBy:function(e,i){t._addRemoveAriaBy(e,"aria-labelledby",i,!1)},_addSetIdOnLabel:function(e,t){var i=document.getElementById(e);i&&(i.getAttribute("data-oj-set-id")||i.setAttribute("data-oj-set-id",t))},_removeSetIdOnLabel:function(e){var t=document.getElementById(e);t&&t.getAttribute("data-oj-set-id")&&t.removeAttribute("data-oj-set-id")},_addRemoveAriaBy:function(e,t,i,n){e.each((function(){let e=this.getAttribute(t),s=e?e.split(/\s+/):[],o=s.indexOf(i);n&&-1===o?s.push(i):n||-1===o||s.splice(o,1);let a=s.join(" ").trim();a?this.setAttribute(t,a):this.removeAttribute(t)}))}};return t})),define("../node_modules/@oracle/oraclejet/dist/js/libs/oraclejet-preact/amd/UNSAFE_Layer",["exports","preact/compat","preact","preact/jsx-runtime"],(function(e,t,i,n){"use strict";const s=i.createContext({}),o=t.forwardRef(((e,t)=>n.jsx("div",{id:"__oj_layerhost_container",ref:t})));o.displayName="Forwarded<LayerHost>",e.Layer=e=>{var i;const n=t.useContext(s),o=null===(i=n.getHost)||void 0===i?void 0:i.call(n),a=t.useMemo((()=>o),[o]),[r,l]=t.useState(null);return t.useLayoutEffect((()=>{var e;if(!a)return;const t=(null!==(e=a.ownerDocument)&&void 0!==e?e:document).createElement("div");return a.appendChild(t),l(t),()=>{a&&t&&a.contains(t)&&a.removeChild(t),l(null)}}),[a]),r&&t.createPortal(e.children,r)},e.LayerContext=s,e.LayerManager=function({children:e}){const[i,a]=t.useState(),r=t.useCallback((e=>{null!==e&&a(e)}),[]);return n.jsx(s.Consumer,{children:t=>{const a=i?{getHost:()=>i}:{},l=t.getHost?t:a;return n.jsxs(s.Provider,Object.assign({value:l},{children:[e,!t.getHost&&n.jsx(o,{ref:r})]}))}})},Object.defineProperty(e,"__esModule",{value:!0})})),define("../node_modules/@oracle/oraclejet/dist/js/libs/oraclejet-preact/amd/UNSAFE_Environment",["exports","preact","preact/jsx-runtime","preact/hooks","./UNSAFE_Layer","preact/compat"],(function(e,t,i,n,s,o){"use strict";var a,r;const l={user:{locale:document.documentElement.getAttribute("lang")||"en",direction:"rtl"===document.documentElement.getAttribute("dir")?"rtl":"ltr",forcedColors:(null===(r=null===(a=window.matchMedia)||void 0===a?void 0:a.call(window,"(forced-colors: active)"))||void 0===r?void 0:r.matches)?"active":"none"},theme:{name:"redwood",colorScheme:"light",scale:"lg"}},c=t.createContext(l);function d(e,t){const i=Object.assign({},e.user,null==t?void 0:t.user),n=Object.assign({},e.theme,null==t?void 0:t.theme),s=Object.assign({},e.translations),o=(null==t?void 0:t.translations)||{};return Object.keys(o).forEach((e=>{let t=o[e];s[e]&&(t=Object.assign({},s[e],t)),s[e]=t})),{user:i,theme:n,translations:s}}e.EnvironmentContext=c,e.EnvironmentProvider=function({children:e,environment:t}){return i.jsx(c.Consumer,{children:s=>{const o=n.useMemo((()=>d(s,t)),[s,t]);return i.jsx(c.Provider,Object.assign({value:o},{children:e}))}})},e.RootEnvironmentProvider=function({children:e,environment:t}){const o=n.useMemo((()=>d(l,t)),[t]);return i.jsx(c.Provider,Object.assign({value:o},{children:i.jsx(s.LayerManager,{children:e})}))},Object.defineProperty(e,"__esModule",{value:!0})})),define("../node_modules/@oracle/oraclejet/dist/js/libs/oraclejet-preact/amd/utils/UNSAFE_matchTranslationBundle",["exports"],(function(e){"use strict";function t(e,t){let i=null;const n=e.split("-");for(;null===i&&n.length>1;){n.pop();const e=n.join("-");t.has(e)&&(i=e)}return i}e.matchTranslationBundle=function(e,i){let n=null;for(let s=0;null===n&&s<e.length;s++){const o=e[s];n=i.has(o)?o:t(o,i)}return n},Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojvcomponent",["require","exports","preact/compat","preact","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojpreact-patch","ojs/ojconfig","@oracle/oraclejet-preact/UNSAFE_Environment","ojs/ojpopupcore","@oracle/oraclejet-preact/UNSAFE_Layer","@oracle/oraclejet-preact/utils/UNSAFE_matchTranslationBundle"],(function(e,t,i,n,s,o,a,r,l,c,d,u,h){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const p=(e,t)=>{Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=s.toSymbolizedValue(e[t]))},m=n.options.vnode;n.options.vnode=e=>{const t=e.type;if("string"==typeof t&&s.CustomElementUtils.isElementRegistered(t)){const t=e.props;p(t,"value"),p(t,"checked")}null==m||m(e)};let f,g=0;const v=new Map,_=Symbol();function b(e,t,i,o,a){const l=function(e){let t=e[_];return void 0===t&&(t="@oj_s"+g++,e[_]=t),t}(t),c=function(e,t,i,n){let o,a=0;const l=()=>{0===a&&(o.remove(),n.add((()=>{0===a&&i(o)})))};return i=>{if(null!=i){a++,o=i,o[r.OJ_SLOT_REMOVE]=l;const e=i.parentElement;r.patchSlotParent(e),t(i)}else if(a--,a<0)throw new s.JetElementError(e,"Slot replacer count underflow")}}(e,o,a,i);return n.h((()=>(function(e,t){0===v.size&&(f=document.createElement,document.createElement=y),v.set(e,t)}(l,t),i.add((()=>{return e=l,v.delete(e),void(0===v.size&&(document.createElement=f));var e})),n.h(l,{ref:c,key:l}))),null)}function y(e,t){return e.startsWith("@oj_s")?v.get(e):f.call(document,e,t)}class E{parkNode(e){this._getLot().appendChild(e),a.Components&&a.Components.subtreeHidden(e)}disposeNodes(e,t){E._iterateSlots(e,(e=>{const i=e.parentElement;this._lot===i?(t(e),this._lot.removeChild(e)):i||t(e)}))}disconnectNodes(e){E._iterateSlots(e,(e=>{this._lot===e.parentElement&&this._lot.removeChild(e)}))}reconnectNodes(e){E._iterateSlots(e,(e=>{e.parentElement||this._lot.appendChild(e)}))}isParked(e){return(null==e?void 0:e.parentElement)===this._lot}_getLot(){if(!this._lot){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),this._lot=e}return this._lot}static _iterateSlots(e,t){Object.keys(e).forEach((i=>{e[i].forEach((e=>{t(e)}))}))}}const w=new E,C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(e,t,i){"-"===t[0]?e.setProperty(t,i):null==i?e[t]="":"number"!=typeof i||C.test(t)?e[t]=i:e[t]=i+"px"}function I(e,t,i,n,s){let o;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||S(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||S(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])if(o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e._listeners||(e._listeners={}),e._listeners[t+o]=i,i){if(!n){const i=o?T:A;e.addEventListener(t,i,o)}}else{const i=o?T:A;e.removeEventListener(t,i,o)}else if("dangerouslySetInnerHTML"!==t){if(s)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function A(e){this._listeners[e.type+!1](n.options.event?n.options.event(e):e)}function T(e){this._listeners[e.type+!0](n.options.event?n.options.event(e):e)}class O{constructor(){this._queue=[]}add(e){this._queue.push(e)}flush(){this._queue.forEach((e=>e())),this._queue=[]}}const P=Symbol(),D=Symbol(),R=Symbol(),x=new Set,N=Symbol(),k=Symbol();class L{constructor(e,t,i,o,a,r){this.ref=n.createRef(),this._isPatching=!1,this._props={ref:this.ref},this._verifyingState=M.Unset,this._earlySets=[],this._eventQueue=[],this._isRenderQueued=!1,this._executeOnCommit=new O,this._state=s.CustomElementUtils.getElementState(e),this._element=e,this._metadata=i,this._component=t,this._controlledProps=(null==a?void 0:a.length)>0?new Set(a):x,this._controlledAttrs=(null==o?void 0:o.length)>0?new Set(o):x,this._defaultProps=r,this._rootPatchCallback=this._patchRootElement.bind(this)}connectedCallback(){this._verifyConnectDisconnect(M.Connect)}disconnectedCallback(){this._verifyConnectDisconnect(M.Disconnect)}attributeChangedCallback(e,t,i){if(!this._isPatching&&this._state.canHandleAttributes()){const n=s.AttributeUtils.attributeToPropertyName(e),o=n.split(".")[0];if(this._state.dirtyProps.has(o))this._state.dirtyProps.delete(o);else if(t===i)return;null===i&&(i=void 0),"knockout"===this._state.getBindingProviderType()&&(s.AttributeUtils.isGlobalOrData(n)||this._element.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:e,value:i,previousValue:t}})));const[a,r,l]=this._getPropValuePair(e,i);a&&this._updatePropsAndQueueRenderAsNeeded(a,r,l)}}getProperty(e){var t;if(o.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties)){let t=s.CustomElementUtils.getPropertyValue(this._props,e);return void 0===t&&this._defaultProps&&(t=s.CustomElementUtils.getPropertyValue(this._defaultProps,e)),t}return this._element[e]}setProperty(e,t){var i;if(this._isPatching)return;const n=o.getPropertyMetadata(e,null===(i=this._metadata)||void 0===i?void 0:i.properties);n?this._state.allowPropertySets()?(t=s.transformPreactValue(this._element,n,t),this._updatePropsAndQueueRenderAsNeeded(e,t,n)):this._earlySets.push({property:e,value:t}):this._element[e]=t}setProperties(e){this._isPatching||Object.keys(e).forEach((t=>{this.setProperty(t,e[t])}))}getProps(){return this._props}isInitialized(){return!!this._vdom}appendChildHelper(e,t){return s.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.appendChild.call(e,t):t}insertBeforeHelper(e,t,i){return s.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.insertBefore.call(e,t,i):t}_render(){var e;if(!this._vdom){this._initializePropsFromDom();const t=this._metadata.events;t&&this._initializeActionCallbacks(t);const i=null===(e=this._metadata.extension)||void 0===e?void 0:e._WRITEBACK_PROPS;i&&this._initializeWritebackCallbacks(i),this._playbackEarlyPropertySets()}const t=this._state.getTranslationBundleMap();this._rootEnvironment||(this._rootEnvironment={user:{locale:l.getLocale()},translations:t}),this._layerContext||(this._layerContext={getHost:d.getLayerHost.bind(null,this._element)});const i=n.h(this._component,this._props),s=n.h(c.RootEnvironmentProvider,{environment:this._rootEnvironment,children:i});this._vdom=n.h(u.LayerContext.Provider,{value:this._layerContext,children:s});const o=i.props;o[P]=this._element,o[D]=this._rootPatchCallback,o[R]=this._executeOnCommit,this._isPatching=!0,n.render(this._vdom,this._element),this._isPatching=!1}_getPropValuePair(e,t){var i,n;if("knockout"!==this._state.getBindingProviderType()||!s.AttributeUtils.getExpressionInfo(t).expr){const a=s.AttributeUtils.attributeToPropertyName(e),r=o.getPropertyMetadata(a,null===(i=this._metadata)||void 0===i?void 0:i.properties);if(r)return r.readOnly?[null,null,null]:[a,s.AttributeUtils.attributeToPropertyValue(this._element,e,t,r),r];const l=s.AttributeUtils.getGlobalPropForAttr(e);if(this._controlledProps.has(l))return[l,null!==(n=this[l])&&void 0!==n?n:t,null]}return[null,null,null]}_updatePropsAndQueueRenderAsNeeded(e,t,i,n=!0){const o=this.getProperty(e);if(i&&s.ElementUtils.comparePropertyValues(i,t,o))return;const r=e.split("."),l=r[0],c=r.length>1;let d=this.getProperty(l);if(a.CollectionUtils.isPlainObject(d)&&(d=a.CollectionUtils.copyInto({},d,void 0,!0)),n&&this._verifyProps(e,t,i),this._updateProps(r,t),!n||this._state.allowPropertyChangedEvents()&&!s.AttributeUtils.isGlobalOrData(e)){this._state.dirtyProps.add(l);const i=n?"external":"internal",s={value:this.getProperty(l),previousValue:d,updatedFrom:i};c&&(s.subproperty={path:e,value:t,previousValue:o});const a=l+"Changed",r=c?null:e=>{if("propChange"!==e.kind||e.type!==a||e.detail.subproperty)return null;const t=Object.assign({},s,{previousValue:e.detail.previousValue});return{type:a,detail:t,collapse:r,kind:"propChange"}};this._queueFireEventsTask({type:a,detail:s,collapse:r,kind:"propChange"})}const u=this._oldRootProps;u&&this._controlledProps.has(e)&&(u[e]=t),this._queueRender(this._vdom&&!(null==i?void 0:i.readOnly))}_queueRender(e){e&&!this._isRenderQueued&&(this._isRenderQueued=!0,window.queueMicrotask((()=>{this._isRenderQueued=!1,this._render()})))}_verifyProps(e,t,i){if(i){if(i.readOnly)throw new s.JetElementError(this._element,`Read-only property '${e}' cannot be set.`);try{o.checkEnumValues(this._element,e,t,i)}catch(e){throw new s.JetElementError(this._element,e.message)}}}_updateProps(e,t){var i,n;const s=e[0];let o=this._props;if(e.length>1){const e=null!==(i=this._props[s])&&void 0!==i?i:null===(n=this._defaultProps)||void 0===n?void 0:n[s];e&&a.CollectionUtils.isPlainObject(e)?o[s]=a.CollectionUtils.copyInto({},e,void 0,!0):o[s]={}}for(;e.length;){const i=e.shift();0===e.length?o[i]=t:o[i]||(o[i]={}),o=o[i]}}_queueFireEventsTask(e){let t=e;const i=this._getEventCollapseInfo(e,this._eventQueue);if(i){const[e,n]=i;this._eventQueue.splice(e,1),t=n}return this._eventQueue.push(t),this._queuedEvents||(this._queuedEvents=new Promise((e=>{window.queueMicrotask((()=>{try{for(;this._eventQueue.length;){const e=this._eventQueue.shift(),t="propChange"===e.kind?new CustomEvent(e.type,{detail:e.detail}):e.event;this._element.dispatchEvent(t)}}finally{e(),this._queuedEvents=null}}))}))),this._queuedEvents}_getEventCollapseInfo(e,t){var i;if("propChange"!==e.kind)return null;for(let n=0;n<t.length;n++){const s=null===(i=e.collapse)||void 0===i?void 0:i.call(e,t[n]);if(s)return[n,s]}return null}_verifyConnectDisconnect(e){this._verifyingState===M.Unset&&window.queueMicrotask((()=>{this._verifyingState===e&&(this._verifyingState===M.Connect?this._verifiedConnect():this._verifiedDisconnect()),this._verifyingState=M.Unset})),this._verifyingState=e}_verifiedConnect(){if(this._state.isComplete())this._reconnectSlots();else if(this._state.startCreationCycle(),this._state.isCreating()){const e=()=>{this._element[s.CHILD_BINDING_PROVIDER]="preact";let e=this._state.getSlotMap();if(e)this._reconnectSlots();else{e=this._state.getSlotMap(!0);const t=this._removeAndConvertSlotsToProps(e);Object.assign(this._props,t)}this._render()};this._state.setCreateCallback(e),this._state.setBindingsDisposedCallback((()=>this._handleBindingsDisposed()))}}_verifiedDisconnect(){this._state.isComplete()?(this._disconnectSlots(),this._state.resetCreationCycle(),n.render(null,this._element),this._applyRef(this._oldRootRef,null),this._oldRootRef=void 0,this._vdom=null):this._state.pauseCreationCycle()}_initializePropsFromDom(){const e=this._element.attributes;for(let t=0;t<e.length;t++){const{name:i,value:n}=e[t],[s,o,a]=this._getPropValuePair(i,n);s&&(this._verifyProps(s,o,a),this._updateProps(s.split("."),o))}}_playbackEarlyPropertySets(){for(var e;this._earlySets.length;){const t=this._earlySets.shift(),i=o.getPropertyMetadata(t.property,null===(e=this._metadata)||void 0===e?void 0:e.properties),n=s.transformPreactValue(this._element,i,t.value);this.setProperty(t.property,n)}}_patchRootElement(e){var t;const i=this._oldRootProps||this._getInitialRootProps(),n=e.props;!function(e,t,i,n,s,o){let a;for(a in i)"children"===a||"key"===a||a in t||o(e,a,null,i[a],n)||I(e,a,null,i[a],n);for(a in t)"children"===a||"key"===a||"value"===a||"checked"===a||i[a]===t[a]||o(e,a,t[a],i[a],n)||I(e,a,t[a],i[a],n)}(this._element,n,i,!1,0,L._setPropertyOverrides);const s=e.ref;this._oldRootRef!==s&&(this._applyRef(s,this._element),s&&(null===(t=this._oldRootRef)||void 0===t||t.call(this,null))),this._oldRootProps=n,this._oldRootRef=s}_applyRef(e,t){e&&("function"==typeof e?e(t):e.current=t)}static _setPropertyOverrides(e,t,i,n){if("style"===t&&"string"==typeof i)throw new Error("CSS style must be an object. CSS text is not supported");if("class"===t||"className"===t){const t=null==n?x:s.CustomElementUtils.getClassSet(n),o=null==i?x:s.CustomElementUtils.getClassSet(i);for(const i of t.values())o.has(i)||e.classList.remove(i);for(const i of o.values())t.has(i)||e.classList.add(i);return!0}if("o"===t[0]&&"n"===t[1]){const s=t!==(t=t.replace(/Capture$/,"")),o=t.toLowerCase();o in e&&(t=o),t=t.slice(2),L._getRootListeners(e,s)[t]=i;const a=s?L._eventProxyCapture:L._eventProxy;return i?n||e.addEventListener(t,a,s):e.removeEventListener(t,a,s),!0}return"role"===t&&(i?e.setAttribute(t,i):e.removeAttribute(t),!0)}static _getRootListeners(e,t){const i=t?k:N;let n=e[i];return n||(n=e[i]={}),n}_getInitialRootProps(){const e={};for(const t of this._controlledProps.values())t in this._props&&(e[t]=this._props[t]);return e}_removeAndConvertSlotsToProps(e){var t,i;const n=null===(t=this._metadata.extension)||void 0===t?void 0:t._DYNAMIC_SLOT,s=null==n?void 0:n.prop,a=null===(i=this._metadata)||void 0===i?void 0:i.slots,r=Object.keys(e),l={};if(r.length>0&&r.forEach((t=>{const i=e[t];i.forEach((e=>{w.parkNode(e)}));const r=o.getPropertyMetadata(t,a);if(r){const e=!!(null==r?void 0:r.data),n=e||""!==t?t:"children";this._assignSlotProperty(l,n,void 0,t,e,i)}else{if(!s)return;l[s]||(l[s]={});const e=n.isTemplate;this._assignSlotProperty(l,t,s,t,e,i)}})),"knockout"===this._state.getBindingProviderType()){let e;for(;e=this._element.firstChild;)this._state.getBindingProviderCleanNode()(e),e.remove()}return l}_assignSlotProperty(e,t,i,n,o,a){var r,l;const c=i?e[i]:e;if(o){if("TEMPLATE"!==(null===(r=a[0])||void 0===r?void 0:r.nodeName))throw new s.JetElementError(this._element,`Slot content for template slot ${n} must be a template element.`);{const e=a[0];c[t]=null!==(l=e.render)&&void 0!==l?l:this._getSlotRenderer(e,t,i)}}else{const e=a.map(((e,t)=>b(this._element,e,this._executeOnCommit,this._handleSlotMount.bind(this),this._handleSlotUnmount.bind(this))));c[t]=e}}_getSlotRenderer(e,t,i){const n=this._state.getBindingProvider(),o=n?()=>{(i?this._props[i]:this._props)[t]=this._getSlotRenderer(e,t,i),this._queueRender(!0)}:null;return t=>{const i=this._state.getTemplateEngine();if(!i)throw new s.JetElementError(this._element,"Unexpected call to render a template slot");return i.execute(this._element,e,t,n,o)}}_handleBindingsDisposed(){w.disposeNodes(this._state.getSlotMap(),this._state.getBindingProviderCleanNode()),this._state.disposeTemplateCache()}_disconnectSlots(){w.disconnectNodes(this._state.getSlotMap())}_reconnectSlots(){w.reconnectNodes(this._state.getSlotMap())}_handleSlotUnmount(e){this._state.isComplete()&&w.parkNode(e)}_handleSlotMount(e){var t;const i=null===(t=a.Components)||void 0===t?void 0:t.subtreeShown;i&&(e.isConnected?i(e):this._executeOnCommit.add((()=>i(e))))}static _eventProxy(e){this[N][e.type](n.options.event?n.options.event(e):e)}static _eventProxyCapture(e){this[k][e.type](n.options.event?n.options.event(e):e)}_initializeActionCallbacks(e){Object.keys(e).forEach((t=>{const i=e[t],n=s.AttributeUtils.eventTypeToEventListenerProperty(t);this._props[n]=e=>{const n=Object.assign({},e),s=!!i.cancelable,o=[];s&&(n.accept=e=>{o.push(e)});const a={detail:n,bubbles:!!i.bubbles,cancelable:s},r=new CustomEvent(t,a),l=this._queueFireEventsTask({event:r,kind:"action"});if(s)return l.then((()=>r.defaultPrevented?Promise.reject():Promise.all(o).then((()=>Promise.resolve()),(e=>Promise.reject(e)))))}}))}_initializeWritebackCallbacks(e){e.forEach((e=>{var t;const i=s.AttributeUtils.propertyNameToChangedCallback(e),n=o.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties);this._props[i]=t=>{this._updatePropsAndQueueRenderAsNeeded(e,t,n,!1)}}))}}var M;!function(e){e[e.Connect=0]="Connect",e[e.Disconnect=1]="Disconnect",e[e.Unset=2]="Unset"}(M||(M={}));const j=new class{constructor(){this.appendChildHelper=(e,t)=>HTMLElement.prototype.appendChild.call(e,t),this.insertBeforeHelper=(e,t,i)=>HTMLElement.prototype.insertBefore.call(e,t,i)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,i){}getProperty(e){}setProperty(e,t){}setProperties(e){}};class U extends HTMLElement{static get observedAttributes(){let e=[];return this.metadata.properties&&(e=e.concat(o.getFlattenedAttributes(this.metadata.properties))),this.rootObservedAttributes&&(e=e.concat(this.rootObservedAttributes)),e}connectedCallback(){this._getHelper().connectedCallback()}disconnectedCallback(){var e;null===(e=this._helper)||void 0===e||e.disconnectedCallback()}attributeChangedCallback(e,t,i){var n;null===(n=this._helper)||void 0===n||n.attributeChangedCallback(e,t,i)}getProperty(e){return this._getHelper().getProperty(e)}setProperty(e,t){this._getHelper().setProperty(e,t)}setProperties(e){this._getHelper().setProperties(e)}appendChild(e){return this._getHelper().appendChildHelper(this,e)}insertBefore(e,t){return this._getHelper().insertBeforeHelper(this,e,t)}setAttribute(e,t){if("class"===e){const e=s.CustomElementUtils.getClassSet(t);s.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)}removeAttribute(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)}_getHelper(){return this._helper||(this.hasAttribute("data-oj-jsx")?(this.removeAttribute("data-oj-jsx"),this.classList.add("oj-complete"),this._helper=j):this._helper=new L(this,this.constructor.component,this.constructor.metadata,this.constructor.rootObservedAttributes,this.constructor.rootObservedProperties,this.constructor.defaultProps)),this._helper}}const F=new Set(["ar","ar-XB","bg","bs","bs-Cyrl","cs","da","de","el","en","en-XA","en-XC","es","et","fi","fr","fr-CA","he","hr","hu","is","it","ja","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","th","tr","uk","vi","zh-Hans","zh-Hant"]);class V extends s.ElementState{constructor(e){super(e),this._translationBundleMap={}}getTranslationBundleMap(){return this._translationBundleMap}getTemplateEngine(){return V._cachedTemplateEngine}getTrackChildrenOption(){return"immediate"}allowPropertyChangedEvents(){return super.allowPropertyChangedEvents()&&(e=>{var t;const i=this.Element._getHelper();return!!(null===(t=i.isInitialized)||void 0===t?void 0:t.call(i))})()}disposeTemplateCache(){var e;const t=this.getSlotMap(),i=Object.keys(t),n=s.CustomElementUtils.getElementDescriptor(this.Element.tagName).metadata,a=null===(e=null==n?void 0:n.extension)||void 0===e?void 0:e._DYNAMIC_SLOT,r=!!(null==a?void 0:a.isTemplate);i.filter((e=>{const t=o.getPropertyMetadata(e,null==n?void 0:n.slots);if(t){if(t.data)return!0}else if(r)return!0;return!1})).forEach((e=>{var i;const n=t[e];"TEMPLATE"===(null===(i=n[0])||void 0===i?void 0:i.nodeName)&&this.getTemplateEngine().cleanupTemplateCache(n[0])}))}GetPreCreatedPromise(){let e=super.GetPreCreatedPromise();return this.Element.constructor.translationBundleMap&&(e=e.then((()=>this._getTranslationBundlesPromise()))),!V._cachedTemplateEngine&&this._hasDirectTemplateChildren()?e.then((()=>this._getTemplateEnginePromise())):e}IsTransferAttribute(e){return this.Element.constructor.rootObservedAttrSet.has(e)}GetDescriptiveTransferAttributeValue(e){return((e,t)=>{var i;const n=e.getAttribute(t);if(n)return n;const s=e._getHelper();return((null===(i=s.getProps)||void 0===i?void 0:i.call(s))||{})[t]})(this.Element,e)}_getTranslationBundlesPromise(){void 0===V._translationBundleLocale&&(V._translationBundleLocale=h.matchTranslationBundle([l.getLocale()],F));const e=this.Element.constructor.translationBundleMap,t=Object.keys(e),i=[];return t.forEach((t=>{if(!V._bundlePromiseCache[t]){const i=e[t];V._bundlePromiseCache[t]=i(V._translationBundleLocale)}i.push(V._bundlePromiseCache[t])})),Promise.all(i).then((e=>{t.forEach(((t,i)=>{this._translationBundleMap[t]=e[i]}))}))}_getTemplateEnginePromise(){return new Promise((function(t,i){e(["ojs/ojvcomponent-template"],(function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach((function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})})),t.default=e,t}(e))}),i)})).then((e=>{V._cachedTemplateEngine=e}))}_hasDirectTemplateChildren(){const e=this.Element.childNodes;for(let t=0;t<e.length;t++)if("template"===e[t].localName)return!0;return!1}}V._bundlePromiseCache={};const B=()=>{throw new Error("The Root component should only be used as the top-level return from a VComponent render function.  It will be rewritten by VComponent code so Preact will never actually render it unless it appears in an invalid location.")};function G(e){return function(t){var i;const a=t.metadata,r=(null===(i=null==a?void 0:a.extension)||void 0===i?void 0:i._OBSERVED_GLOBAL_PROPS)||[],l=r.map((e=>s.AttributeUtils.getGlobalAttrForProp(e)));!function(e,t,i,o){const a=t.prototype.render;t.prototype.render=function(t,r,l){var c;const d=null===(c=null==i?void 0:i.extension)||void 0===c?void 0:c._READ_ONLY_PROPS;d&&d.forEach((e=>delete t[e]));const u=t[P],h=!!u;h&&s.CustomElementUtils.getElementState(u).disposeTemplateCache();let p=a.call(this,t,r,l);if((null==p?void 0:p.type)===B&&(p=n.cloneElement(p),p.type=e),(null==p?void 0:p.type)!==e){const o={};return h?p:(o.ref=function(e){e&&(e[s.CustomElementUtils.VCOMP_INSTANCE]={props:t})},o["data-oj-jsx"]="",Object.keys(t).forEach((e=>{z(e,i)&&(o[e]=t[e])})),n.h(e,o,p))}if(!h){const e=null==p?void 0:p.props;t.style&&e.style&&(e.style=Object.assign({},t.style,e.style));const n=t.class;if(n){const t=e.class||"";e.class=`${n} ${t}`}return e["data-oj-jsx"]="",Object.keys(t).forEach((n=>{n in e||o.has(n)||!z(n,i)||(e[n]=t[n])})),p}return t[D](p),n.h(n.Fragment,{},null==p?void 0:p.props.children)}}(e,t,a,new Set(r)),function(e){const t=e.prototype,i=t.componentDidMount,n=t.componentDidUpdate;t.componentDidMount=function(){H.call(this),null==i||i.call(this)},t.componentDidUpdate=function(...e){H.call(this),null==n||n.apply(this,e)}}(t),function(e,t,i,n,a,r){class l extends U{}l.metadata=t||{},l.component=i,l.rootObservedAttributes=a,l.rootObservedAttrSet=new Set(a),l.rootObservedProperties=n,l.defaultProps=i.defaultProps?o.deepFreeze(i.defaultProps):null,l.translationBundleMap=r,function(e,t){if(t)for(let i in t)Object.defineProperty(e,i,{get(){return this.getProperty(i)},set(e){this.setProperty(i,e)}})}(l.prototype,null==t?void 0:t.properties),function(e,t){if(t)for(let i in t)e[i]=function(){if(this._helper===j)throw new s.JetElementError(this,"Cannot access element methods when rendered as a value based element.");const e=this._helper.ref.current;if(!e)throw new s.JetElementError(this,"Cannot access methods before element is upgraded.");return e[i].apply(e,arguments)}}(l.prototype,null==t?void 0:t.methods),s.CustomElementUtils.registerElement(e,{descriptor:{metadata:t},stateClass:V,vcomp:!0},l)}(e,a,t,r,l,t.translationBundleMap)}}function H(){const e=this.props[R];e&&e.flush()}function z(e,t){return"className"===e||s.AttributeUtils.isGlobalOrData(e)||function(e,t){var i,n;if(null===(i=null==t?void 0:t.properties)||void 0===i?void 0:i[e])return!1;const s=e.match(W);if(s){const e=s[1].toLowerCase()+s[2];return!(null===(n=null==t?void 0:t.events)||void 0===n?void 0:n[e])}return!1}(e,t)}const W=/^on(?!.*Changed$)([A-Za-z])([A-Za-z]*)$/;"undefined"!=typeof window&&(HTMLTemplateElement.prototype.hasOwnProperty("render")||Object.defineProperty(HTMLTemplateElement.prototype,"render",{value:null,writable:!0}));const q=s.ElementUtils.getUniqueId.bind(null,null);t.Root=B,t.customElement=G,t.getUniqueId=q,t.method=function(e,t,i){},t.registerCustomElement=function(e,t,i){class s extends n.Component{render(){return t(arguments[0])}}return s.displayName=arguments[2],arguments.length>=4&&arguments[3]&&(s.metadata=arguments[3],arguments.length>=5&&arguments[4]&&(s.defaultProps=arguments[4])),arguments.length>=6&&(s.translationBundleMap=arguments[5]),G(e)(s),s},Object.defineProperty(t,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojmenu",["jquery","ojs/ojjquery-hammer","ojs/ojpopupcore","ojs/ojoption","ojs/ojcore-base","hammerjs","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojlogger","ojs/ojconfig","ojs/ojcustomelement-utils"],(function(e,t,i,n,s,o,a,r,l,c,d,u,h){"use strict";var p;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,function(){var t=[],n=!1,p="oj-menu-position";const m={dropdown:{open:"--oj-private-menu-global-drop-down-open-animation",close:"--oj-private-menu-global-drop-down-close-animation"},sheet:{open:"--oj-private-menu-global-sheet-open-animation",close:"--oj-private-menu-global-sheet-close-animation"},submenu:{open:"--oj-private-menu-global-submenu-open-animation",close:"--oj-private-menu-global-submenu-close-animation"}};var f=s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.MAC&&s.AgentUtils.getAgentInfo().browser===s.AgentUtils.BROWSER.SAFARI,g="menuItem"===r.getCachedCSSVarValues(["--oj-private-menu-global-sheet-cancel-affordance"])[0],v="dismiss"===r.getCachedCSSVarValues(["--oj-private-menu-global-sheet-swipe-down-behavior"])[0],_=r.getCachedCSSVarValues(["--oj-private-menu-global-drop-down-modality"])[0]||"modeless",b=r.getCachedCSSVarValues(["--oj-private-menu-global-sheet-modality"])[0]||"modal",y="bottom-"+(r.getCachedCSSVarValues(["oj-private-menu-global-sheet-margin-bottom"])[0]||0),E=v&&{recognizers:[[o.Swipe,{direction:o.DIRECTION_HORIZONTAL}]]};const w=-(.5*parseInt(window.getComputedStyle(document.documentElement).fontSize,10)+1);function C(t){var i,n=[],s=t.children("oj-defer").first();i=s.length>0?s.children(".oj-menu-item, oj-menu-select-many"):t.children(".oj-menu-item, oj-menu-select-many");for(var o=0;o<i.length;o++){var a=e(i[o]);a.is(".oj-menu-item")?n.push(a[0]):"OJ-MENU-SELECT-MANY"===a[0].nodeName&&(n=e.merge(n,a.children(".oj-menu-item")))}return n}s.__registerWidget("oj.ojMenu",e.oj.baseComponent,{defaultElement:"<ul>",delay:300,role:"menu",widgetEventPrefix:"oj",options:{menuSelector:"ul",openOptions:{display:"auto",initialFocus:"menu",launcher:null,position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flipfit"}},submenuOpenOptions:{position:{my:"start top",at:"end top",collision:"flipfit"}},animateStart:null,animateEnd:null,beforeOpen:null,close:null,open:null,action:null,menuAction:null},_ComponentCreate:function(){if(this._super(),this._focusForTesting=this._focus,this._nextForTesting=this._next,this._selectForTesting=this._select,this._IsCustomElement()){this.element.hide();var e=this.options;e.openOptions.position=s.PositionUtils.coerceToJet(e.openOptions.position);var t=this.element[0].querySelector("oj-defer");t&&t.setAttribute("data-oj-context",!0)}else this._createAsTopLevelMenu()},_preventDefault:function(e){this.options.disabled&&e.preventDefault()},_createAsTopLevelMenu:function(){var t=this;this.activeMenu=this.element,this.mouseHandled=!1,this._setupSwipeBehavior(),this.element.uniqueId().addClass("oj-menu oj-component").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._on(!0,{"mousedown .oj-menu-item":this._preventDefault,click:this._preventDefault,keydown:function(t){this.options.disabled&&(t.keyCode!==e.ui.keyCode.ESCAPE&&t.keyCode!==e.ui.keyCode.TAB||(t.keyCode===e.ui.keyCode.TAB&&t.preventDefault(),this._focusLauncherAndDismiss(t)))}}),this.options.disabled&&this.element.addClass("oj-disabled").attr("aria-disabled","true");var i=function(t){if(!this.focusHandled){this.focusHandled=!0;var i=e(t.currentTarget);try{this._focusIsFromPointer=!0,this._focus(t,i)}finally{this._focusIsFromPointer=!1}}}.bind(this),n=function(t){e(t.target).is(":visible")&&this._collapse(t,"eventSubtree")}.bind(this);this._touchStartHandler=function(t){this.focusHandled=!1;var i=e(t.currentTarget);this._focus(t,i)}.bind(this),this.element[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this._delegatedHandleMouseEnterMenuItem=function(t){const n=t.currentTarget,s=t.target.closest(".oj-menu-item");s&&n.contains(s)&&i(e.Event(t,{currentTarget:s}))},this.element[0].addEventListener("touchstart",this._delegatedHandleMouseEnterMenuItem,{passive:!0}),this._on({"click .oj-disabled > a":function(e){e.preventDefault()},click:function(){this.mouseHandled=!1},mouseover:function(){this.focusHandled=!1},"click .oj-menu-item:has(a)":function(t){var i=e(t.target).closest(".oj-menu-item");if(!this.mouseHandled&&i.not(".oj-disabled").length){if(this.mouseHandled=!0,t.preventDefault(),this.active&&this.active.closest(i).length&&this.active.get(0)!==i.get(0))return;i.has(".oj-menu").length?this._expand(t):(this._select(t),this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".oj-menu").length&&this._clearTimer&&this._clearTimer()))}},"mouseenter .oj-menu-item":i,mouseleave:n,"mouseleave .oj-menu":n,focus:function(t,i){if(!(i||t.target===this.element[0]||this._focusSkipLink&&t.target===this._focusSkipLink.getLink()[0])){var n=this.active||e(C(this.element)).first(0);this._focus(t,n)}},keydown:this._keydown,keyup:function(t){t.keyCode!==e.ui.keyCode.ENTER&&t.keyCode!==e.ui.keyCode.SPACE||(this.__spaceEnterDownInMenu=!1)}}),this._focusable({applyHighlight:!f,recentPointer:function(){return t._focusIsFromPointer},setupHandlers:function(e,i){t._focusInHandler=e,t._focusOutHandler=i}}),this._usingCallback=e.proxy(this._usingHandler,this),this._setup()},_createAsSubmenu:function(){this.element.attr(l._OJ_CONTAINER_ATTR,this.widgetName),this.element.uniqueId().addClass("oj-menu oj-component oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._setup()},__contextMenuPressHoldJustEnded:function(e){if(!arguments.length)return n;n=e},_processOjOptions:function(){this._maxEndIconCount=0,this._maxStartIconCount=0,this._startIconWidth=0,this._endIconWidth=0;var t=function(t){var i,n=[],s=t.children("oj-defer").first();i=s.length>0?s.children("oj-option, oj-menu-select-many"):t.children("oj-option, oj-menu-select-many");for(var o=0;o<i.length;o++){var a=e(i[o]);"OJ-OPTION"===a[0].nodeName?n.push(a[0]):"OJ-MENU-SELECT-MANY"===a[0].nodeName&&(n=e.merge(n,a.children("oj-option")))}return e(n)}(this.element);this._clearOption(t);for(var i=0;i<t.length;i++)t[i].customOptionRenderer=this._customOptionRenderer.bind(this)},_customOptionRenderer:function(t){function i(e){if(e.previousElementSibling&&"OJ-OPTION"===e.previousElementSibling.nodeName)return e.previousElementSibling;if(e.previousElementSibling&&"OJ-MENU-SELECT-MANY"===e.previousElementSibling.nodeName){var t=e.previousElementSibling.lastElementChild;return"OJ-OPTION"===t.nodeName?t:t.previousElementSibling?t.previousElementSibling:i(t)}return e.previousElementSibling||"OJ-MENU-SELECT-MANY"!==e.parentElement.nodeName?void 0:i(e.parentElement)}function n(e){return e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName?e.nextElementSibling:e.nextElementSibling&&"OJ-MENU-SELECT-MANY"===e.nextElementSibling.nodeName?e.nextElementSibling.firstElementChild:e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName||"OJ-MENU-SELECT-MANY"!==e.parentElement.nodeName?void 0:n(e.parentElement)}var s=e(t),o="OJ-MENU-SELECT-MANY"===s.parent().prop("nodeName"),a=this;this._hasSubmenus=!1;for(var r,l,c,d,u=s.children('a[ojmenu="opt"]'),p=0;p<u.length;p++)(r=e(u[p])).children().removeClass("oj-menu-item-icon").removeClass("oj-menu-item-end-icon"),r.replaceWith(r.contents());if(s.children('span[ojmenu="opt"]').remove(),/[^\-\u2014\u2013\s]/.test(s.text())||0!==s.children().length){this._initMenuItems(s);var m=document.createElement("a");m.setAttribute("href","#"),m.setAttribute("ojmenu","opt"),(r=e(m)).uniqueId().attr({tabIndex:"-1",role:this._itemRole(s)}),o&&(r.attr("aria-checked","false"),(l=t).previousElementSibling||i(l)||e(l).addClass("oj-top"),l.nextElementSibling&&"OJ-OPTION"===l.nextElementSibling.nodeName||n(l)||e(l).addClass("oj-bottom")),s.prepend(m);var f=h.CustomElementUtils.getSlotMap(t),g=f.startIcon;if(g||o){if(o){var v=document.createElement("span");v.setAttribute("slot","startIcon"),v.setAttribute("ojmenu","opt"),v.setAttribute("class","oj-menucheckbox-icon"),g?g.splice(0,0,v):g=[v]}var _=g.length;a._maxStartIconCount=Math.max(a._maxStartIconCount,_),e.each(g,(function(t,i){e(i).addClass("oj-menu-item-icon"),r.append(i),_>1&&a._positionStartIcon(i,t,_)}))}var b=0,y=f.endIcon;y&&(b=y.length,a._maxEndIconCount=Math.max(a._maxEndIconCount,b));var E=f[""];e.each(E,(function(t,i){e(i).is("oj-menu")?(a._setupSubmenu(r,e(i),0===b),a._hasSubmenus=!0):r.append(i)})),y&&e.each(y,(function(t,i){e(i).addClass("oj-menu-item-end-icon"),r.append(i),b>1&&a._positionEndIcon(i,t,b)})),t.disabled?(s.addClass("oj-disabled"),r.attr("aria-disabled","true")):(s.removeClass("oj-disabled"),r.removeAttr("aria-disabled"))}else this._initDividers(s),(d=i(c=t))&&e(d).addClass("oj-menu-item-before-divider"),(d=n(c))&&e(d).addClass("oj-menu-item-after-divider");this._updateMenuPadding(this.element)},_positionStartIcon:function(t,i,n){var s;s=this.isRtl?"margin-right":"margin-left";var o=Number(e(t).attr("data-oj-default-margin"));isNaN(o)&&(o=parseInt(e(t).css(s),10),e(t).attr("data-oj-default-margin",o)),this._startIconWidth=-1*o,e(t).css(s,o*(n-i)+"px")},_positionEndIcon:function(t,i,n){var s,o;this.isRtl?(s="margin-left",o="margin-right"):(s="margin-right",o="margin-left");var a=Number(e(t).attr("data-oj-default-margin"));isNaN(a)&&(a=parseInt(e(t).css(s),10),e(t).attr("data-oj-default-margin",a)),this._endIconWidth=-1*parseInt(e(t).css(o),10),e(t).css(s,a+this._endIconWidth*(n-i-1)+"px")},_updateMenuPadding:function(t){var i=e(C(t)).children();i.each((function(){let t=e(this).children(".oj-menu-item-icon:not(.oj-menu-cancel-icon)").length,i=e(this).children(".oj-menu-item-end-icon").length||e(this).children(".oj-menu-submenu-icon").length;0===t&&0===i?e(this).addClass("oj-menu-option-text-only"):(t>0&&e(this).addClass("oj-menu-option-start-icon"),i>0&&e(this).addClass("oj-menu-option-end-icon"))})),this._maxStartIconCount&&this._maxStartIconCount>1&&this._applyAnchorIconPadding(i,this._startIconWidth,this._maxStartIconCount,!0),this._maxEndIconCount&&this._maxEndIconCount>1&&this._applyAnchorIconPadding(i,this._endIconWidth,this._maxEndIconCount,!1)},_applyAnchorIconPadding:function(t,i,n,s){var o;o=this.isRtl&&s||!this.isRtl&&!s?"padding-right":"padding-left",t.each((function(){var t=Number(e(this).attr("data-oj-default-padding"));isNaN(t)&&(t=parseInt(e(this).css(o),10),e(this).attr("data-oj-default-padding",t)),e(this).css(o,t+i*(n-1)+"px")}))},_clickAwayHandler:function(i){if("focus"===i.type||"mousedown"===i.type||"touchstart"===i.type||121===i.keyCode&&i.shiftKey||93===i.keyCode){if("mousedown"===i.type&&n)return;var s=this,o=t.slice(0,t.length);e.each(o,(function(t,n){if(!e(i.target).closest(n.element).length&&("keydown"===i.type||"mousedown"===i.type&&3===i.which||!e(i.target).closest(n._launcher).length||n._isContextMenu&&("mousedown"===i.type&&3!==i.which||"touchstart"===i.type))&&!n._dismissEvent){n._dismissEvent=i;var o=n._collapse(i,"eventSubtree");s._runOnPromise(o,(function(){n.__dismiss(i),n._dismissEvent=null}))}}))}},_setOption:function(e,t){this._superApply(arguments),"translations"===e&&this._cancelAnchor&&this._cancelAnchor.text(this.options.translations.labelCancel)},_destroy:function(){this.element.is(":visible")&&this.__dismiss(),this._setWhenReady("none"),this._clearTimer&&this._clearTimer(),delete this._clearTimer,this.element[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),delete this._touchStartHandler,this.element[0].removeEventListener("touchstart",this._delegatedHandleMouseEnterMenuItem,{passive:!0}),delete this._delegatedHandleMouseEnterMenuItem,this.element.removeAttr("aria-activedescendant").removeClass("oj-component").find(".oj-menu").addBack().removeClass("oj-menu oj-menu-submenu oj-menu-icons oj-menu-end-icons oj-menu-text-only").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".oj-menu-item").removeClass("oj-menu-item").removeAttr("role").children("a").removeAttr("aria-disabled").removeUniqueId().removeClass("oj-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("oj-ojMenu-submenu-icon")&&t.remove()})),this.element.find("a").removeAttr("aria-expanded"),this.element.find(".oj-menu-divider").removeClass("oj-menu-divider").removeAttr("role"),delete this._popupServiceEvents,delete this._usingCallback;var t=this._clearCloseDelayTimer;delete this._clearCloseDelayTimer,t&&t(),this.element.ojHammer("destroy"),this._super()},_keydown:function(t){var i=!0;function n(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this._previous(t);break;case e.ui.keyCode.DOWN:this._next(t);break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.keyCode===e.ui.keyCode.RIGHT!==this.isRtl?this.active&&!this.active.is(".oj-disabled")&&this._expand(t):this._collapse(t,"active");break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._handleEnterSpace(t),this.__spaceEnterDownInMenu=!0;var s=this;setTimeout((function(){s.__spaceEnterDownInMenu=!1}),100);break;case e.ui.keyCode.TAB:t.preventDefault(),this._focusLauncherAndDismiss(t);break;case e.ui.keyCode.ESCAPE:if(this._launcher){var o=this.element.attr("aria-activedescendant"),a=e(document.getElementById(o)).parents(".oj-menu").first();a.length>0&&a[0]!==this.element[0]?this._collapse(t,"active"):this._focusLauncherAndDismiss(t)}else this._collapse(t,"active");break;default:i=!1;var r=this.previousFilter||"",l=String.fromCharCode(t.keyCode),c=!1;clearTimeout(this.filterTimer),l===r?c=!0:l=r+l;var d=new RegExp("^"+n(l),"i"),u=e(C(this.activeMenu)).filter((function(){return d.test(e(this).children("a").text())}));(u=c&&-1!==u.index(this.active.next())?this.active.nextAll(".oj-menu-item"):u).length||(l=String.fromCharCode(t.keyCode),d=new RegExp("^"+n(l),"i"),u=e(C(this.activeMenu)).filter((function(){return d.test(e(this).children("a").text())}))),u.length?(this._focus(t,u),u.length>1?(this.previousFilter=l,this.filterTimer=setTimeout(function(){delete this.previousFilter}.bind(this),1e3)):delete this.previousFilter):delete this.previousFilter}i&&t.preventDefault()},_handleEnterSpace:function(e){this.active&&!this.active.is(".oj-disabled")&&(this.active.children("a[aria-haspopup='true']").length?this._expand(e):this._select(e))},refresh:function(){function t(t){for(var i=t.element.find("oj-menu:not(.oj-menu-submenu)"),n=0;n<i.length;n++)e(i[n]).attr("aria-hidden","true").hide(),a.getContext(i[n]).getBusyContext().whenReady().then(function(e){e.refresh()}.bind(t,i[n]))}this._super(),this._IsCustomElement()&&!this._wasCreated?(this.element.parent().is("oj-option")&&(this._isSubmenu=!0,this._createAsSubmenu()),this._isSubmenu||(l.subtreeShown(this.element[0]),this._createAsTopLevelMenu(),t(this)),this._wasCreated=!0):(t(this),this._setup()),this._reposition()},_reposition:function(){var t=this.element;if(t.is(":visible")&&!(t[0].getBoundingClientRect().width>document.documentElement.clientWidth)){var i=t.data(p);t[0].style.maxHeight="",t[0].style.overflowY="",this._updateMenuMaxHeight(),t.position(i),t.find(".oj-menu").each((function(){var t=e(this);t.is(":visible")&&(i=t.data(p),t.position(i))}))}},_setup:function(){this.isRtl="rtl"===this._GetReadingDirection(),this._IsCustomElement()?(this._processOjOptions(),this._isSubmenu&&(this.options.openOptions.launcher=this.element.parent()),this._updateMenuPadding(this.element)):this._setupWidgetMenus(),this.active&&!e.contains(this.element[0],this.active[0])&&this._blur()},_setupWidgetMenus:function(){var t=this,i=this.element.find(this.options.menuSelector),n=i.add(this.element),s=n.children();this._hasSubmenus=!!i.length,s.filter(".oj-menu-divider").has("a").removeClass("oj-menu-divider oj-menu-item").removeAttr("role");var o=s.filter(":not(.oj-menu-item):has(a)"),a=o.children("a");this._initMenuItems(o),this._initAnchors(a);var r=s.filter((function(t,i){var n=e(i);return n.is(":not(.oj-menu-item)")&&!/[^\-\u2014\u2013\s]/.test(n.text())}));this._initDividers(r),this._initDividerNeighbors(s,r),s.filter(".oj-disabled").children("a").attr("aria-disabled","true"),s.filter(":not(.oj-disabled)").children("a").removeAttr("aria-disabled"),i.filter(":not(.oj-menu)").addClass("oj-menu oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,"aria-hidden":"true"}).each((function(){var i=e(this);t._setupSubmenu(t._getSubmenuAnchor(i),i,!0)})),n.each((function(){t._updateMenuPadding(e(this))}))},_setupSubmenu:function(t,i,n){var s=0!==t[0].querySelectorAll(".oj-menu-submenu-icon.oj-component-icon").length;if(t.attr("aria-haspopup","true").attr("role","menuitem").attr("aria-expanded","false"),n&&!s){var o=e("<span>");o.addClass("oj-menu-submenu-icon oj-component-icon").data("oj-ojMenu-submenu-icon",!0),t.append(o)}t[0].parentElement.disabled&&i.find("oj-option").attr("disabled",!0),i.attr("aria-labelledby",t.attr("id"))},_initMenuItems:function(e){e.addClass("oj-menu-item").attr("role","presentation")},_initAnchors:function(t){for(var i=0;i<t.length;i++){var n=e(t[i]);n.uniqueId().attr({tabIndex:"-1",role:this._itemRole(n.parent())})}},_initDividers:function(e){e.addClass("oj-menu-divider").attr("role","separator")},_initDividerNeighbors:function(e,t){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider"),t.prev().addClass("oj-menu-item-before-divider"),t.next().addClass("oj-menu-item-after-divider")},_clearOption:function(e){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider oj-menu-divider oj-menu-item").removeAttr("role")},_getSubmenuAnchor:function(e){return e.prev("a")},_getSubmenuWidget:function(e){return l.__GetWidgetConstructor(e,"ojMenu")("instance")},_itemRole:function(e){return"OJ-MENU-SELECT-MANY"===e.parent().prop("nodeName")?"menuitemcheckbox":"menuitem"},_getAdjacentDividers:function(e,t){var i=e.prev(".oj-menu-divider").add(e.next(".oj-menu-divider"));return t&&(i=i.add(e)),i},_focus:function(t,i){var n=this.active?this.active:e();if(!i.is(n)){t&&"focus"===t.type||this._clearTimer&&this._clearTimer(),i=i.first(),this._makeActive(i,t);var s=i.parents(".oj-menu").first(),o=s.closest(".oj-menu-item");s.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),this._getAdjacentDividers(o,!0).addClass("oj-focus-ancestor"),t&&"keydown"===t.type?this._close():this._clearTimer=this._setTimer((function(){return delete this._clearTimer,this._close()}),this._getSubmenuBusyStateDescription("closing"),this.delay);var a=this._IsCustomElement()?i.children("oj-menu"):i.children(".oj-menu"),r=a.length>0&&n.length>0&&e.contains(a[0],n[0]);a.length&&t&&/^mouse|click/.test(t.type)&&!r&&this._startOpening(t,a),this.activeMenu=i.parents(".oj-menu").first()}},_makeActive:function(t,i){if(!t.is(this.active)){var n,s=this.active?this.active:e(),o=t.children("a");this.active=t,this.element.attr("aria-activedescendant",o.attr("id")),this._focusOutHandler(s),this._focusInHandler(t),this._getAdjacentDividers(s).removeClass("oj-focus"),this._getAdjacentDividers(t).addClass("oj-focus"),this._trigger("_activeItem",i,{previousItem:s,item:t,privateNotice:"The _activeItem event is private.  Do not use."}),i&&/^key/.test(i.type)&&((n=o[0].getBoundingClientRect()).top<0||n.bottom>document.documentElement.clientHeight||n.left<0||n.right>document.documentElement.clientWidth)&&o[0].scrollIntoView()}},_removeActive:function(t){if(this.active){var i=this.active;this.active=null,this.element.removeAttr("aria-activedescendant"),this._focusOutHandler(i),this._getAdjacentDividers(i).removeClass("oj-focus"),this._trigger("_activeItem",t,{previousItem:i,item:e(),privateNotice:"The _activeItem event is private.  Do not use."})}},_blur:function(e){this._clearTimer&&this._clearTimer(),this._removeActive(e)},_focusLauncherAndDismiss:function(e,t){this._launcher&&this._launcher.focus(),this.__dismiss(e,t)},close:function(){this.__dismiss()},__dismiss:function(e,t){if(!this._isOperationPending("close","__dismiss",[e,t])&&s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN){var i=this.element.is(":visible");this._setWhenReady("close");var n={};n[s.PopupService.OPTION.POPUP]=this.element,n[s.PopupService.OPTION.CONTEXT]={event:e,selectUi:t,isOpen:i},s.PopupService.getInstance().close(n)}},_getDefaultAnimation:function(e,t){var i=m,n=r.getCachedCSSVarValues([i[e][t]])[0];return JSON.parse(n)},_isAnimationDisabled:function(){return!this._IsCustomElement()||this._disableAnimation},_replaceAnimationOptions:function(e,t){var i=e;if(t&&e&&"string"!=typeof e){for(var n=JSON.stringify(e),s=Object.keys(t),o=0;o<s.length;o++){var a=s[o];n=n.replace(new RegExp(a,"g"),t[a])}i=JSON.parse(n)}return i},_runOnPromise:function(e,t){return e?e.then(t):t()},_beforeCloseHandler:function(e){var t=e[s.PopupService.OPTION.POPUP];if(this._IsCustomElement()){var i=e[s.PopupService.OPTION.CONTEXT],n=i.selectUi;if(n&&n.item.length){var o={},a=n.item[0],r=i.event;o.originalEvent=r.originalEvent;var l={detail:o,cancelable:!0,bubbles:!0},d=new CustomEvent("ojAction",l);a.dispatchEvent(d),l.detail.selectedValue=a.value;var u=new CustomEvent("ojMenuAction",l);this.element[0].dispatchEvent(u),i.event=u}}if(!this._isAnimationDisabled()){var h=this._getDefaultAnimation(this._sheetMenuIsOpen?"sheet":"dropdown","close"),p=c.startAnimation(t[0],"close",s.PositionUtils.addTransformOriginAnimationEffectsOption(t,h),this);return p.then((function(){t.attr("aria-hidden","true").hide()})),p}t.attr("aria-hidden","true").hide()},_afterCloseHandler:function(e){var i=e[s.PopupService.OPTION.CONTEXT],n=i.event,o=i.selectUi,a=i.isOpen;this.element.removeData(p),this._launcher=null,this._sheetMenuIsOpen=!1,!this._IsCustomElement()&&o&&(n=this._trigger2("select",n,o).event),a&&this._trigger("close",n,{}),this._currentOpenOptions=null;var r=t.indexOf(this);t.splice(r,1),this._destroyVoiceOverAssist()},getCurrentOpenOptions:function(){return e.extend(!0,{},this._currentOpenOptions||this.options.openOptions)},_closeMenuIfOpen:function(e,t,i){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&(this._disableAnimation=!0,this._currentOpenOptions=e,this.__dismiss(t.event),this._dismissEvent=null,this._currentOpenOptions=i)},open:function(i,n){var o=arguments[2];if(!this._isOperationPending("open","open",[i,n,o])){var l=function(i,n){this._IsCustomElement()&&this.refresh(),this.element.removeAttr("aria-activedescendant"),this.element.find(".oj-focus").removeClass("oj-focus"),this.focusHandled=!1,this._focusIsFromPointer=!1,this.mouseHandled=!1,this.activeMenu=this.element,this.active=null,(n=e.extend({},this.options.openOptions,n)).position=e.extend({},n.position),i&&"keydown"===i.type&&121===i.which&&(n.initialFocus="firstItem"),this._IsCustomElement()&&this._setPosition(n.position),o=e.extend({},this.options.submenuOpenOptions,o);var a=this._currentOpenOptions;this._currentOpenOptions=n,s.PositionUtils._normalizeEventForPosition(i),this._isContextMenu=this.element[0].slot&&"contextMenu"===this.element[0].slot;var l=this._trigger2("beforeOpen",i,{openOptions:n});if(!l.proceed)return this._currentOpenOptions=a,void(this._disableAnimation=!1);this._closeMenuIfOpen(a,l,n);var c=n.launcher;if(!(c=this._IsCustomElement()?"string"===e.type(c)?e(document.getElementById(c)):e(c):"string"===e.type(c)?e(c):c)||!c.length)return d.warn("When calling Menu.open(), must specify openOptions.launcher via the component option, method param, or beforeOpen listener.  Ignoring the call."),this._currentOpenOptions=null,void(this._disableAnimation=!1);var u,h,m=this._isDropDown(n.display);if(this._toggleCancelDom(m),m){this.element.addClass("oj-menu-dropdown").removeClass("oj-menu-sheet"),h=_;var f=s.PositionUtils.normalizeHorizontalAlignment(n.position,this.isRtl);if(!f.of&&f.offset&&0===f.offset.x&&0===f.offset.y){const e=r.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||0;f.offset={x:0,y:e}}this._IsCustomElement()?(f=s.PositionUtils.coerceToJet(f,this.options.openOptions.position),this._referenceOpenPosition=f,u=s.PositionUtils.coerceToJqUi(f)):(this._referenceOpenPosition=f,u=f),u.of=s.PositionUtils.normalizePositionOf(u.of,c,i)}else this.element.addClass("oj-menu-sheet").removeClass("oj-menu-dropdown"),h=b,u={my:"bottom",at:y,of:window,collision:"flipfit"};var g=this.element[0],v=t.slice(0,t.length);e.each(v,(function(e,t){t.element[0]!==g&&(t._collapse(i,"eventSubtree"),t.__dismiss(i))})),this._submenuPosition=s.PositionUtils.normalizeHorizontalAlignment(o.position,this.isRtl);var E=this._usingCallback;e.isFunction(u.using)&&(u.origUsing=u.using),u.using=E,this.element.data(p,u),this._setWhenReady("open");var w={};w[s.PopupService.OPTION.POPUP]=this.element,w[s.PopupService.OPTION.LAUNCHER]=c,w[s.PopupService.OPTION.POSITION]=u,w[s.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),w[s.PopupService.OPTION.LAYER_SELECTORS]="oj-menu-layer",w[s.PopupService.OPTION.MODALITY]=h,w[s.PopupService.OPTION.CONTEXT]={event:i,initialFocus:n.initialFocus,launcher:c,isDropDown:m},w[s.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement();var C=s.PopupService.getInstance(),S=C.open.bind(C,w),I=this.element[0].querySelector("oj-defer");I?s.Context.getContext(I).getBusyContext().whenReady().then(S):S(),this._disableAnimation=!1}.bind(this,i,n);if(this._dismissEvent){var c=a.getContext(this.element[0]).getBusyContext();c.whenReady().then(l)}else l()}},_setPosition:function(e){var t=this.options;t.openOptions.position=s.PositionUtils.coerceToJet(e,t.openOptions.position)},_beforeOpenHandler:function(e){var t,i=e[s.PopupService.OPTION.POPUP],n=e[s.PopupService.OPTION.POSITION],o=e[s.PopupService.OPTION.CONTEXT],a=o.event,r=o.isDropDown,l=o.initialFocus;if(i[0].style.maxHeight="",i[0].style.overflowY="",i.show(),r&&(n=this._checkBrowserVerticalScollBar(o,n)),this.rootHeight=i[0].offsetHeight,"click"===n.of.type?this.launcherHeight=n.of.clientY:this.launcherHeight=o.launcher[0].getBoundingClientRect().bottom,this._updateMenuMaxHeight(),i.position(n),this._initVoiceOverAssist(l),"firstItem"===l){var d=this._getFirstItem();this._focus(a,d)}if(!this._isAnimationDisabled()){var u=this._getDefaultAnimation(r?"dropdown":"sheet","open");t=c.startAnimation(i[0],"open",s.PositionUtils.addTransformOriginAnimationEffectsOption(i,u),this)}return t},_checkBrowserVerticalScollBar:function(t,i){var n=t.launcher,o=e.position.scrollbarWidth(),a=window.innerWidth>document.documentElement.clientWidth,r=window.innerWidth-n[0].offsetLeft-this.element[0].offsetWidth<o;if(!a||!r)return i;if(this._referenceOpenPosition.offset.x=-1*o,this._IsCustomElement()){var l=s.PositionUtils.coerceToJqUi(this._referenceOpenPosition);return Object.assign(i,{my:l.my})}return Object.assign(i,{offset:{my:-1*o}})},_updateMenuMaxHeight:function(e){var t=e?e[0]:this.element[0],i=this._isDropDown(this.options.openOptions.display);if(!(t.querySelectorAll("oj-menu").length||!i||this.rootHeight<window.innerHeight)){var n=window.innerHeight-this.launcherHeight-25;n<25&&(n=25),t.style.maxHeight=n+"px",t.style.overflowY="auto"}},_afterOpenHandler:function(e){var i,n=e[s.PopupService.OPTION.CONTEXT],o=n.event,a=n.launcher,r=n.isDropDown,l=n.initialFocus;this._launcher=a,this._sheetMenuIsOpen=!r,t.push(this),("firstItem"===l||"menu"===l)&&(i=this._focusSkipLink&&"menu"===l?this._focusSkipLink.getLink():this.element,this._IsCustomElement()?window.setImmediate((function(){i.focus()})):i.focus()),this._trigger("open",o,{})},_initVoiceOverAssist:function(e){if("menu"===e&&(s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.IOS||s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.ANDROID)){var t=this._getFirstItem();if(!(t.length<1)){var n=this.element.attr("id");s.StringUtils.isEmptyOrUndefined(n)&&(n=this.uuid);var o=[n,"focusSkipLink"].join("_"),a=function(){window.setImmediate(function(e,t){t.find("a").first().focus(),e._focus(null,t)}.bind(this,this,t))}.bind(this),r=this.options.translations.ariaFocusSkipLink;this._focusSkipLink=new i.PopupSkipLink(t,r,a,o,{insertBefore:!0,preventKeyEvents:!1})}}},_destroyVoiceOverAssist:function(){this._focusSkipLink&&(this._focusSkipLink.destroy(),delete this._focusSkipLink)},_getFirstItem:function(){return this.element.find(".oj-menu-item").first()},_startOpening:function(e,t){this._clearTimer&&this._clearTimer(),this._IsCustomElement()&&t[0].refresh(),this._clearTimer=this._setTimer((function(){return delete this._clearTimer,this._close().then(function(){this._open(e,t)}.bind(this))}),this._getSubmenuBusyStateDescription("closing and opening"),this.delay)},_open:function(t,i){if("true"===i.attr("aria-hidden")&&this.active){var n;if(this._IsCustomElement()){var o=this._getSubmenuWidget(i);if(!o._trigger2("beforeOpen",t).proceed)return;let e=Object.assign(o.options.openOptions.position,{offset:{x:0,y:w}});n=s.PositionUtils.coerceToJqUi(e),n=s.PositionUtils.normalizeHorizontalAlignment(n,this.isRtl)}else n=this._submenuPosition;if(n=e.extend({of:this.active},n),this._clearTimer&&this._clearTimer(),this.element.find(".oj-menu").not(i.parents(".oj-menu")).hide().attr("aria-hidden","true").removeData(p),i.show().removeAttr("aria-hidden").position(n).data(p,n),this._getSubmenuAnchor(i).attr("aria-expanded","true"),!this._isAnimationDisabled()){var r=a.getContext(this.element[0]).getBusyContext().addBusyState({description:this._getSubmenuBusyStateDescription("opening")}),l=this._getDefaultAnimation("submenu","open"),d=n.my.slice();!this.isRtl&&parseFloat(i[0].style.left)<0?d="right top":this.isRtl&&parseFloat(i[0].style.left)>0&&(d="left top"),l=this._replaceAnimationOptions(l,{"#myPosition":d}),c.startAnimation(i[0],"open",l,this).then(r)}this._updateMenuMaxHeight(i)}},__collapseAll:function(t,i,n){var s;this._clearTimer&&this._clearTimer();var o=this,r=function(){delete o._clearTimer;var n=i?o.element:e(t&&t.target).closest(o.element.find(".oj-menu"));n.length||(n=o.element);var s=o._close(n);return o._runOnPromise(s,(function(){o._blur(t),o.activeMenu=n}))};if(n?this._isAnimationDisabled()?o._clearTimer=o._setTimer(r,o._getSubmenuBusyStateDescription("closing"),n):s=new Promise((function(e){o._clearTimer=o._setTimer(r,o._getSubmenuBusyStateDescription("closing"),n,(function(){e(!0)}))})):s=r(),s){var l=a.getContext(this.element[0]).getBusyContext().addBusyState({description:"closing submenus"});s.then(l)}return s},_close:function(t){var i;t||(t=this.active?this.active.parents(".oj-menu").first():this.element);var n=this,s=n._getDefaultAnimation("submenu","close"),o=t.find(".oj-menu"),a=function(e){e.hide().attr("aria-hidden","true").removeData(p),n._getSubmenuAnchor(e).attr("aria-expanded","false")};if(this._isAnimationDisabled())a(o),t.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),i=Promise.resolve(!0);else{var r=function(t){var i=null;return e(C(t)).children(".oj-menu").each((function(t,o){var l=e(o);if(l.is(":visible")){var d=r(l);i=n._runOnPromise(d,(function(){var e=l.data(p),t=n._replaceAnimationOptions(s,{"#myPosition":e.my});return c.startAnimation(o,"close",t,n).then((function(){a(l)}))}))}else a(l),i=Promise.resolve(!0)})),i};i=r(t),i=this._runOnPromise(i,(function(){t.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor")}))}return i},_collapse:function(e,t){var i;if(null==t||"active"===t){var n=this.activeMenu&&this.activeMenu.closest(".oj-menu-item",this.element);if(n&&n.length){var s=this;i=this._close(),i=this._runOnPromise(i,(function(){s._focus(e,n)}))}}else"all"===t||"eventSubtree"===t?i=this.__collapseAll(e,"all"===t,this.delay):d.warn("Invalid param "+t+" passed to Menu._collapse().  Ignoring the call.");return i},_expand:function(t){var i,n;if(this.active){var s=C(n=this.active.children(".oj-menu ").first());s.length>0&&(i=e(s[0]))}i&&i.length&&(this._open(t,n),this._clearTimer&&this._clearTimer(),this._clearTimer=this._setTimer((function(){delete this._clearTimer,this._focus(t,i)}),this._getBusyStateDescription("focusing an item")))},_next:function(e){this._move("next","first",e)},_previous:function(e){this._move("prev","last",e)},_move:function(t,i,n){var s,o=C(this.activeMenu),a=o.indexOf(this.active?this.active[0]:null);a>-1?"first"===t?s=o[0]:"last"===t?s=o[o.length-1]:"next"===t?s=a+1<o.length?o[a+1]:o[0]:"prev"===t&&(s=a-1>-1?o[a-1]:o[o.length-1]):s="first"===i?o[0]:o[o.length-1],this._focus(n,e(s))},_select:function(t){if(!this.active&&t&&t.target){var i=e(t.target).closest(".oj-menu-item");i.closest(this.element).length&&this._makeActive(i,t)}var n=this.active.is(this._cancelItem)?void 0:{item:this.active},s=this.__collapseAll(t,!0);this._runOnPromise(s,function(){this._focusLauncherAndDismiss(t,n)}.bind(this))},_surrogateRemoveHandler:function(){var e=this.element;s.ZOrderUtils.getStatus(e)===s.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};this._popupServiceEvents=e,e[s.PopupService.EVENT.POPUP_CLOSE]=this._closeAll.bind(this),e[s.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[s.PopupService.EVENT.POPUP_REFRESH]=this._reposition.bind(this),e[s.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeAll:function(){this._disableAnimation=!0,this._close(this.element),this.__dismiss(null),this._setWhenReady("none")},_usingHandler:function(e,t){var i=t.element.element;i.css(e),s.PositionUtils.captureTransformOriginAnimationEffectsOption(i,t);var n=i.data(p).origUsing;n&&n(e,t),s.PositionUtils.isAligningPositionClipped(t)&&(this._clearCloseDelayTimer=this._setTimer(this._closeAll,this._getSubmenuBusyStateDescription("closing"),1))},getNodeBySubId:function(e){return e&&"oj-menu-cancel-command"===e.subId?this._cancelDomAttached?this._cancelItem[0]:null:this._super(e)},getSubIdByNode:function(t){return this._cancelItem&&this._cancelItem.is(e(t).parents().addBack(t))?{subId:"oj-menu-cancel-command"}:this._super(t)},_isDropDown:function(e){if(this._hasSubmenus)return!0;switch(e){case"dropDown":return!0;case"sheet":return!1;default:return"phone"!==u.getDeviceRenderMode()}},_toggleCancelDom:function(t){function i(t,i){var n=C(t),s=n.indexOf(i[1]);return e(n[s-1])}if(g)if(t)this._cancelDomAttached&&(i(this.element,this._getCancelDom()).removeClass("oj-menu-item-before-divider"),this._getCancelDom().detach(),this._cancelDomAttached=!1);else{var n=this._getCancelDom();n.appendTo(this.element),i(this.element,n).addClass("oj-menu-item-before-divider"),this._cancelDomAttached=!0}},_getCancelDom:function(){if(!this._cancelDom){var t=e("<li></li>",this.document[0]),i=e("<a href='#'></a>",this.document[0]).text(this.options.translations.labelCancel);e("<span class='oj-menu-item-icon oj-component-icon oj-menu-cancel-icon'></span>",this.document[0]).prependTo(i);var n=e("<li></li>",this.document[0]).addClass("oj-menu-item-cancel oj-menu-item-after-divider").append(i);this._initDividers(t),this._initAnchors(i),this._initMenuItems(n),this._cancelAnchor=i,this._cancelItem=n,this._cancelDom=e([t[0],n[0]])}return this._cancelDom},_setupSwipeBehavior:function(){v&&(this.element.ojHammer(E),this._on({swipedown:function(e){this._sheetMenuIsOpen&&"touch"===e.gesture.pointerType&&(this.__collapseAll(e,!0),this._focusLauncherAndDismiss(e))}}))},_setWhenReady:function(e){var t=this._whenReadyMediator;t&&(t.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(e)<0||(this._whenReadyMediator=new i.PopupWhenReadyMediator(this.element,e,"ojMenu",this._IsCustomElement()))},_isOperationPending:function(e,t,i){var n=this._whenReadyMediator;return!!n&&n.isOperationPending(this,e,t,i)},_setTimer:function(e,t,i,n){var s=a.getContext(this.element[0]).getBusyContext().addBusyState({description:t}),o=function(){s&&(s(),s=null,n&&n())},r=this,l=setTimeout((function(){var t=e.bind(r)();t&&t instanceof Promise?t.then(o):o()}),i||0);return function(){clearTimeout(l),o()}},_getBusyStateDescription:function(e){return"Menu with id '"+this.element.attr("id")+"' is busy "+e+"."},_getSubmenuBusyStateDescription:function(e){return this._getBusyStateDescription(e+" a submenu")},_NotifyDetached:function(){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._closeAll(),this._super()}}),l.setDefaultOptions({ojMenu:{openOptions:l.createDynamicPropertyGetter((function(e){return{position:h.CustomElementUtils.isElementRegistered(e.element.tagName)?e.containers.indexOf("ojMenu")>=0?{my:{horizontal:"start",vertical:"top"},at:{horizontal:"end",vertical:"top"},offset:{x:0,y:0},collision:"flipfit"}:{my:{horizontal:"start",vertical:"top"},at:{horizontal:"start",vertical:"bottom"},offset:{x:0,y:0},collision:"flipfit"}:{my:"start top",at:"start bottom",collision:"flipfit"}}}))}})}(),(p={properties:{disabled:{type:"boolean",value:!1},openOptions:{type:"object",properties:{display:{type:"string",enumValues:["auto","dropDown","sheet"],value:"auto"},initialFocus:{type:"string",enumValues:["firstItem","menu","none"],value:"menu"},launcher:{type:"string|Element"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flipfit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}}}},translations:{type:"object",value:{},properties:{ariaFocusSkipLink:{type:"string"},labelCancel:{type:"string"}}}},methods:{close:{},getProperty:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{},ojAnimateEnd:{},ojAnimateStart:{},ojBeforeOpen:{},ojClose:{},ojMenuAction:{},ojOpen:{}},extension:{}}).extension._WIDGET_NAME="ojMenu",s.CustomElementBridge.register("oj-menu",{metadata:p})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojvmenu",["exports","preact/jsx-runtime","ojs/ojmenu","preact"],(function(e,t,i,n){"use strict";class s extends n.Component{constructor(e){super(e),this._rootRef=null}render(e){return t.jsx("div",Object.assign({style:{display:"none"},ref:e=>this._rootRef=e},{children:e.children}))}componentDidMount(){this._menuElement||(this._menuElement=this._getMenu(),null!==this._menuElement&&this._openMenu())}_getMenu(){return this._rootRef.childNodes[0]}_openMenu(){const e=this._getOpenOptions();this._menuElement.__openingContextMenu=!0;try{this._menuElement.open(this.props.eventObj.event,e),this._addCloseListener()}catch(e){throw e}finally{this._menuElement.__openingContextMenu=!1}}_addCloseListener(){this.props.onCloseCallback&&this._menuElement.addEventListener("ojClose",this.props.onCloseCallback)}_getOpenOptions(){const e=this.props.eventObj.eventType||"keyboard";return{launcher:this.props.launcherElement,position:Object.assign(Object.assign({},s._MENU_POSITION[e]),{of:"keyboard"===e?this.props.launcherElement:this.props.eventObj.event}),initialFocus:"menu"}}componentWillUnmount(){this._removeCloseListener()}_removeCloseListener(){this._menuElement&&this.props.onCloseCallback&&this._menuElement.removeEventListener("ojClose",this.props.onCloseCallback)}}s._MENU_POSITION={mouse:{my:"start top",at:"start bottom",collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",collision:"flipfit"}},e.VMenu=s,Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojvcomponent-binding",["exports"],(function(e){"use strict";e.consumedBindings=function(e){return function(e){}},e.providedBindings=function(e){return function(e){}},Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojbutton2",["exports","preact/jsx-runtime","ojs/ojdomutils","ojs/ojgestureutils","ojs/ojvcomponent","preact","ojs/ojvmenu","ojs/ojvcomponent-binding","ojs/ojthemeutils"],(function(e,t,i,n,s,o,a,r,l){"use strict";var c;e.Button2=c=class extends o.Component{constructor(e){super(e),this._rootRef=o.createRef(),this._handleContextMenuGesture=(e,t)=>{const i={event:e,eventType:t};e.preventDefault(),this.setState({contextMenuTriggerEvent:i})},this._handleTouchstart=e=>{this.setState({active:!0})},this._handleTouchend=e=>{this.setState({active:!1})},this._handleFocusIn=e=>{e.target===e.currentTarget&&this._handleFocus(e),this.setState({focus:!0}),this._rootRef.current&&this.focusInHandler(this._rootRef.current)},this._handleFocusOut=e=>{e.target===e.currentTarget&&this._handleBlur(e),this.setState({focus:!1}),this._rootRef.current&&this.focusOutHandler(this._rootRef.current)},this._handleMouseenter=e=>{i.recentTouchEnd()||(this===c._lastActive&&this.setState({active:!0}),this.setState({hover:!0}))},this._handleMouseleave=e=>{this.setState({hover:!1,active:!1})},this._handleMousedown=e=>{if(1===e.which&&!i.recentTouchEnd()){this.setState({active:!0}),c._lastActive=this;const e=()=>{c._lastActive=null,document.removeEventListener("mouseup",e,!0)};document.addEventListener("mouseup",e,!0)}},this._handleMouseup=e=>{this.setState({active:!1})},this._handleClick=e=>{var t,i;e.detail<=1&&(null===(i=(t=this.props).onOjAction)||void 0===i||i.call(t,{originalEvent:e}))},this._handleKeydown=e=>{32!==e.keyCode&&13!==e.keyCode||this.setState({active:!0})},this._handleKeyup=e=>{this.setState({active:!1})},this._handleFocus=e=>{var t,i;null===(i=null===(t=this._rootRef)||void 0===t?void 0:t.current)||void 0===i||i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e.relatedTarget}))},this._handleBlur=e=>{var t;this.setState({active:!1}),null===(t=this._rootRef)||void 0===t||t.current.dispatchEvent(new FocusEvent("blur",{relatedTarget:e.relatedTarget}))},this._onCloseCallback=e=>{this.state.contextMenuTriggerEvent&&this.setState({contextMenuTriggerEvent:null})},this.state={},this.uniquePrefix=e.id?e.id+s.getUniqueId():s.getUniqueId()}render(e,i){const n=e.children;let o=this._processIcon(e.startIcon,"oj-button-icon oj-start"),a=this._processIcon(e.endIcon,"oj-button-icon oj-end"),r=e["aria-label"],l=e["aria-labelledby"],c=e["aria-describedby"];const d=r||l;let u=null,h=null,p=null,m=e.title;const f=e.label||n;f?(m=this.state.derivedTitle||m||e.label,"icons"===e.display&&(o||a)?e.label?(d||(r=e.label),u=t.jsx("span",Object.assign({ref:e=>this._defaultSlotRef=e},{children:u}))):(d||(p=this.uniquePrefix+"|text",l=p),u=t.jsx("span",Object.assign({ref:e=>this._defaultSlotRef=e,class:"oj-button-text oj-helper-hidden-accessible",id:p},{children:f}))):"label"===e.display?(e.startIcon&&(o=this._processIcon(e.startIcon,"oj-button-icon oj-helper-hidden oj-start")),e.endIcon&&(a=this._processIcon(e.endIcon,"oj-button-icon oj-helper-hidden oj-end")),d||(p=this.uniquePrefix+"|text",l=p),u=t.jsx("span",Object.assign({ref:e=>this._defaultSlotRef=e,class:"oj-button-text",id:p},{children:f}))):(d||(p=this.uniquePrefix+"|text",l=p),u=t.jsx("span",Object.assign({ref:e=>this._defaultSlotRef=e,class:"oj-button-text",id:p},{children:f})))):u=t.jsx("span",Object.assign({ref:e=>this._defaultSlotRef=e},{children:u}));const g=t.jsxs("div",Object.assign({class:"oj-button-label"},{children:[o,u,a]}));let v;e.disabled?v=t.jsx("button",Object.assign({class:"oj-button-button","aria-labelledby":l,"aria-describedby":c,"aria-label":r,disabled:!0},{children:g})):(h=this._handleClick,v=t.jsx("button",Object.assign({class:"oj-button-button",ref:e=>this._buttonRef=e,"aria-labelledby":l,"aria-describedby":c,"aria-label":r,onTouchStart:this._handleTouchstart,onTouchEnd:this._handleTouchend,onTouchCancel:this._handleTouchend,onMouseEnter:this._handleMouseenter,onMouseLeave:this._handleMouseleave,onMouseDown:this._handleMousedown,onMouseUp:this._handleMouseup,onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut,onKeyDown:this._handleKeydown,onKeyUp:this._handleKeyup},{children:g})));const _=this._getRootClasses(o,a);return t.jsxs(s.Root,Object.assign({class:_,id:e.id,title:m,onClick:h,ref:this._rootRef},{children:[v,this._renderContextMenu()]}))}_renderContextMenu(){return this.state.contextMenuTriggerEvent&&this.props.contextMenu?t.jsx(a.VMenu,Object.assign({eventObj:this.state.contextMenuTriggerEvent,launcherElement:this._buttonRef,onCloseCallback:this._onCloseCallback},{children:[this.props.contextMenu]})):null}_processIcon(e,i){let n;return Array.isArray(e)?n=e.map((e=>this._processIcon(e,i))):e&&(n=t.jsx("span",Object.assign({class:i},{children:e}))),n}_getRootClasses(e,t){let i=!0,n="oj-button "+c._chromingMap[this.props.chroming];return n+=" "+this._getDisplayOptionClass(e,t),this.props.disabled?(i=!1,n+=" oj-disabled"):(n+=" oj-enabled",this.state.hover&&(i=!1,n+=" oj-hover"),this.state.active&&(i=!1,n+=" oj-active")),i&&(n+=" oj-default"),n}_getDisplayOptionClass(e,t){const i=e&&t,n=e||t,s="icons"===this.props.display;let o;return o="label"===this.props.display?"oj-button-text-only":n?s?i?"oj-button-icons-only":"oj-button-icon-only":i?"oj-button-text-icons":e?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",o}_addMutationObserver(){this._mutationObserver||(this._mutationObserver=new MutationObserver((()=>{const e=this._getTextContent();e!=this.state.derivedTitle&&this.setState({derivedTitle:e})})),this._mutationObserver.observe(this._defaultSlotRef,{subtree:!0,characterData:!0}))}_needsContextMenuDetection(e){return e.contextMenu&&!e.disabled}componentDidMount(){this._updateDerivedTitle(),this._needsContextMenuDetection(this.props)&&n.startDetectContextMenuGesture(this._rootRef.current,this._handleContextMenuGesture),this._rootRef.current.addEventListener("touchstart",this._handleTouchstart,{passive:!0}),this._rootRef.current.addEventListener("touchend",this._handleTouchend,{passive:!1}),this._rootRef.current.addEventListener("touchcancel",this._handleTouchend,{passive:!0}),i.makeFocusable({applyHighlight:!0,setupHandlers:(e,t)=>{let n=i.getNoJQFocusHandlers(e,t);this.focusInHandler=n.focusIn,this.focusOutHandler=n.focusOut}})}componentDidUpdate(e){e.display!=this.props.display&&this._updateDerivedTitle(),this._updateContextMenuDetection(e)}_updateDerivedTitle(){const e=this.props;let t;"icons"!==e.display||!e.startIcon&&!e.endIcon||e.label||e.title||(t=this._getTextContent(),this._addMutationObserver()),t!=this.state.derivedTitle&&this.setState({derivedTitle:t})}_updateContextMenuDetection(e){const t=this._needsContextMenuDetection(e),i=this._needsContextMenuDetection(this.props);t!=i&&(i?n.startDetectContextMenuGesture(this._rootRef.current,this._handleContextMenuGesture):n.stopDetectContextMenuGesture(this._rootRef.current))}static getDerivedStateFromProps(e){return e.disabled?{contextMenuTriggerEvent:null}:null}_getTextContent(){let e=this._defaultSlotRef.textContent;return e=e.trim(),""!==e?e:null}componentWillUnmount(){this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null),n.stopDetectContextMenuGesture(this._rootRef.current)}refresh(){this.setState({active:!1})}focus(){var e;null===(e=this._buttonRef)||void 0===e||e.focus()}blur(){var e;null===(e=this._buttonRef)||void 0===e||e.blur()}},e.Button2._chromingMap={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome",danger:"oj-button-danger-chrome oj-button-full-chrome"},e.Button2.defaultProps={disabled:!1,display:"all",chroming:l.getCachedCSSVarValues(["--oj-private-button-global-chroming-default"])[0]},e.Button2.metadata={slots:{"":{},startIcon:{},endIcon:{},contextMenu:{}},properties:{disabled:{type:"boolean"},display:{type:"string",enumValues:["all","icons","label"]},label:{type:"string"},translations:{type:"object|null"},chroming:{type:"string",enumValues:["borderless","callToAction","danger","full","half","outlined","solid"],binding:{consume:{name:"containerChroming"}}}},events:{ojAction:{bubbles:!0}},extension:{_OBSERVED_GLOBAL_PROPS:["id","title","aria-label","aria-labelledby","aria-describedby"]},methods:{refresh:{},focus:{},blur:{}}},e.Button2=c=function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([s.customElement("oj-button")],e.Button2),Object.defineProperty(e,"__esModule",{value:!0})})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojbutton",["ojs/ojoption","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojchildmutationobserver","ojs/ojlabelledbyutils","ojs/ojcustomelement-utils","ojs/ojbutton2"],(function(e,t,i,n,s,o,a,r,l,c){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var d={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},label:{type:"string"},translations:{type:"object",value:{}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};d.extension._WIDGET_NAME="ojButton",d.extension._TRACK_CHILDREN="nearestCustomElement",d.extension._GLOBAL_TRANSFER_ATTRS=["href","aria-label","aria-labelledby","aria-describedby"],t.CustomElementBridge.register("oj-menu-button",{metadata:d,innerDomFunction:function(e){return e.getAttribute("href")?"a":"button"}});var u={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};u.extension._WIDGET_NAME="ojButtonset",u.extension._ALIASED_PROPS={value:"checked"},t.CustomElementBridge.register("oj-buttonset-one",{metadata:u});var h={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"Array<any>",writeback:!0}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};if(h.extension._WIDGET_NAME="ojButtonset",h.extension._ALIASED_PROPS={value:"checked"},t.CustomElementBridge.register("oj-buttonset-many",{metadata:h}),t.ButtonLegacy){var p={properties:{chroming:{type:"string",enumValues:["borderless","callToAction","danger","full","half","outlined","solid"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};p.extension._WIDGET_NAME="ojButton",p.extension._TRACK_CHILDREN="nearestCustomElement",p.extension._GLOBAL_TRANSFER_ATTRS=["href","aria-label","aria-labelledby","aria-describedby"],t.CustomElementBridge.register("oj-button",{metadata:p,innerDomFunction:function(e){return e.getAttribute("href")?"a":"button"}})}!function(){var e,c,d="oj-button oj-component oj-enabled oj-default",u="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",h="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome oj-button-cta-chrome oj-button-danger-chrome",p={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome",danger:"oj-button-danger-chrome oj-button-full-chrome"},m={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]};function f(e,t){b(e,h),e.classList.add(p[t])}function g(e,t){var n,s=e.name,o=e.form;if(s){var a=":radio[name='"+(s=s.replace(/'/g,"\\'"))+"']:oj-button";n=t?t.filter(a):o?i(o).find(a):i(a,e.ownerDocument).filter((function(){return!this.form}))}else n=(t?t.filter(e):i(e)).filter(":oj-button");return n}function v(e,t,i){var n=function(e,t,i){for(var n=0;n<i.length;++n){var s=i[n];if(t.indexOf(s)>=0)for(;;e=e.parentNode){var a=o.__GetWidgetConstructor(e,s);if(a)return a}}return null}(t,i,m[e]);return n?n("option","chroming"):s.getCachedCSSVarValues(["--oj-private-"+e+"-global-chroming-default"])[0]}function _(e,t){var i=e.className;if(i){for(var n=i.split(" "),s=t.split(" "),o=s.length;o>=0;o--)n.indexOf(s[o])>=0&&s.splice(o,1);s.length>0&&(e.className=i+" "+s.join(" "))}else e.className=t}function b(e,t){var i=e.className;if(i){for(var n=i.split(" "),s=t.split(" "),o=!1,a=0;a<s.length;a++){var r=n.indexOf(s[a]);r>=0&&(n.splice(r,1),o=!0)}o&&(e.className=n.join(" "))}}t.__registerWidget("oj.ojButton",i.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"solid",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null,action:null},_InitOptions:function(e,t){this._super(e,t),this._IsCustomElement()&&this._processSlots(),this._initButtonTypes(),this._IsCustomElement()||"disabled"in t||this.option("disabled",!!this.element[0].disabled,{_context:{internalSet:!0}}),"label"in t||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement[0].innerHTML,{_context:{internalSet:!0}})),this._IsCustomElement()||!this.options.menu||t.icons&&void 0!==t.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.getAttribute("title");var t=this,s=this._isToggle;_(this.rootElement,d),f(this.rootElement,this.options.chroming);var o=function(){t.rootElement.classList.remove("oj-active"),t.rootElement.classList.remove("oj-hover"),t._toggleDefaultClasses()};if(this._touchStartHandler=function(){t._IsEffectivelyDisabled()||(t.rootElement.classList.add("oj-active"),t._toggleDefaultClasses(),t.document.one("touchend",o))},n.isTouchSupported()&&(this.buttonElement[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this.buttonElement.bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,o)),this.buttonElement.bind("mouseenter"+this.eventNamespace,(function(){t._IsEffectivelyDisabled()||t._isSelectedInButtonsetOne()||(t.rootElement.classList.add("oj-hover"),n.recentTouchEnd()||this===e&&t.rootElement.classList.add("oj-active"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only"))})).bind("mouseleave"+this.eventNamespace,(function(){t.rootElement.classList.remove("oj-hover"),t._IsEffectivelyDisabled()||(t.rootElement.classList.remove("oj-active"),t._toggleDefaultClasses())})),this._disabledClickHandler=function(e){t._IsEffectivelyDisabled()&&(e.preventDefault(),e.stopImmediatePropagation())},this._ojActionClickHandler=function(e){t._trigger("action",e,{})},this._IsCustomElement()?(this.rootElement.addEventListener("click",this._disabledClickHandler,!0),this.rootElement.addEventListener("click",this._ojActionClickHandler,!1)):this.buttonElement[0].addEventListener("click",this._disabledClickHandler,!0),this._focusable({element:i(this.rootElement),applyHighlight:!0,afterToggle:function(){t._toggleDefaultClasses()}}),s&&(this.element.bind("change"+this.eventNamespace,(function(e){t._applyCheckedStateFromDom(!0);var i=t._getEnclosingContainerComponent("buttonset"),n=i&&i._getCheckedFromDom(i.$buttons);i&&void 0!==n&&i.option("checked",n,{_context:{writeback:!0,originalEvent:e,internalSet:!0}})})),this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){t._IsEffectivelyDisabled()||(c=this,t._isSelectedInButtonsetOne()||t.rootElement.classList.add("oj-active"),t.document.one("mouseup",(function(){c=null,t.rootElement.classList.remove("oj-active")})))})).bind("mouseup"+this.eventNamespace,(function(){t._IsEffectivelyDisabled()||(t.rootElement.classList.remove("oj-active"),this===c&&t.element.focus())}))),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,(function(){if(t._IsEffectivelyDisabled())return!1})),this.element.bind("keyup"+this.eventNamespace,(function(e){e.keyCode===i.ui.keyCode.ENTER&&(t._IsEffectivelyDisabled()||t.element.click())}));else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,(function(){if(t._IsEffectivelyDisabled())return!1})),this.element.bind("keyup"+this.eventNamespace,(function(e){e.keyCode===i.ui.keyCode.ENTER&&(t.element[0].checked||t._IsEffectivelyDisabled()||(t.element[0].checked=!0,t.element.change(),t.element.click()))}));else if(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(i){if(t._IsEffectivelyDisabled())return!1;1!==i.which||n.recentTouchEnd()||(t._isSelectedInButtonsetOne()||t.rootElement.classList.add("oj-active"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only"),e=this,t.document.one("mouseup",(function(){e=null})))})).bind("mouseup"+this.eventNamespace,(function(){if(t._IsEffectivelyDisabled())return!1;t.rootElement.classList.remove("oj-active"),t._toggleDefaultClasses()})).bind("keydown"+this.eventNamespace,(function(e){if(t._IsEffectivelyDisabled())return e.keyCode===i.ui.keyCode.TAB||e.keyCode===i.ui.keyCode.LEFT||e.keyCode===i.ui.keyCode.RIGHT;var n=e.keyCode===i.ui.keyCode.SPACE,s="anchor"===t.type;s&&n&&e.preventDefault(),(n&&!s||e.keyCode===i.ui.keyCode.ENTER)&&(t._isSelectedInButtonsetOne()||t.rootElement.classList.add("oj-active"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only"))})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){t.rootElement.classList.remove("oj-active"),t._toggleDefaultClasses()})),"anchor"===this.type){var a=this.buttonElement[0].getAttribute("tabindex");(null===a||isNaN(a))&&this.buttonElement[0].setAttribute("tabindex","0")}this.options.disabled&&this._manageAnchorTabIndex(!1,!0),this._updateEffectivelyDisabled();var r=t._getEnclosingContainerComponent("buttonset");this._IsCustomElement()||r&&r._IsCustomElement()?this._setDisplayOptionOnDom():this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(null),this._toggleDefaultClasses(),this._childMutationObserver&&this._childMutationObserver.observe()},_NotifyContextMenuGesture:function(e,t,n){this._OpenContextMenu(t,n,{position:{of:"keyboard"===n?i(this.rootElement):t}})},_addMutationObserver:function(){if(!this._childMutationObserver&&this._IsCustomElement()){var e=this;this._childMutationObserver=new a(this.rootElement,(function(t){t.forEach((function(t){var i;if("childList"===t.type){var n=t.addedNodes&&t.addedNodes[0],s=t.target;if(n&&3===n.nodeType&&s&&1===s.nodeType&&s.classList.contains("oj-button-label")){e._childMutationObserver.disconnect(),i=!0;var o=e.buttonElement[0].querySelector(".oj-button-text");o&&(o.textContent=n.textContent),n.parentNode.removeChild(n)}}else"characterData"===t.type&&(e._childMutationObserver.disconnect(),i=!0);i&&(e._setDisplayOptionOnDom(),e._childMutationObserver.observe())}))}))}},_removeMutationObserver:function(){this._childMutationObserver&&(this._childMutationObserver.disconnect(),this._childMutationObserver=null)},_processSlots:function(){var e,t=this,n=this.element[0],s=n.parentNode,o="OJ-MENU-BUTTON"===s.tagName,a=l.CustomElementUtils.getSlotMap(s);e=o?["startIcon","","endIcon","menu"]:["startIcon","","endIcon"],i.each(e,(function(e,t){a[t]&&""!==t&&i.each(a[t],(function(e,t){n.appendChild(t)}))}));for(var r=s.children,c=r.length-1;c>=0;c--){var d=r[c];d!==n&&"contextMenu"!==d.getAttribute("slot")&&s.removeChild(d)}var u=l.CustomElementUtils.getSlotMap(n);i.each(e,(function(e,s){u[s]&&i.each(u[s],(function(e,o){if(n.appendChild(o),""===s){var a=o,r=a;3===a.nodeType&&(r=document.createElement("span"),a.parentNode.insertBefore(r,a),r.appendChild(a)),r.classList.add("oj-button-text"),t._setTextSpanIdAndLabelledBy(r)}else if("startIcon"===s)o.classList.add("oj-button-icon"),o.classList.add("oj-start");else if("endIcon"===s)o.classList.add("oj-button-icon"),o.classList.add("oj-end");else if("menu"===s&&(i(o).uniqueId(),t.menuSlot="#"+o.id,void 0===u.endIcon)){var l=document.createElement("span"),c="oj-button-menu-dropdown-icon";void 0===u.startIcon&&"icons"===t.options.display&&(c="oj-button-menu-icon-only-dropdown-icon"),l.className="oj-button-icon oj-end oj-component-icon "+c,l.setAttribute("slot","endIcon"),n.insertBefore(l,o)}}))}));var h=document.createElement("div");for(h.className="oj-button-label";n.hasChildNodes();)h.appendChild(n.firstChild);n.appendChild(h)},_getMenuNode:function(){return this._IsCustomElement()?this.menuSlot:this.options.menu},_initButtonTypes:function(){var e=this.element[0];if("INPUT"===e.tagName&&"checkbox"===e.type)this.type="checkbox",this._isToggle=!0;else if("INPUT"===e.tagName&&"radio"===e.type)this.type="radio",this._isToggle=!0;else if("INPUT"!==e.tagName||"button"!==e.type&&"submit"!==e.type&&"reset"!==e.type)if("BUTTON"===e.tagName)this.type="button";else{if("A"!==e.tagName)throw new Error("JET Button not supported on this element type");this.type="anchor"}else this.type="inputPush";if(this._isToggle){var t="label[for='"+this.element[0].getAttribute("id")+"']";this.buttonElement=this.element.siblings().filter(t)}else this.buttonElement=this.element},_initButtonTypes2:function(){var e=this.element[0];if(this._isToggle){this.buttonElement[0].classList.add("oj-button-label"),e.classList.add("oj-button-input"),e.classList.add("oj-helper-hidden-accessible"),e.setAttribute("data-oj-internal","");var t=document.createElement("span");this.element[0].parentNode.insertBefore(t,this.buttonElement[0]),t.appendChild(this.buttonElement[0]),t.appendChild(this.element[0]),this.rootElement=this.element[0].parentNode,this.rootElement.classList.add("oj-button-toggle"),e.checked&&(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}else this._IsCustomElement()?(this.rootElement=this.element[0].parentNode,e.classList.add("oj-button-button")):(this.rootElement=this.element[0],this._IsCustomElement()||e.classList.add("oj-button-toggle"))},widget:function(){return i(this.rootElement)},_destroy:function(){this._removeMenuBehavior(this._getMenuNode()),this.buttonElement[0].removeEventListener("click",this._disabledClickHandler,!0),this.buttonElement[0].removeEventListener("click",this._ojActionClickHandler,!1),this.buttonElement[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),delete this._touchStartHandler;var e=this.element[0];e.classList.remove("oj-helper-hidden-accessible"),e.removeAttribute("aria-labelledby"),e.removeAttribute("aria-describedby"),this.element.removeUniqueId(),this.options.disabled&&this._manageAnchorTabIndex(!0,!1);var t=this._isToggle;t||b(this.rootElement,d+" oj-button-toggle oj-hover oj-active oj-selected "+u+" "+h);var i=this.buttonElement[0].querySelector(".oj-button-text");i&&(this.buttonElement[0].innerHTML=i.innerHTML),t?(this.buttonElement[0].classList.remove("oj-button-label"),n.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttribute("title"),c===this.buttonElement[0]&&(c=null),this.buttonElement.off("blur"),this._removeMutationObserver()},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(e){this._super(e),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var t=this.element[0],i=this._IsEffectivelyDisabled();if(i?(this.rootElement.classList.add("oj-disabled"),this.rootElement.classList.remove("oj-enabled")):(this.rootElement.classList.remove("oj-disabled"),this.rootElement.classList.add("oj-enabled")),"anchor"!==this.type?(t.disabled=i,this.rootElement.removeAttribute("aria-disabled")):(t.setAttribute("aria-disabled",i),this._IsCustomElement()&&this.rootElement.removeAttribute("aria-disabled")),i){var n=this.widget()[0].classList;n.remove("oj-active"),n.remove("oj-default"),n.remove("oj-focus-only"),n.remove("oj-hover"),n.remove("oj-focus"),n.remove("oj-focus-highlight"),e=null,this._dismissMenu(this._getMenuNode())}else this._toggleDefaultClasses()},_setOption:function(e,t,i){var n=this.options[e];switch(this._super(e,t,i),e){case"chroming":f(this.rootElement,t);break;case"disabled":if(this._manageAnchorTabIndex(n,t),this._updateEffectivelyDisabled(),!this._IsCustomElement()){var s=this._getEnclosingContainerElement("toolbar");s.length&&s.ojToolbar("refresh")}break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton(n)}},refresh:function(){this._super(),this._ancestorDisabled&&!this._getEnclosingContainerElement("buttonset").length&&this.__setAncestorComponentDisabled(!1),f(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(e){"radio"===this.type?(e?g(this.element[0]):this.element).each((function(){var e=i(this).data("oj-ojButton");this.checked?(e.rootElement.classList.add("oj-selected"),e.rootElement.classList.remove("oj-default"),e.rootElement.classList.remove("oj-focus-only")):(e.rootElement.classList.remove("oj-selected"),e._toggleDefaultClasses())})):"checkbox"===this.type&&(this.element[0].checked?(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")):(this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var e=this._setLabelOnDomAtCreateTime(),t=this._setIconOnDom(!0),i=this._setIconOnDom(!1);this._setDisplayOptionOnDom(e,t,i)}},_setLabelOnDomAtCreateTime:function(){var e=this.buttonElement[0],t=document.createElement("span");if(t.className="oj-button-text",this.keepDomLabel)for(;e.hasChildNodes();)t.appendChild(e.firstChild);else e.innerHTML="",t.textContent=this.options.label;if("button"===this.type){var n=document.createElement("div");n.className="oj-button-label",n.appendChild(t),this.element[0].appendChild(n)}else e.appendChild(t);return"button"!==this.type&&"anchor"!==this.type||this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this._setTextSpanIdAndLabelledBy(t),i(t)},_setTextSpanIdAndLabelledBy:function(e){i(e).uniqueId(),this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this.element[0].setAttribute("aria-labelledby",e.getAttribute("id"))},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var e=this.buttonElement[0].querySelector(".oj-button-text");e.textContent=this.options.label,this._setDisplayOptionOnDom(i(e))}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var e=this._setIconOnDom(!0),t=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,e,t)}},_setIconOnDom:function(e){var t,i,n,s,o=this.buttonElement[0];"button"===this.type&&(o=this.element.children("div.oj-button-label")[0]),e?(t=".oj-button-icon.oj-start",i="oj-button-icon oj-start",n=this.options.icons.start,s="_lastStartIcon"):(t=".oj-button-icon.oj-end",i="oj-button-icon oj-end",n=this.options.icons.end,s="_lastEndIcon");var a,r,l=o.querySelectorAll(t);if(n)if(l.length){var c=this[s];for(a=0;a<l.length;a++)b(r=l[a],c),_(r,n)}else{var d=document.createElement("span");d.className=i+" "+n,e?o.insertBefore(d,o.firstChild):o.appendChild(d)}else for(a=0;a<l.length;a++)(r=l[a]).parentNode.removeChild(r);return this[s]=n,!!n},_setDisplayOptionOnDom:function(e,t,n){var s=this.buttonElement.children(".oj-button-label");if(!s.length){var o=this._getEnclosingContainerComponent("buttonset");s=this._IsCustomElement()||o&&o._IsCustomElement()?this.buttonElement.children("oj-option"):this.buttonElement}void 0===e&&(e=s.children(".oj-button-text")),void 0===t&&(t=!!this.options.icons.start||s.children("[slot='startIcon']").length),void 0===n&&(n=!!this.options.icons.end||s.children("[slot='endIcon']").length);var a,r=t&&n,l=t||n,c="icons"===this.options.display,d="label"===this.options.display;if(d)s.children("[slot='startIcon']")&&s.children("[slot='startIcon']")[0].classList.add("oj-helper-hidden"),s.children("[slot='endIcon']")&&s.children("[slot='endIcon']")[0].classList.add("oj-helper-hidden");else if(l&&c){if(e[0]&&e[0].classList.add("oj-helper-hidden-accessible"),!this.hasTitle){var h=e[0]?e[0].textContent:"";this.rootElement.setAttribute("title",i.trim(h))}this._addMutationObserver()}else e[0]&&e[0].classList.remove("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttribute("title"),this._removeMutationObserver();d&&(a="oj-button-text-only"),a=l?c?r?"oj-button-icons-only":"oj-button-icon-only":r?"oj-button-text-icons":t?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",b(this.rootElement,u),this.rootElement.classList.add(a)},_manageAnchorTabIndex:function(e,t){if(!e!=!t&&"anchor"===this.type&&!this._getEnclosingContainerElement("buttonset").length&&!this._getEnclosingContainerElement("toolbar").length){var i=this.element[0];if(t){var n=i.getAttribute("tabindex");this._oldAnchorTabIndex=this._isInteger(Number(n))?n:null,i.setAttribute("tabindex",-1)}else null==this._oldAnchorTabIndex?i.removeAttribute("tabindex"):i.setAttribute("tabindex",this._oldAnchorTabIndex)}},_isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},_selectorMap:{buttonset:".oj-buttonset",toolbar:".oj-toolbar",buttonsetone:"oj-buttonset-one"},_constructorMap:{buttonset:"ojButtonset",toolbar:"ojToolbar"},_isSelectedInButtonsetOne:function(){return 1===this._getEnclosingContainerElement("buttonsetone").length&&this.rootElement.classList.contains("oj-selected")},_getEnclosingContainerElement:function(e){return i(this.rootElement).closest(this._selectorMap[e])},_getEnclosingContainerComponent:function(e){var t=this._getEnclosingContainerElement(e)[0],i=o.__GetWidgetConstructor(t,this._constructorMap[e]);return i&&i("instance")},_setupMenuButton:function(e){if(this._getMenuNode()&&"INPUT"===this.element[0].tagName)throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(e),this._getMenuNode()){var t=this;this.element.attr("aria-haspopup",!0).attr("role","button").on("keydown"+this.menuEventNamespace,(function(e){if(e.which===i.ui.keyCode.DOWN||e.which===i.ui.keyCode.ENTER||e.which===i.ui.keyCode.SPACE)return t._toggleMenu(e,"firstItem"),e.preventDefault(),!0;if(e.which===i.ui.keyCode.ESCAPE){var n=!t.rootElement.classList.contains("oj-selected");return t._dismissMenu(t._getMenuNode(),e),n}return!0})).on("click"+this.menuEventNamespace,(function(e){var i=t._getMenu();return i.__spaceEnterDownInMenu||t._toggleMenu(e,"menu"),i.__spaceEnterDownInMenu=!1,e.preventDefault(),!0}))}},_removeMenuBehavior:function(e){this.element.removeAttr("aria-haspopup").removeAttr("role").off(this.menuEventNamespace),this._dismissMenu(e),i(e).off(this.menuEventNamespace),this._menuListenerSet=!1},_getMenu:function(){var e=this._getMenuOnly(this._getMenuNode());if(!e)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');if(!this._menuListenerSet){var t,i=this;t=e._IsCustomElement()?"ojClose":"ojclose",e.widget().on(t+this.menuEventNamespace,(function(e){i._menuDismissHandler(e)})),this._menuListenerSet=!0}return e},_getMenuOnly:function(e){var t=o.__GetWidgetConstructor(i(e)[0],"ojMenu");return t&&t("instance")},_toggleMenu:function(e,t){if(!this._IsEffectivelyDisabled()){var i=this._getMenu(),n=i.widget();this._menuVisible?this._dismissMenu(this._getMenuNode(),e):(i.open(e,{launcher:this.element,initialFocus:t}),n.is(":visible")&&(this._menuVisible=!0,n[0].getAttribute("aria-label")||n[0].getAttribute("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,n[0].setAttribute("aria-labelledby",this.element[0].getAttribute("id"))),this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")))}},_dismissMenu:function(e,t){if(this._menuVisible){var i=this._getMenuOnly(e);i&&(i.__collapseAll(t,!0),i.__dismiss(t))}},_menuDismissHandler:function(){this._setAriaLabelledBy&&(i(this._getMenuNode()).removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var e,t;if(i(this.rootElement).is(".oj-hover, .oj-active, .oj-selected, .oj-disabled"))e=!1,t=!1;else{var n=i(this.rootElement).is(".oj-focus");e=!n,t=n}e?this.rootElement.classList.add("oj-default"):this.rootElement.classList.remove("oj-default"),t?this.rootElement.classList.add("oj-focus-only"):this.rootElement.classList.remove("oj-focus-only")}}),t.__registerWidget("oj.ojButtonset",i.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"solid",display:"all",focusManagement:"oneTabstop",labelledBy:null,describedBy:null},_setCheckedOnDom:function(e,t){var n,s=i.type(e),o=this.element[0];if((n="OJ-BUTTONSET-MANY"===o.tagName||t.length>0&&t.filter("input[type=checkbox]").length===t.length)&&"array"!==s)throw new Error("Invalid 'checked' value set on JET Buttonset: "+e);if(!(this._setCheckedOnButtons(e,t,s,n)||null==e||this._IsCustomElement()&&t.length!==o.children.length))throw new Error("Invalid 'checked' value set on JET Buttonset: "+e)},_setCheckedOnButtons:function(e,t,i,n){var s=this._shallowCompare(e,t,n);return this._shouldDeepCompare(e,n,s)&&(s=this._deepCompare(e,t,n,s)),n?s===e.length:1===s},_shallowCompare:function(e,t,i){var n=this,s=0;return t.each((function(){var t=n._getInputValue(this);(i?e.indexOf(t)>-1:t===e)?(this.checked=!0,s+=1):this.checked=!1})),s},_shouldDeepCompare:function(e,t,i){return t?i!==e.length:!i},_deepCompare:function(e,t,i,n){var s=n,o=this;return t.each((function(){var t=o._getInputValue(this);if(i)for(var n=0;n<e.length;n++)o._deepCompareValues(t,e[n])&&(this.checked=!0,s+=1);else o._deepCompareValues(t,e)&&(this.checked=!0,s+=1)})),s},_deepCompareValues:function(e,n){return"object"===i.type(e)&&e.ojCompareValues?0===e.ojCompareValues(e,n):t.Object.compareValues(e,n)},_getInputValue:function(e){return this._IsCustomElement()?this._getOjOptionFromInput(e).value:e.value},_getOjOptionFromInput:function(e){return e.previousElementSibling.children[0]},_getCheckedFromDom:function(e){var t,i=null,n=null,s=this;return e.each((function(){if("input"!==this.tagName.toLowerCase())return t=void 0,!1;var e,o,a=this.type.toLowerCase();if("radio"===a)e=!0,o=this.name.toLowerCase();else{if("checkbox"!==a)return t=void 0,!1;e=!1,o=null}if(void 0!==t&&(e!==i||o!==n||i&&!n))return t=void 0,!1;var r=s._getInputValue(this);void 0===t?(t=e?this.checked?r:null:this.checked?[r]:[],i=e,n=o):this.checked&&(i?t=r:t.push(r))})),t},_CompareOptionValues:function(e,t,n){return"checked"===e?t===n||"array"===i.type(t)&&"array"===i.type(n)&&this._compareArraysAsSets(t,n):this._superApply(arguments)},_compareArraysAsSets:function(e,t){return!e.some((function(e){return t.indexOf(e)<0}))&&!t.some((function(t){return e.indexOf(t)<0}))},_removeNonOjOptions:function(){this.element.children(":not(oj-option)").remove()},_processOjOptions:function(){var e=this,t=this.element[0].querySelectorAll("oj-option");i.each(t,(function(t,i){i.customOptionRenderer=e._customOptionRenderer.bind(e)}))},_customOptionRenderer:function(e){this._removeOptionDecoration(e),this._addOptionDecoration(e)},_addOptionDecoration:function(e){this._addOptionClasses(e);var t="OJ-BUTTONSET-ONE"===this.element[0].tagName,n=t?"radio":"checkbox",s=e.value,o=e.disabled,a=document.createElement("input"),r=document.createElement("label");i(a).uniqueId(),a.value=s,a.type=n,a.disabled=o;var l=a.id;r.htmlFor=l,t&&(this._name||(this._name="_n_"+l),a.name=this._name),e.parentNode.insertBefore(r,e),r.appendChild(e),r.parentNode.insertBefore(a,r.nextElementSibling),this._setup(!1),this._setCheckedOnDom(this.options.checked,this.$buttons),this.$buttons.each((function(){i(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}))},_removeOptionDecoration:function(e){var t=e.parentNode;if("LABEL"===t.tagName){this._removeOptionClasses(e);var n=i(t).siblings(".oj-button-input");n.ojButton("destroy"),n.removeUniqueId(),n.remove(),t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)}},_addOptionClasses:function(e){var t=l.CustomElementUtils.getSlotMap(e),i=t[""]?t[""]:null,n=t.startIcon?t.startIcon[0]:null,s=t.endIcon?t.endIcon[0]:null;if(n&&(n.classList.add("oj-button-icon"),n.classList.add("oj-start")),i)for(var o=0;o<i.length;o++){var a=i[o],r=a;3===a.nodeType&&(r=document.createElement("span"),a.parentNode.insertBefore(r,a),r.appendChild(a)),r.classList.add("oj-button-text")}s&&(s.classList.add("oj-button-icon"),s.classList.add("oj-end"))},_removeOptionClasses:function(e){var t=l.CustomElementUtils.getSlotMap(e),i=t[""]?t[""]:null,n=t.startIcon?t.startIcon[0]:null,s=t.endIcon?t.endIcon[0]:null;if(n&&(n.classList.remove("oj-button-icon"),n.classList.remove("oj-start")),i)for(var o=0;o<i.length;o++)i[o].classList.remove("oj-button-text");s&&(s.classList.remove("oj-button-icon"),s.classList.remove("oj-end"))},_InitOptions:function(e,t){if(this._super(e,t),this.$buttons=this.element.find(this._items),!("checked"in t)){this.initCheckedFromDom=!0;var n=this._getCheckedFromDom(this.$buttons);"array"!==i.type(n)&&"OJ-BUTTONSET-MANY"!==this.element[0].tagName||(this.options.checked=[]),void 0!==n&&this.option("checked",n,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super();var e=this.element[0];e.setAttribute(o._OJ_CONTAINER_ATTR,this.widgetName),e.classList.add("oj-buttonset"),e.classList.add("oj-component"),this._setRole(this.options.focusManagement),this._IsCustomElement()&&(this._removeNonOjOptions(),this._processOjOptions()),this._setup(!0)},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(t,i,{launcher:n,position:{of:"keyboard"===i?n.ojButton("widget"):t}})},_propagateDisabled:function(e){var t=!!e;this.$buttons.each((function(){i(this).data("oj-ojButton").__setAncestorComponentDisabled(t)}))},_setRole:function(e){var t=this.element[0];"oneTabstop"===e?t.setAttribute("role","toolbar"):t.removeAttribute("role")},_setOption:function(e,t,n){var s=this.options[e];if(this._superApply(arguments),"disabled"===e){if(this._propagateDisabled(t),this._refreshTabStop(),!this._IsCustomElement()){var o=i(this.element).closest(".oj-toolbar");o.length&&o.ojToolbar("refresh")}}else if("checked"===e)this._setCheckedOnDom(t,this.$buttons),this.$buttons.each((function(){i(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}));else if("focusManagement"===e)this._setRole(t);else if("chroming"===e)f(this.element[0],t),this.$buttons.ojButton("refresh");else if("display"===e)this.$buttons.ojButton("option",e,t);else if("labelledBy"===e){var a=this.element;this._labelledByUpdatedForSet(a[0].id,s,t,a)}else"describedBy"===e&&this._describedByUpdated(s,t)},refresh:function(){this._super(),this._IsCustomElement()&&this._processOjOptions(),this._setup(!1)},_setup:function(e){var t=this,n=this.element[0];this.isRtl="rtl"===this._GetReadingDirection(),f(n,this.options.chroming),!e||this.initCheckedFromDom||this._IsCustomElement()||this._setCheckedOnDom(this.options.checked,this.$buttons),e||(this.$buttons=this.element.find(this._items)),this.$buttons.length>1?n.classList.add("oj-buttonset-multi"):n.classList.remove("oj-buttonset-multi"),this.$buttons.filter(":oj-button").ojButton("refresh").each((function(){i(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})).end().not(":oj-button").ojButton({display:this.options.display}).end();for(var s=0,o=this.$buttons.length;s<o;s++){var a=this.$buttons.eq(s).ojButton("widget")[0];a.classList.remove("oj-buttonset-first"),a.classList.remove("oj-buttonset-last"),0===s?a.classList.add("oj-buttonset-first"):s===o-1&&a.classList.add("oj-buttonset-last")}this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,(function(e){t._handleKeyDown(e,i(this))})).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,(function(){i(this).data("oj-ojButton")._IsEffectivelyDisabled()||t._setTabStop(i(this))})).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,(function(){t._setTabStop(i(this))})),this.$enabledButtons=this.$buttons.filter((function(){return!i(this).data("oj-ojButton")._IsEffectivelyDisabled()})),this._initTabindexes(e)),this.element.uniqueId(),this._labelledByUpdatedForSet(n.id,null,this.options.labelledBy,this.element);var r=this.options.describedBy;r&&this._describedByUpdated(r)},_labelledByUpdatedForSet:r._labelledByUpdatedForSet,_describedByUpdated:r._describedByUpdated,_GetContentElement:function(){return null!=this.$buttons||(this.$buttons=this.element.find(this._items)),this.$buttons},_refreshTabStop:function(){"oneTabstop"===this.options.focusManagement&&(this.$enabledButtons=this.$buttons.filter((function(){return!i(this).data("oj-ojButton")._IsEffectivelyDisabled()})),this._initTabindexes(!1))},_initTabindexes:function(e){var t,n=i(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","0"),t=e||!n.is(this.$enabledButtons)?this.$enabledButtons.first():n,this._setTabStop(t)},_mapToTabbable:function(e){var t=this.$enabledButtons;return e.map((function(e,i){if("radio"!==i.type||i.checked||""===i.name)return i;var n=g(i,t).filter(":checked");return n.length?n[0]:i}))},_setTabStop:function(e){var t=(e=this._mapToTabbable(e))[0];t!==this._lastTabStop&&(e[0]&&e[0].setAttribute("tabindex","0"),this._lastTabStop=t)},_handleKeyDown:function(e,t){switch(e.which){case i.ui.keyCode.UP:case i.ui.keyCode.DOWN:if("radio"!==t[0].getAttribute("type"))break;case i.ui.keyCode.LEFT:case i.ui.keyCode.RIGHT:e.preventDefault();var n=this.$enabledButtons,s=n.length;if(s<2)break;var o=(n.index(t)+(e.which===i.ui.keyCode.DOWN||e.which===i.ui.keyCode.RIGHT!==this.isRtl?1:-1)+s)%s;n.eq(o).focus()}},_destroy:function(){var e=this.element[0];b(e,"oj-buttonset oj-component "+h),e.removeAttribute(o._OJ_CONTAINER_ATTR),e.removeAttribute("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map((function(){return i(this).ojButton("widget")[0]})).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}}),o.setDefaultOptions({ojButton:{chroming:o.createDynamicPropertyGetter((function(e){return v("button",e.element,e.containers)}))},ojButtonset:{chroming:o.createDynamicPropertyGetter((function(e){return v("buttonset",e.element,e.containers)}))}})}()})),
/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojdialog",["ojs/ojpopupcore","ojs/ojbutton","jqueryui-amd/widgets/mouse","jqueryui-amd/widgets/draggable","jquery","ojs/ojcore-base","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojfocusutils","ojs/ojcustomelement-utils","ojs/ojconfig"],(function(e,t,i,n,s,o,a,r,l,c,d,u,h){"use strict";var p,m,f,g;s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,s.widget("oj.ojResizable",{version:"1.0.0",widgetEventPrefix:"oj",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){var i=e;if("hidden"===s(i).css("overflow"))return!1;var n,o=t&&"left"===t?"scrollLeft":"scrollTop";return i[o]>0||(i[o]=1,n=i[o]>0,i[o]=0,n)},_create:function(){var e,t,i,n;this._super();var o=this,a=this.options,r=this.element.mouse.bind(this.element);if(r(),this.mouse=r("instance"),this.mouse._mouseCapture=function(e){return o._mouseCapture(e)},this.mouse._mouseStart=function(e){return o._mouseStart(e)},this.mouse._mouseDrag=function(e){return o._mouseDrag(e)},this.mouse._mouseStop=function(e){return this.element&&this.element.focus(),o._mouseStop(e)},this.element.addClass("oj-resizable"),s.extend(this,{originalElement:this.element,_proportionallyResizeElements:[],_helper:null}),this._initialResize=!0,this.handles=a.handles||(s(".oj-resizable-handle",this.element).length?{n:".oj-resizable-n",e:".oj-resizable-e",s:".oj-resizable-s",w:".oj-resizable-w",se:".oj-resizable-se",sw:".oj-resizable-sw",ne:".oj-resizable-ne",nw:".oj-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)i=s.trim(e[t]),n=s("<div class='oj-resizable-handle oj-resizable-"+i+"'></div>"),this.handles[i]=".oj-resizable-"+i,this.element.append(n);var l=Object.keys(this.handles);for(t=0;t<l.length;t++){var c=l[t];this.handles[c].constructor===String&&(this.handles[c]=this.element.children(this.handles[c]).first().show())}this._handles=s(".oj-resizable-handle",this.element),this._handles.mouseover((function(){o.resizing||(this.className&&(n=this.className.match(/oj-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")})),this.mouse._mouseInit()},_destroy:function(){this.mouse&&this.mouse._mouseDestroy();try{this.mouse.destroy(),this.mouse=null}catch(e){}var e;return e=this.originalElement,s(e).removeClass("oj-resizable oj-resizable-disabled oj-resizable-resizing").removeData("resizable").removeData("oj-resizable").unbind(".resizable").find(".oj-resizable-handle").remove(),this},_mouseCapture:function(e){for(var t=!1,i=Object.keys(this.handles),n=0;n<i.length;n++){var o=s(this.handles[i[n]])[0];(o===e.target||s.contains(o,e.target))&&(t=!0)}return!this.options.disabled&&t},_mouseStart:function(e){var t,i,n,o=this.options,a=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".oj-draggable")&&r.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(t+=s(o.containment).scrollLeft()||0,i+=s(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size={width:r.width(),height:r.height()},this.originalSize={width:r.width(),height:r.height()},this.originalPosition={left:t,top:i},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=this.originalSize.width/this.originalSize.height||1,n=s(".oj-resizable-"+this.axis).css("cursor"),s("body").css("cursor","auto"===n?this.axis+"-resize":n),r.addClass("oj-resizable-resizing"),this._propagate("start",e),this._alsoresize_start(e),this._containment_start(e),!0},_mouseDrag:function(e){var t,i=this.helper,n={},o=this.originalMousePosition,a=this.axis,r=e.pageX-o.left||0,l=e.pageY-o.top||0,c=this._change[a];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},!!c&&(t=c.apply(this,[e,r,l]),this._updateVirtualBoundaries(e.shiftKey),e.shiftKey&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this._alsoresize_resize(e,this.ui()),this._containment_resize(e,this.ui()),this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),s.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){return this.resizing=!1,s("body").css("cursor","auto"),this.element.removeClass("oj-resizable-resizing"),this._propagate("stop",e),this._alsoresize_stop(e),this._containment_stop(e),!1},_updateVirtualBoundaries:function(e){var t,i,n,s,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},e&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),s<o.maxHeight&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=e,i=this.position,n=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(n.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(n.height-t.height),t.left=i.left+(n.width-t.width)),t},_respectSize:function(e){var t=e,i=this._vBoundaries,n=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,o=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,a=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,r=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(t.width=i.minWidth),r&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),o&&(t.height=i.maxHeight),a&&d&&(t.left=l-i.minWidth),s&&d&&(t.left=l-i.maxWidth),r&&u&&(t.top=c-i.minHeight),o&&u&&(t.top=c-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element;this.elementOffset=e.offset(),this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return s.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return s.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return s.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return s.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){"resize"!==e&&this._trigger(e,t,this.ui())},_alsoresize_start:function(){var e=this.options,t=function(e){s(e).each((function(){var e=s(this);e.data("oj-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})}))};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?t(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],t(e.alsoResize)):s.each(e.alsoResize,(function(e){t(e)}))},_alsoresize_resize:function(e,t){var i=this.options,n=this.originalSize,o=this.originalPosition,a={height:this.size.height-n.height||0,width:this.size.width-n.width||0,top:this.position.top-o.top||0,left:this.position.left-o.left||0},r=function(e,i){s(e).each((function(){var e,n=s(this),o=s(this).data("oj-resizable-alsoresize"),r={};e=i&&i.length?i:n.parents(t.originalElement[0]).length?["width","height"]:["width","height","top","left"],s.each(e,(function(e,t){var i=(o[t]||0)+(a[t]||0);i&&i>=0&&(r[t]=i)})),n.css(r)}))};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?r(i.alsoResize,null):s.each(i.alsoResize,(function(e,t){r(e,t)}))},_alsoresize_stop:function(){s(this).removeData("oj-resizable-alsoresize")},_containment_start:function(){var e,t,i,n,o,a,r,l,c=this,d=c.options,u=c.element,h=d.containment;(l=h instanceof s?h.get(0):/parent/.test(h)?u.parent().get(0):h)&&(c.containerElement=s(l),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:s(document),left:0,top:0,width:s(document).width(),height:s(document).height()||document.body.parentNode.scrollHeight}):(e=s(l),t=[],s(["Top","Right","Left","Bottom"]).each((function(i,n){t[i]=c._num(e.css("padding"+n))})),c.containerOffset=e.offset(),c.containerPosition=e.position(),c.containerSize={height:e.innerHeight()-t[3],width:e.innerWidth()-t[1]},i=c.containerOffset,n=c.containerSize.height,o=c.containerSize.width,a=c._hasScroll(l,"left")?l.scrollWidth:o,r=c._hasScroll(l)?l.scrollHeight:n,c.parentData={element:l,left:i.left,top:i.top,width:a,height:r}))},_containment_resize:function(e,t){var i,n,s,o,a=this.options,r=this.containerOffset,l=this.position,c=e.shiftKey,d={top:0,left:0},u=this.containerElement,h=!0;u[0]!==document&&/static/.test(u.css("position"))&&(d=r),l.left<(this._helper?r.left:0)&&(this.size.width+=this._helper?this.position.left-r.left:this.position.left-d.left,c&&(this.size.height=this.size.width/this.aspectRatio,h=!1),this.position.left=a.helper?r.left:0),l.top<(this._helper?r.top:0)&&(this.size.height+=this._helper?this.position.top-r.top:this.position.top,c&&(this.size.width=this.size.height*this.aspectRatio,h=!1),this.position.top=this._helper?r.top:0),this.offset.left=this.parentData.left+this.position.left,this.offset.top=this.parentData.top+this.position.top,i=Math.abs((this._helper?this.offset.left-d.left:this.offset.left-r.left)+this.sizeDiff.width),n=Math.abs((this._helper?this.offset.top-d.top:this.offset.top-r.top)+this.sizeDiff.height),s=this.containerElement.get(0)===this.element.parent().get(0),o=/relative|absolute/.test(this.containerElement.css("position")),s&&o&&(i-=Math.abs(this.parentData.left)),i+this.size.width>=this.parentData.width&&(this.size.width=this.parentData.width-i,c&&(this.size.height=this.size.width/this.aspectRatio,h=!1)),n+this.size.height>=this.parentData.height&&(this.size.height=this.parentData.height-n,c&&(this.size.width=this.size.height*this.aspectRatio,h=!1)),h||(this.position.left=t.prevPosition.left,this.position.top=t.prevPosition.top,this.size.width=t.prevSize.width,this.size.height=t.prevSize.height)},_containment_stop:function(){var e=this.options,t=this.containerOffset,i=this.containerPosition,n=this.containerElement,o=s(this.helper),a=o.offset(),r=o.outerWidth()-this.sizeDiff.width,l=o.outerHeight()-this.sizeDiff.height;this._helper&&!e.animate&&/relative/.test(n.css("position"))&&s(this).css({left:a.left-i.left-t.left,width:r,height:l}),this._helper&&!e.animate&&/static/.test(n.css("position"))&&s(this).css({left:a.left-i.left-t.left,width:r,height:l})},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),p="oj-dialog-body",m="oj-dialog-footer",f="oj-dialog-header",o.__registerWidget("oj.ojDialog",s.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{cancelBehavior:"icon",dragAffordance:"title-bar",initialVisibility:"hide",modality:"modal",position:{my:{horizontal:"center",vertical:"center"},offset:{x:0,y:0},at:{horizontal:"center",vertical:"center"},of:"window",collision:"fit",using:function(e){var t=s(this).css(e).offset().top;t<0&&s(this).css("top",e.top-t)}},resizeBehavior:"resizable",role:"dialog",dialogTitle:null,title:null,beforeClose:null,beforeOpen:null,close:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var e=this;if(this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this._IsCustomElement()||(this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this.element.removeAttr("title")),this.element.hide(),this.element.uniqueId(),this.element.addClass("oj-dialog oj-component"),this.element.attr({tabIndex:-1}),this._IsCustomElement()&&this.element[0].hasAttribute("role")||this.element.attr("role",this.options.role),this._on(this.element,{keydown:this._keydownHandler.bind(this)}),this.userDefinedDialogHeader=!1,this._createContainer(),!this._IsCustomElement())for(var t=this.element.children(),i=0;i<t.length;i++){var n=s(t[i]);n.is(".oj-dialog-header")?(this.userDefinedDialogHeader=!0,this._userDefinedHeader=n,this._userDefinedHeaderDiv=t[i],this._dialogContainer.appendChild(this._userDefinedHeader[0]),l.subtreeAttached(this._userDefinedHeader)):n.is(".oj-dialog-body")?(this._createContentDiv(),this._uiDialogContent=s(this._contentDiv),this._contentDiv.appendChild(t[i]),l.subtreeAttached(t[i]),this._dialogContainer.appendChild(this._contentDiv),l.subtreeAttached(this._contentDiv),this._uiDialogBody=n,this._uiDialogBodyDiv=t[i]):n.is(".oj-dialog-footer")&&(this._uiDialogFooter=n,this._uiDialogFooterDiv=t[i],this._dialogContainer.appendChild(this._uiDialogFooter[0]),l.subtreeAttached(this._uiDialogFooter))}this._IsCustomElement()&&this._processSlottedChildren(),this.element[0].appendChild(this._dialogContainer),l.subtreeAttached(this._dialogContainer),this.userDefinedDialogHeader?(this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(".oj-dialog-title"),this._userDefinedTitle=s(this._userDefinedTitleDiv),null!==this._userDefinedTitleDiv&&void 0!==this._userDefinedTitleDiv&&(this._userDefinedTitle.uniqueId(),this.element.attr({"aria-labelledby":this._userDefinedTitle.attr("id")}))):this._createTitlebar(),this._uiDialogContent||(this._createContentDiv(),this._uiDialogContent=s(this._contentDiv),this._userDefinedHeader?this._dialogContainer.insertBefore(this._contentDiv,this._userDefinedHeaderDiv.nextSibling):this._dialogContainer.insertBefore(this._contentDiv,this._uiDialogTitlebarDiv.nextSibling),l.subtreeAttached(this._contentDiv)),this._setupFocus(this.element);var a=this.options;a.position=o.PositionUtils.coerceToJet(a.position),this._IsCustomElement()&&(this._titleMutationObserver=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type&&"title"===t.attributeName&&(e._uiDialogTitleDiv.textContent=t.target.getAttribute(t.attributeName))}))})),this._titleMutationObserver.observe(this.element[0],{attributes:!0,attributeFilter:["title"]}))},_createContainer:function(){this._dialogContainer=document.createElement("div"),this._dialogContainer.classList.add("oj-dialog-container")},_createHeaderSlot:function(){this._headerSlot=document.createElement("div"),this._headerSlot.classList.add(f),this._dialogContainer.appendChild(this._headerSlot),l.subtreeAttached(this._headerSlot),this.userDefinedDialogHeader=!0,this._userDefinedHeaderDiv=this._headerSlot,this._userDefinedHeader=s(this._headerSlot)},_createFooterSlot:function(){this._footerSlot=document.createElement("div"),this._dialogContainer.appendChild(this._footerSlot),l.subtreeAttached(this._footerSlot),this._uiDialogFooterDiv=this._footerSlot,this._uiDialogFooter=s(this._footerSlot)},_createContentDiv:function(){this._contentDiv=document.createElement("div"),this._contentDiv.classList.add("oj-dialog-content","oj-dialog-default-content")},_createBodySlot:function(){this._createContentDiv(),this._dialogContainer.appendChild(this._contentDiv),l.subtreeAttached(this._contentDiv),this._bodySlot=document.createElement("div"),this._bodySlot.classList.add("oj-dialog-body-wrapper"),this._contentDiv.appendChild(this._bodySlot),this._uiDialogContent=s(this._contentDiv),this._uiDialogBodyDiv=this._bodySlot,this._uiDialogBody=s(this._bodySlot)},_GetContextMenu:function(){return this._IsCustomElement()?this._contextmenuSlot&&this._contextmenuSlot.length>0?this._contextmenuSlot[0]:this._super():null},_processSlottedChildren:function(){null!=this._footerSlot&&this.element[0].removeChild(this._footerSlot),null!=this._headerSlot&&this.element[0].removeChild(this._headerSlot),null!=this._bodySlot&&this.element[0].removeChild(this._bodySlot),null!=this._contextmenuSlot&&this.element[0].removeChild(this._contextmenuSlot);var e,t,i=u.CustomElementUtils.getSlotMap(this.element[0]),n=Object.keys(i);for(t=0;t<n.length;t++)"header"!==(e=n[t])&&"footer"!==e&&"body"!==e&&""!==e&&"contextMenu"!==e&&i[e].parentNode.removeChild(i[e]);var s=Object.prototype.hasOwnProperty;s.call(i,"header")&&this._createHeaderSlot(),(s.call(i,"body")||s.call(i,""))&&this._createBodySlot(),s.call(i,"footer")&&this._createFooterSlot(),s.call(i,"contextMenu")&&(this._contextmenuSlot=i.contextMenu);var o=this._bodySlot;for(t=0;t<n.length;t++){switch(e=n[t]){case"header":o=this._headerSlot;break;case"footer":o=this._footerSlot;break;case"body":case"":o=this._bodySlot}var a=i[e];if(null!=a)for(var r=0;r<a.length;r++)switch(o.appendChild(a[r]),e){case"header":break;case"footer":o=this._footerSlot,i[e][r].classList.add(m);break;case"body":case"":o=this._bodySlot,i[e][r].classList.add(p)}}},_AfterCreateEvent:function(){"show"===this.options.initialVisibility&&this.open()},_destroy:function(){this._off(this.element,"keydown"),o.ZOrderUtils.getStatus(this.element)===o.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyResizable(),this.element.hasClass("oj-draggable")&&(this.element.draggable("destroy"),this.element.removeClass("oj-draggable")),this._destroyCloseButton(),this.userDefinedDialogHeader&&this._userDefinedTitle.removeUniqueId(),this._uiDialogBody&&this._uiDialogBody.insertAfter(this._uiDialogContent),this._uiDialogContent.remove(),this._uiDialogBody=null,this._uiDialogContent=null,this.element.removeUniqueId().removeClass("oj-dialog oj-component").css(this.originalCss),this.element.stop(!0,!0),this._IsCustomElement()||this.originalTitle&&this.element.attr("title",this.originalTitle),this._uiDialogTitlebar&&(this._uiDialogTitlebar.remove(),this._uiDialogTitlebar=null),delete this._popupServiceEvents,this._super()},disable:s.noop,enable:s.noop,close:function(e){if(!this._isOperationPending("close",[e])){var t=o.ZOrderUtils.getStatus(this.element);if(t===o.ZOrderUtils.STATUS.OPEN)if(o.ZOrderUtils.setStatus(this.element,o.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose",e)||this._ignoreBeforeCloseResultant){if(this._setWhenReady("close"),this._focusedElement=null,"modal"===this.options.modality){var i=Array.prototype.forEach,n=this.element[0].querySelectorAll(".oj-helper-element-in-dialog-with-accesskey");i.call(n,(function(e){e.classList.remove("oj-helper-element-in-dialog-with-accesskey")}));var s=document.querySelectorAll(".oj-helper-element-with-accesskey");i.call(s,(function(e){e.setAttribute("accesskey",e.getAttribute("data-ojAccessKey")),e.removeAttribute("data-ojAccessKey"),e.classList.remove("oj-helper-element-with-accesskey")}))}var a={};a[o.PopupService.OPTION.POPUP]=this.element,a[o.PopupService.OPTION.CONTEXT]={closeEvent:e},o.PopupService.getInstance().close(a)}else o.ZOrderUtils.setStatus(this.element,t)}},_beforeCloseHandler:function(e){var t=e[o.PopupService.OPTION.POPUP],i=this._isFullDisplay(),n=this._isSheetDisplay();this._unregisterResizeListener(t[0]),this._destroyResizable(),n&&this._disableBodyOverflow();var s,a=(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).animation;if(a&&(n&&!i&&a.sheet?s=a.sheet.close:a.normal?s=a.normal.close:a.close&&(s=a.close)),!this._ignoreBeforeCloseResultant&&s)return c.startAnimation(t[0],"close",s,this).then((function(){t.hide()}));t.hide()},_afterCloseHandler:function(e){var t,i=e[o.PopupService.OPTION.CONTEXT];if(this._restoreBodyOverflow(),!this.opener.filter(":focusable").focus().length){var n=this.opener.parents().filter(":focusable");n.length>0?n[0].focus():s(this.document[0].activeElement).blur()}i&&(t=i.closeEvent),this._trigger("close",t)},isOpen:function(){var e=o.ZOrderUtils.getStatus(this.element);return e===o.ZOrderUtils.STATUS.OPENING||e===o.ZOrderUtils.STATUS.OPEN||e===o.ZOrderUtils.STATUS.BEFORE_CLOSE||e===o.ZOrderUtils.STATUS.CLOSING},open:function(e){if(!this._isOperationPending("open",[e])){var t=o.ZOrderUtils.getStatus(this.element);if(t===o.ZOrderUtils.STATUS.OPEN||t===o.ZOrderUtils.STATUS.UNKNOWN||t===o.ZOrderUtils.STATUS.CLOSE)if(this._isDefaultPosition=!this._hasPositionAttribute(),o.ZOrderUtils.setStatus(this.element,o.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen",e)){if(t===o.ZOrderUtils.STATUS.OPEN)return o.ZOrderUtils.setStatus(this.element,t),void this._focusTabbable();this._setWhenReady("open"),this.userDefinedDialogHeader?void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._userDefinedHeaderDiv):this._createTitlebarCloseButton(),this.opener=s(this.document[0].activeElement);var i=this._isSheetDisplay();i&&this.element[0].classList.add("oj-dialog-sheet"),!i&&"title-bar"===this.options.dragAffordance&&s.fn.draggable&&this._makeDraggable();var n="rtl"===this._GetReadingDirection(),a=this.options.position;if(i&&(a=this._setSheetPosition(this.options.position)),a=o.PositionUtils.coerceToJqUi(a),a=o.PositionUtils.normalizeHorizontalAlignment(a,n),"modal"===this.options.modality){var r=Array.prototype.forEach,l=this.element[0].querySelectorAll("[accesskey]");r.call(l,(function(e){e.classList.add("oj-helper-element-in-dialog-with-accesskey")}));var c=document.querySelectorAll("[accesskey]");r.call(c,(function(e){e.classList.contains("oj-helper-element-in-dialog-with-accesskey")||(e.classList.add("oj-helper-element-with-accesskey"),e.setAttribute("data-ojAccessKey",e.getAttribute("accesskey")),e.removeAttribute("accesskey"))}))}var d={};d[o.PopupService.OPTION.POPUP]=this.element,d[o.PopupService.OPTION.LAUNCHER]=this.opener,d[o.PopupService.OPTION.POSITION]=a,d[o.PopupService.OPTION.MODALITY]=this.options.modality,d[o.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),d[o.PopupService.OPTION.LAYER_SELECTORS]="oj-dialog-layer",d[o.PopupService.OPTION.LAYER_LEVEL]=o.PopupService.LAYER_LEVEL.TOP_LEVEL,d[o.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),o.PopupService.getInstance().open(d)}else o.ZOrderUtils.setStatus(this.element,t)}},_beforeOpenHandler:function(e){var t=e[o.PopupService.OPTION.POPUP],i=e[o.PopupService.OPTION.POSITION],n=this._isSheetDisplay();n&&this._disableBodyOverflow(),t.show();var s=this._isFullDisplay();s&&this.element[0].classList.add("oj-dialog-full"),t.position(i),this._registerResizeListener(this.element[0]),t.parent().addClass("oj-animate-open");var a,l=(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).animation;if(l&&(n&&!s&&l.sheet?a=l.sheet.open:l.normal?a=l.normal.open:l.open&&(a=l.open)),a)return c.startAnimation(t[0],"open",a,this)},_afterOpenHandler:function(e){e[o.PopupService.OPTION.POPUP].parent().removeClass("oj-animate-open"),this._restoreBodyOverflow(),this._makeResizable(),this._trigger("open"),this._focusTabbable()},refresh:function(){this._super()},_unregisterResizeListener:function(e){e&&this._resizeHandler&&(a.removeResizeListener(e,this._resizeHandler),this._resizeHandler=null)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),a.addResizeListener(e,this._resizeHandler,100,!0))},_handleResize:function(){o.ZOrderUtils.getStatus(this.element)===o.ZOrderUtils.STATUS.OPEN&&this._adjustPosition()},_focusTabbable:function(){this.GetFocusElement().focus(),this._trigger("focus")},GetFocusElement:function(){var e=null;return!0===this._titleBarMousedown?this.element[0]:(null!=(e=this.element.find("[autofocus]"))&&e.length||null==(e=d.getFirstTabStop(this._contentDiv)))&&(null!=e&&e.length||!this._uiDialogFooter||!this._uiDialogFooter.length||null==(e=d.getFirstTabStop(this._uiDialogFooterDiv)))?(null!=e&&e.length||this.closeButton&&(e=this.closeButton),null!=e&&e.length||(e=this.element),e[0]):e},_keydownHandler:function(e){if("none"!==this.options.cancelBehavior&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===s.ui.keyCode.ESCAPE)return e.preventDefault(),e.stopImmediatePropagation(),void this.close(e);var t;e.keyCode===s.ui.keyCode.TAB&&(e.shiftKey?(d.isFirstActiveElement(this.element)||document.activeElement===this.element[0])&&null!=(t=d.getLastTabStop(this.element))&&(t.focus(),e.preventDefault()):(d.isLastActiveElement(this.element)||document.activeElement===this.element[0])&&null!=(t=d.getFirstTabStop(this.element))&&(t.focus(),e.preventDefault()))},_setupFocus:function(e){var t=this;this._focusable({applyHighlight:!0,setupHandlers:function(i,n){t._on(e,{focus:function(e){i(s(e.currentTarget))},blur:function(e){n(s(e.currentTarget))}})}})},_disableBodyOverflow:function(){document.body.classList.add("oj-dialog-sheet-animating")},_restoreBodyOverflow:function(){document.body.classList.remove("oj-dialog-sheet-animating")},_destroyCloseButton:function(){null!==this.closeButtonDiv&&void 0!==this.closeButtonDiv&&(this.closeButtonDiv.parentElement&&(l.subtreeDetached(this.closeButtonDiv),this.closeButtonDiv.parentElement.removeChild(this.closeButtonDiv)),this.closeButton=null),this._headerSlot&&this._headerSlot.classList.remove("oj-dialog-header-close"),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.remove("oj-dialog-header-close")},_createCloseButton:function(e){if(this._IsCustomElement()){this.closeButtonDiv=document.createElement("oj-button"),this.closeButtonDiv.classList.add("oj-dialog-header-close-wrapper"),this.closeButtonDiv.setAttribute("data-oj-binding-provider","none"),this.closeButtonDiv.setAttribute("display","icons"),this.closeButtonDiv.setAttribute("chroming","half");var t=document.createElement("span");t.textContent=this.getTranslatedString("labelCloseIcon");var i=document.createElement("span");i.className="oj-fwk-icon oj-fwk-icon-cross",i.setAttribute("slot","startIcon"),this.closeButtonDiv.appendChild(i),this.closeButtonDiv.appendChild(t),e.appendChild(this.closeButtonDiv),l.subtreeAttached(this.closeButtonDiv),this.closeButton=s(this.closeButtonDiv)}this._IsCustomElement()||(this.closeButton=s("<button><\button>").addClass("oj-dialog-header-close-wrapper"),this.closeButton.ojButton({display:"icons",chroming:"half",label:this.getTranslatedString("labelCloseIcon"),icons:{start:"oj-component-icon oj-fwk-icon-cross"}}).appendTo(e),this.closeButtonDiv=this.closeButton[0]),this._on(this.closeButton,{click:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.close(e)}}),this._headerSlot&&this._headerSlot.classList.add("oj-dialog-header-close"),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.add("oj-dialog-header-close")},_createTitlebarCloseButton:function(){void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._uiDialogTitlebarDiv),this._on(this._uiDialogTitlebar,{mousedown:function(e){var t=a.isAncestorOrSelf(this.closeButtonDiv,e.target);this._titleBarMousedown=!0,t||this.element.focus()},mouseup:function(){this._titleBarMousedown=null}})},_createTitlebar:function(){this._uiDialogTitlebarDiv=document.createElement("div"),this._uiDialogTitlebarDiv.classList.add(f),this._dialogContainer.insertBefore(this._uiDialogTitlebarDiv,this._dialogContainer.firstChild),l.subtreeAttached(this._uiDialogTitlebarDiv),this._uiDialogTitlebar=s(this._uiDialogTitlebarDiv),this._uiDialogTitleDiv=document.createElement("h1"),this._uiDialogTitleDiv.classList.add("oj-dialog-title"),s(this._uiDialogTitleDiv).uniqueId(),this._uiDialogTitlebarDiv.appendChild(this._uiDialogTitleDiv),l.subtreeAttached(this._uiDialogTitleDiv),this._title(this._uiDialogTitleDiv),this.element.attr({"aria-labelledby":this._uiDialogTitleDiv.id})},_title:function(e){var t=e;this._IsCustomElement()?this._IsCustomElement()&&(this.options.dialogTitle?t.textContent=this.options.dialogTitle:this.element.attr("title")?t.textContent=this.element.attr("title"):t.innerHTML="&#160;"):(this.options.title||(t.innerHTML="&#160;"),t.textContent=this.options.title)},_makeDraggable:function(){var e=this,t=this.options;function i(e){return{position:e.position,offset:e.offset}}this.element.draggable({addClasses:!1,handle:".oj-dialog-header",containment:"document",start:function(t,n){s(this).addClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStart",t,i(n))},drag:function(t,n){e._positionDescendents(),e._trigger("drag",t,i(n))},stop:function(n,o){var a=o.offset.left-e.document.scrollLeft(),r=o.offset.top-e.document.scrollTop();t.position={my:{horizontal:"left",vertical:"top"},at:{horizontal:"left",vertical:"top"},offset:{x:a>=0?a:0,y:r>=0?r:0},of:window},s(this).removeClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStop",n,i(o))}}),this.element.addClass("oj-draggable")},_destroyResizable:function(){this._resizableComponent&&this._resizableComponent("instance")&&(this._resizableComponent("destroy"),delete this._resizableComponent)},_makeResizable:function(){if(this._destroyResizable(),"resizable"===this.options.resizeBehavior){var e=this;this._resizableComponent=this.element.ojResizable.bind(this.element);var t=Math.max(a.getCSSLengthAsFloat(this.element.css("min-width")),10),i=Math.max(a.getCSSLengthAsFloat(this.element.css("min-height")),10),n=a.getCSSLengthAsFloat(this.element.css("max-width")),o=a.getCSSLengthAsFloat(this.element.css("max-height"));n=0===n?null:n,o=0===o?null:o,this._resizableComponent({minWidth:t,minHeight:i,maxWidth:n,maxHeight:o,cancel:".oj-dialog-content",containment:"document",handles:"n,e,s,w,se,sw,ne,nw",start:function(t,i){e._isResizing=!0,s(this).addClass("oj-dialog-resizing"),e._trigger("resizeStart",t,r(i))},resize:function(t,i){e._trigger("resize",t,r(i))},stop:function(t,i){e._isResizing=!1,s(this).removeClass("oj-dialog-resizing"),e._trigger("resizeStop",t,r(i))}})}function r(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}},_position:function(){var e="rtl"===this._GetReadingDirection(),t=this.options.position;this._isSheetDisplay()&&(t=this._setSheetPosition(t)),t=o.PositionUtils.coerceToJqUi(t),t=o.PositionUtils.normalizeHorizontalAlignment(t,e),this.element.position(t),this._positionDescendents()},_positionDescendents:function(){o.PopupService.getInstance().triggerOnDescendents(this.element,o.PopupService.EVENT.POPUP_REFRESH)},_adjustPosition:function(){var e=this.element.hasClass("oj-draggable"),t=this.element.hasClass("oj-resizable");e||t||this.element.width()>window.innerWidth||this.element.height()>window.innerHeight?this._positionDescendents():this._position()},_isSheetDisplay:function(){if(this._isDefaultPosition){var e=r.parseJSONFromFontFamily("oj-theme-json").behavior,t="phone"===h.getDeviceRenderMode();if(e.includes("redwood")&&t)return!0}return!1},_isFullDisplay:function(){if(!this._isSheetDisplay())return!1;var e=window.innerHeight,t=window.innerWidth,i=this.element[0].offsetHeight,n=this.element[0].offsetWidth;return i>=.95*e&&n>=.95*t},_hasPositionAttribute:function(){for(var e=this.element[0].attributes,t=0;t<e.length;t++)if(e[t].name.startsWith("position"))return!0;return!1},_setSheetPosition:function(e){var t=s.extend({},e);return t.my.vertical="bottom",t.at.vertical="bottom",t.of=window,t},_setOption:function(e,t,i){var n;if("disabled"!==e)switch(this._super(e,t,i),e){case"dragAffordance":(n=this.element.hasClass("oj-draggable"))&&"none"===t&&(this.element.draggable("destroy"),this.element.removeClass("oj-draggable")),this._isSheetDisplay()||n||"title-bar"!==t||this._makeDraggable();break;case"position":this._isDefaultPosition=!1;var a=this.options;return a.position=o.PositionUtils.coerceToJet(t,a.position),void this._position();case"resizeBehavior":o.ZOrderUtils.getStatus(this.element)===o.ZOrderUtils.STATUS.OPEN&&this._makeResizable();break;case"title":case"dialogTitle":this.userDefinedDialogHeader?this._title(this._userDefinedHeaderDiv.querySelector(".oj-dialog-title")):this._title(this._uiDialogTitlebarDiv.querySelector(".oj-dialog-title"));break;case"role":this.element.attr("role",t);break;case"modality":if(o.ZOrderUtils.getStatus(this.element)===o.ZOrderUtils.STATUS.OPEN){var r={};r[o.PopupService.OPTION.POPUP]=this.element,r[o.PopupService.OPTION.MODALITY]=t,o.PopupService.getInstance().changeOptions(r)}break;case"cancelBehavior":"none"===t||"escape"===t?this._destroyCloseButton():"icon"===t&&(this.userDefinedDialogHeader?(this._destroyCloseButton(),this._createCloseButton(this._userDefinedHeaderDiv),this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(".oj-dialog-title"),this._userDefinedTitle=s(this._userDefinedTitleDiv)):(this._destroyCloseButton(),this._createCloseButton(this._uiDialogTitlebarDiv),this.standardTitleDiv=this._uiDialogTitlebarDiv.querySelector(".oj-dialog-title"),this.standardTitle=s(this.standardTitleDiv)))}},getNodeBySubId:function(e){if(null===e)return this.element?this.element[0]:null;function t(e){for(var t=[],i=/\w|_|-/,n=0;n<e.length;n++){var s=e.substring(n,n+1);i.test(s)?t.push(s):t.push("\\"+s)}return t.join("")}var i=e.subId;if(!this._IsCustomElement()||i!==m&&i!==p){var n,s;switch(i){case f:case"oj-dialog-content":case m:return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > .oj-dialog-container > ',n+="."+i,(s=this.element.parent().find(n))&&0!==s.length?s[0]:null;case"oj-resizable-n":case"oj-resizable-e":case"oj-resizable-s":case"oj-resizable-w":case"oj-resizable-se":case"oj-resizable-sw":case"oj-resizable-ne":case"oj-resizable-nw":return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',n+="."+i,(s=this.element.parent().find(n))&&0!==s.length?s[0]:null;case"oj-dialog-close-icon":case"oj-dialog-close":return null;case p:return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',n+=".oj-dialog-container > .oj-dialog-content > ",n+="."+i,(s=this.element.parent().find(n))&&0!==s.length?s[0]:null;case"oj-dialog-header-close-wrapper":return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',n+=".oj-dialog-container > .oj-dialog-header > ",n+="."+i,(s=this.element.parent().find(n))&&0!==s.length?s[0]:null}}else{if(i===p)return this._uiDialogBodyDiv.querySelector(".oj-dialog-body");if(i===m)return this._uiDialogFooterDiv.querySelector(".oj-dialog-footer")}return null},getSubIdByNode:function(e){if(null!=e){var t=s(e);if(t.hasClass(f))return{subId:f};if(t.hasClass(m))return{subId:m};if(t.hasClass("oj-dialog-content"))return{subId:"oj-dialog-content"};if(t.hasClass("oj-dialog-header-close-wrapper"))return{subId:"oj-dialog-header-close-wrapper"};if(t.hasClass("oj-resizable-n"))return{subId:"oj-resizable-n"};if(t.hasClass("oj-resizable-e"))return{subId:"oj-resizable-e"};if(t.hasClass("oj-resizable-s"))return{subId:"oj-resizable-s"};if(t.hasClass("oj-resizable-w"))return{subId:"oj-resizable-w"};if(t.hasClass("oj-resizable-se"))return{subId:"oj-resizable-se"};if(t.hasClass("oj-resizable-sw"))return{subId:"oj-resizable-sw"};if(t.hasClass("oj-resizable-ne"))return{subId:"oj-resizable-ne"};if(t.hasClass("oj-resizable-nw"))return{subId:"oj-resizable-nw"}}return null},_surrogateRemoveHandler:function(){var e=this.element;o.ZOrderUtils.getStatus(e)===o.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};e[o.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),e[o.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[o.PopupService.EVENT.POPUP_REFRESH]=this._adjustPosition.bind(this),e[o.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[o.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[o.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[o.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this),this._popupServiceEvents=e}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojDialog",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_NotifyDetached:function(){o.ZOrderUtils.getStatus(this.element)===o.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}}),l.setDefaultOptions({ojDialog:{resizeBehavior:l.createDynamicPropertyGetter((function(){return(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).resizeBehavior})),cancelBehavior:l.createDynamicPropertyGetter((function(){return(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).cancelBehavior})),dragAffordance:l.createDynamicPropertyGetter((function(){return(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).dragAffordance}))}}),(g={properties:{cancelBehavior:{type:"string",enumValues:["escape","icon","none"]},dialogTitle:{type:"string"},dragAffordance:{type:"string",enumValues:["none","title-bar"]},initialVisibility:{type:"string",enumValues:["hide","show"],value:"hide"},modality:{type:"string",enumValues:["modal","modeless"],value:"modal"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"center"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"center"}}},collision:{type:"string",enumValues:["fit","flip","flipfit","none"],value:"fit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"center"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"center"}}},of:{type:"string|object",value:"window"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},resizeBehavior:{type:"string",enumValues:["none","resizable"]},translations:{type:"object",value:{},properties:{labelCloseIcon:{type:"string"}}}},methods:{close:{},getProperty:{},isOpen:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeClose:{},ojBeforeOpen:{},ojClose:{},ojFocus:{},ojOpen:{},ojResize:{},ojResizeStart:{},ojResizeStop:{}},extension:{}}).extension._WIDGET_NAME="ojDialog",g.extension._CONTROLS_SUBTREE_HIDDEN=!0,o.CustomElementBridge.register("oj-dialog",{metadata:g})})),define("core/dialog/OJDialog",["jquery","underscore","knockout","core/dialog/OJDialog.template","core/apm/apmHelper","ojs/ojcore","ojs/ojknockout","ojs/ojdialog","core/util/FeatureFlags","core/extensions","core/util/Utils","jqueryui-amd/widgets/dialog","jqueryui-amd/widgets/button"],(function(e,t,i,n,s){"use strict";return{show:function(o){if((o=o||{}).$cssDfd=docs.common.Utils.requireCssBundleAsPromise(["gemini-dialog"]),!o.useOJET&&!checkFeatureFlag(o.featureFlag||"OJDialogs"))return this.jqShow(o);var a=new o.DialogClass(o);a.isOJDialog=!0,a.render();var r,l=e(n());e("body").append(l),l.find("[slot='body']").append(a.$el),a.$dialogEl=l,a.restoreFocus&&(r=e(document.activeElement));var c=l.get(0);a.close=function(e){c.close()},a.isOpen=function(){return l.get(0).isOpen()},a.open=function(){l.get(0).open()},a.onClose=t.wrap(a.onClose||t.noop,(function(e){s.popContext(),e(),l.remove(),a.remove&&a.remove(),r&&r.focus()}));var d=function(e,i){return t.isUndefined(a[e])?t.isUndefined(i)?null:i:t.result(a,e)},u=new function(){this.className=d("dialogClassName"),this.title=d("title"),this.width=d("width"),this.height=d("height"),this.minWidth=d("minWidth"),this.minHeight=d("minHeight"),this.maxHeight=d("maxHeight"),this.resizeBehavior=d("resizable",!0)?"resizable":"none",this.buttons=t.map(d("buttons"),(function(e){return t.defaults({className:e.class,disabled:i.observable(!!e.disabled),display:e.display,autofocus:e.autofocus||!1},e)})),this.cancelBehavior=d("cancelBehavior","icon"),this.onBeforeOpen=a.onBeforeOpen,this.onOpen=a.onOpen,this.onClose=a.onClose,this.onFocus=a.onFocus,s.pushContext("dialog",this.title)};return o.$cssDfd.done((function(){i.applyBindings(u,l.get(0))})),a.findButton=function(e){return l.find("#"+e)},a.enableButton=function(e,i){var n=t.findWhere(u.buttons,{id:e});n&&n.disabled(!i)},a.showButton=function(e,t){var i=a.findButton(e);i&&i.length&&(t?i.show():i.hide())},a.isButtonEnabled=function(e){var i=t.findWhere(u.buttons,{id:e});return i&&!i.disabled()},a.center=function(){c.setProperty("position",{my:"center",at:"center",of:window})},a},jqShow:function(i){i.$cssDfd=i.$cssDfd||e.Deferred().resolve();var n,o=new i.DialogClass(i);o.restoreFocus&&(n=e(document.activeElement)),o.close=function(e){o.$el.hasClass("ui-dialog-content")&&o.$el.dialog("close")},o.isOpen=function(){return o.$el.dialog("isOpen")},o.open=function(){o.$el.dialog("open")},o.onClose=t.wrap(o.onClose||t.noop,(function(e){s.popContext(),e(),o.remove(),n&&n.focus()})),o.findButton=function(e){return o.$el.parent().find("#"+e)},o.enableButton=function(e,t){o.findButton(e).button(t?"enable":"disable")},o.showButton=function(e,t){var i=o.findButton(e);t?i.show():i.hide()},o.isButtonEnabled=function(e){return!0!==o.findButton(e).button("option","disabled")},o.center=function(){o.$el.is(":ui-dialog")&&o.$el.dialog("option","position",{my:"center",at:"center",of:window})};var a=t.result(o,"cancelBehavior")||"icon";return o.createInstance=function(){s.pushContext("dialog",t.result(o,"title")),o.render(),o.$el.dialog({modal:t.result(o,"modal")||!0,dialogClass:("icon"!==a?"no-close ":"")+(t.result(o,"dialogClassName")||""),resizable:t.result(o,"resizable"),title:t.result(o,"title"),buttons:t.map(t.result(o,"buttons"),(function(e){return t.extend({class:"callToAction"===e.chroming?"ui-button-primary":"ui-button-secondary",style:e.display?"display:"+e.display:""},e)})),width:t.result(o,"width"),height:t.result(o,"height"),minWidth:t.result(o,"minWidth"),minHeight:t.result(o,"minHeight"),maxHeight:t.result(o,"maxHeight"),closeOnEscape:"none"!==a,closeText:docs.i18n.t("GENERAL_CMD_CLOSE"),create:o.onBeforeOpen,open:o.onOpen,close:o.onClose,focus:o.onFocus})},i.$cssDfd.done((function(){o.createInstance(),o.$dialogEl=o.$el.dialog("widget")})),o}}})),define("core/plugin/jquery.ariahelper",["jquery","jqueryui-amd/widgets/button","jqueryui-amd/widgets/dialog"],(function(e){"use strict";e.fn.ariaHideButton=function(){this.disableButton(),this.hide()},e.fn.ariaShowButton=function(e){e?this.disableButton():this.enableButton(),this.show()},e.fn.setDialogHeight=function(e){this.is("oj-dialog")||this.closest("oj-dialog").length?(this.is("oj-dialog")?this:this.closest("oj-dialog")).height(e):this.dialog("option","height",e)},e.fn.getDialogHeight=function(){return this.closest(".ui-dialog, oj-dialog").innerHeight()},e.fn.enableButton=function(){if(this.is("oj-button")){var e=this;this.toggleClass("oj-disabled",!1),this.toggleClass("oj-enabled",!0),(e=this.children("button")).length&&(e[0].disabled=!1)}else this.button("enable")},e.fn.disableButton=function(){if(this.is("oj-button")){var e=this;this.toggleClass("oj-disabled",!0),this.toggleClass("oj-enabled",!1),(e=this.children("button")).length&&(e[0].disabled=!0)}else this.button("disable")}})),define("core/dialog/DialogView",["jquery","underscore","backbone","core/osnGlobals","core/dialog/OJDialog","core/util/FeatureFlags","core/extensions","jqueryui-amd/widgets/dialog","core/plugin/jquery.ariahelper"],(function(e,t,i,osn,n){"use strict";return osn.views.DialogView=i.View.extend({dialogClassName:"osn-dialog",title:function(){return this.options&&this.options.title?this.options.title:osn.i18n.t(this.titleI18n)},resizable:!1,width:function(){var e=window.innerWidth-20;return e=e>600?600:e},initialize:function(e){osn.debug("view","DialogView: initializing "+this.displayName),t.bindAll(this,"bindKeydownEvent","handleCancel","onClose","onOpen","onBeforeOpen"),this.options.action=e.action||"",this.primaryButtonTextI18n=e.primaryButtonTextI18n||this.primaryButtonTextI18n,this.secondaryButtonTextI18n=e.secondaryButtonTextI18n||this.secondaryButtonTextI18n,this.primaryButtonText=this.primaryButtonText||e.primaryButtonText,this.danger=e.danger,this.secondaryButtonText=e.secondaryButtonText,!1!==this.options.closeOnNav&&this.listenTo(osn.events,"nav",this.closeDialog),this.listenTo(osn.events,"resize",this.resize),"alert"!==this.type&&osn.util.setAlertText(osn.i18n.t("dialogOpened",this.title()))},titleI18n:"osn",defaultConfig:{autoOpen:!0,draggable:!0,modal:!0,resizable:!1,hide:300,show:300,width:600,closeOnEscape:!1},buttons:function(){var e=[{id:"okBtn",chroming:"callToAction",class:this.danger?"ui-button-danger":"ui-button-primary",text:this.primaryButtonText?this.primaryButtonText:this.primaryButtonTextI18n?osn.i18n.t(this.primaryButtonTextI18n):osn.i18n.t("ok"),click:t.bind((function(){this.primaryButtonClicked=!0,this.onPrimaryButtonClick?this.onPrimaryButtonClick():this.closeDialog()}),this)}];return"confirm"===this.type&&e.unshift({id:"cancelBtn",chroming:null,class:"ui-button-secondary",text:this.secondaryButtonText?this.secondaryButtonText:this.secondaryButtonTextI18n?osn.i18n.t(this.secondaryButtonTextI18n):osn.i18n.t("cancel"),click:this.handleCancel}),e},render:function(){if(!e((checkFeatureFlag("OJDialogs")?".oj-dialog.":".ui-dialog.")+this.dialogClassName).length)return this.template&&this.$el.html(this.template({o:this.options})),this.$el.on("dialogcreate",this.bindKeydownEvent),this},bindKeydownEvent:function(t,i){var n=this;osn.debug("view","DialogView: bindKeydownEvent"),this.$el.dialog("widget").keydown((function(t){t.keyCode===e.ui.keyCode.ESCAPE&&(osn.debug("view","DialogView: ESC pressed"),n.handleCancel(),t.stopPropagation())}))},handleCancel:function(){this.closeDialog(),this.options.cancelStatus&&osn.util.setStatusText(this.options.cancelStatus),this.options.cancelFn&&this.options.cancelFn()},enablePrimaryButton:function(e){if(checkFeatureFlag("OJDialogs")){var i=this.$el.closest("oj-dialog").find(".oj-dialog-footer oj-button:last-child");e?i.enableButton():i.disableButton()}else{var n=this.$el.dialog("option","buttons");n&&(1===n.length?t.extend(n[0],{disabled:!e}):n.length>1&&t.extend(n[n.length-1],{disabled:!e}),this.$el.dialog("option","buttons",n))}},onBeforeOpen:function(){},resize:function(){if(checkFeatureFlag("OJDialogs"))this.center();else{var e={};this.getResizeValues&&(t.extend(e,this.getResizeValues()),this.$el.dialog("option","height",e.height).parent().css("max-height",e.height),this.$el.dialog("option","width",e.width).parent().css("max-width",e.width)),this.$el.dialog("option","position",t.extend(this.$el.dialog("option","position"),{at:"center",my:"center"}))}},onOpen:function(e){this.options.open&&this.options.open(e),this.center()},onClose:function(){this.options.close&&this.options.close(),this.setFocus()},setFocus:function(){"shortcut"!==this.options.action?(this.options.closeFocusFn&&this.options.closeFocusFn(),this.options.closeFocusEl&&e(this.options.closeFocusEl).length&&e(this.options.closeFocusEl).focus()):window.document.activeElement||window.document.body.focus()},closeDialog:function(){osn.debug("view","DialogView: closing "+this.displayName),checkFeatureFlag("OJDialogs")||this.$el.is(".ui-dialog-content")?this.close():this.clean()},clean:function(){this.remove()}},{show:function(e){return e.DialogClass=e.DialogClass||osn.views.DialogView,n.show(e)}}),osn.views.DialogView})),define("core/util/ImagesUtil",["jquery","underscore","core/osnGlobals","core/util/Utils"],(function(e,t,osn,i){"use strict";var n={"wc/conversation":{route:"conversations",_private:{encodedImage:"default_conv_private",iconAltText:"privateConversation"},_public:{encodedImage:"default_conv_public",iconAltText:"publicConversation"}},"wc/wall":{route:"people",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"userWall"}},"wc/user":{route:"people",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"user"}},"wc/wall-group":{route:"groups",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"groupWall"}},"wc/group":{route:"groups",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"group"}},"wc/chat":{route:"conversations",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"messageIconAltText"}},"wc/folder":{route:"documents",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"folder"}},"wc/file":{route:"documents",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"cdsFileIconFileAltText"}},"wc/hashtag":{route:"hashtags",icon:{encodedImage:"defaultObjTypeIcon",iconAltText:"hashtag"}}},s={none:{encodedImage:"oj-ux-ico-flag",text:"followupsEmpty",aria:"followupsEmptyAria"},FOR_YOUR_INFORMATION_another:{encodedImage:"oj-ux-ico-flagged",text:"followupsFyiAnother",aria:"followupsFyiAnotherAria"},FOR_YOUR_INFORMATION_menu_another:{encodedImage:"oj-ux-ico-flagged",text:"followupsFyiAnother",aria:"followupsFyiAnotherAria"},PLEASE_REPLY_another:{encodedImage:"oj-ux-ico-flagged",text:"followupsReplyAnother",aria:"followupsReplyAnotherAria"},PLEASE_REPLY_menu_another:{encodedImage:"oj-ux-ico-flagged",text:"followupsReplyAnother",aria:"followupsReplyAnotherAria"},PLEASE_REPLY_URGENT_another:{encodedImage:"oj-ux-ico-flagged",text:"followupsUrgentAnother",aria:"followupsUrgentAnotherAria"},PLEASE_REPLY_URGENT_menu_another:{encodedImage:"oj-ux-ico-flagged",text:"followupsUrgentAnother",aria:"followupsUrgentAnotherAria"},FOR_YOUR_INFORMATION_me:{encodedImage:"oj-ux-ico-flagged-s flag-color-purple",text:"followupsFyi",aria:"followupsFyiAria"},PLEASE_REPLY_me:{encodedImage:"oj-ux-ico-flagged-s flag-color-purple",text:"followupsReply",aria:"followupsReplyAria"},PLEASE_REPLY_URGENT_me:{encodedImage:"followup_urgent",text:"followupsUrgent",aria:"followupsUrgentAria"},FOR_YOUR_INFORMATION_me_another:{encodedImage:"oj-ux-ico-flagged-s flag-color-purple",text:"followupsFyiMeAnother",aria:"followupsFyiMeAnotherAria"},PLEASE_REPLY_me_another:{encodedImage:"oj-ux-ico-flagged-s flag-color-purple",text:"followupsReplyMeAnother",aria:"followupsReplyMeAnotherAria"},PLEASE_REPLY_URGENT_me_another:{encodedImage:"followup_urgent",text:"followupsUrgentMeAnother",aria:"followupsUrgentMeAnotherAria"},others:{encodedImage:"oj-ux-ico-flagged",text:"followupsOthers",aria:"followupsOthersAria"}},o={defaultObjTypeIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAfCAYAAABkitT1AAAAG0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAABcGxMDAAFyyF2qAAAAAElFTkSuQmCC",default_conv_private:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARBAMAAADJQ1rJAAAAFVBMVEUAAAAFcs4Fcs4Fcs4Fcs4Fcs4Fcs6J/bt4AAAABnRSTlMArQYVEgM4akOYAAAAO0lEQVQI12NAAGaxNBAQZmBgTAODRAYGtjQIoIyFMI8FYocIAwNIPjEASIFZogxQVqICjCUEcxcjRAgAdw4f8QTaybkAAAAASUVORK5CYII=",default_conv_public:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARBAMAAADJQ1rJAAAAMFBMVEUAAAAFcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs4Fcs5tK2OUAAAAD3RSTlMArASxE6MbYULnyG+8lo0xuwt/AAAAVklEQVQI12NAABb7////8y8Hshj/AwF7vBADAz+IxVXxG8pi/P0Sykq42Z8AYR0DagCyIAA7ixXC+Aq0Qx7MEoHo+agApMAsIQYoCygEZRnB3MUMEQIAImhE6eXNeuEAAAAASUVORK5CYII=",defIdcsGrpProf:"data:image/svg+xml,%3csvg width='48' height='48' viewBox='0 0 48 48' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 8C15.1634 8 8 15.1634 8 24C8 32.8366 15.1634 40 24 40C32.8366 40 40 32.8366 40 24C40 15.1634 32.8366 8 24 8ZM4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24Z' fill='black'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 16C21.7909 16 20 17.7909 20 20C20 22.2091 21.7909 24 24 24C26.2091 24 28 22.2091 28 20C28 17.7909 26.2091 16 24 16ZM16 20C16 15.5817 19.5817 12 24 12C28.4183 12 32 15.5817 32 20C32 24.4183 28.4183 28 24 28C19.5817 28 16 24.4183 16 20Z' fill='black'/%3e%3cmask id='mask0' mask-type='alpha' maskUnits='userSpaceOnUse' x='6' y='6' width='36' height='36'%3e%3cpath d='M42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24Z' fill='%23C4C4C4'/%3e%3c/mask%3e%3cg mask='url(%23mask0)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M34.6199 44.4932C33.8107 44.8201 32.9264 45 32 45C30.669 45 29.4247 44.6285 28.3652 43.9835C30.4032 43.7991 32 42.086 32 40C32 37.7909 30.2091 36 28 36H25.2899C25.7907 34.3174 26.9071 32.8999 28.3779 32.0088C32.6207 32.2061 36 35.7084 36 40C36 41.6657 35.4909 43.2124 34.6199 44.4932ZM22.7789 32H20C15.5817 32 12 35.5817 12 40C12 44.4183 15.5817 48 20 48H27.411C25.5149 47.1284 23.9091 45.7334 22.7789 44H20C17.7909 44 16 42.2091 16 40C16 37.7909 17.7909 36 20 36H21.1814C21.4483 34.5466 22.001 33.1931 22.7789 32Z' fill='black'/%3e%3c/g%3e%3cmask id='mask1' mask-type='alpha' maskUnits='userSpaceOnUse' x='4' y='4' width='40' height='40'%3e%3cpath d='M44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24Z' fill='%23C4C4C4'/%3e%3c/mask%3e%3cg mask='url(%23mask1)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M34 46C37.866 46 41 42.866 41 39C41 35.134 37.866 32 34 32C30.134 32 27 35.134 27 39C27 42.866 30.134 46 34 46ZM34 50C40.0751 50 45 45.0751 45 39C45 32.9249 40.0751 28 34 28C27.9249 28 23 32.9249 23 39C23 45.0751 27.9249 50 34 50Z' fill='black'/%3e%3c/g%3e%3c/svg%3e",default_webhook_scaled:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAG+UlEQVR42s1ZfUyVVRgHDApkU0NKk5WaumGr5qg/0tZYLmtZm7pZ60P7mF2NZI5WsWjKcs0VEDS98iEgekW+lC/hgsIFEZqVq2Zioz8clvkdfqUEYtzb77e9pz07vBfeK1zwbme8no/n+Z3nPM/vec4xIGCEfx6PJzA5OTmIfwPu9F9OTk7woUOH5h04cGBJQ0PDooMHD85i3x0HNDc3N7q+vr6ksbHxRFNTUx+ax2h97MMGSrKzs+eOOdDMzMxJTqczp7m5+SaaZ4h2k3O5ZkzA5ufnz3S5XGclKFj0X1j0ElzhNBu/2SfncA3XjirYrVu3TgGYcwDgVkDq6uraCwsLF+zcuTOirKwsnI3fu3btms8xAdoN0OcyMjKmjhpgHG25AgDg/1RXV69D92CsEMg5nKvWwefLRwUsrPiSsKy7vLx8pdW1mLtCrqUsv4IFv94FKx1VVqqqqqrR59hstjAwwjIwxzJ+6+Nco9aD+n6hTL8B3r179yQAvmwEzw1YKEqO49g/QX+XcJdL+/btS9ROKIprjfHLtbW1k/zJt48h6vsNRuiAdULUGKw6G0C6dTpjn91unyNOKQR9HYaMfqx73G+A9+zZs1JYr00GGo661BsHV1ZWlskAhCu0qjFfYsDnH6hqrTfAiPoj3gBzzBvg4uLi9/3JEKwP3AbgH1nkiLE1akw29mHsA+ESQVyrxhwOx/N+A1xQUDAFftejMhaUjZcMgprhmA4Y82+lpKRMUfO4RmVI/O1BYvFfAkHEh0HJKQNMf15e3gtaBgwHU+QTpMxsWOdSc7Zs2TIDMlTgnpKb9suvpqYmS/jxX7D6dBO+DmeAyjoCwfUMx5YvXz4OQbgCp9GJzX3j90wHMBMB9LQCgjTdiGLmAbO5CLYaUWscljQI4CGjVkvAQm/LAMMGzqSnp8/S6wlY/0m6jpoHi64dk9IS9DYOrvGhSiJG60MmfNHE779U9QPorBNdQWMCevPmzXfDsucFG9zARqaZbG4aguy6qD/sQ1R2tw8IgfIQrPYGI7+0tPRlOV5SUjIHIFW52F9UVLTamyyOKdfAml5Y/WnUyvOwmc/wXU3/pg7qok7q9gnsjh07FsF67UZtoI6zSM5B0VKrxhDxPw8lE+t/EqfRq1GfLO670dq3b98+dELBLWAidrvNTNj+/fsdat7evXuXqKCjH8NSiy34/WLN5wdtxAAGyiUmb3QVDhpyapXWVVj6eyxMBcFHi4z2g6C1Uqsnh0MpEZbshHEqYfmNaJ/j+2vqok6tDnEyIQ24wmBBlbyjQbjL2F2gVrElSkpDnfCoVcDw5UdaWlpu4e9bXgr3QOqkbukmON2q/3Ew88Bf5mOgRx1xRUXFBggMMznWCbDAeVW4gI83+hrM4Ot7LSSnMMheL2rvXsTVAhXtD2MHncJXXQA2IAulpaVNBiXliWTxB2uL4bJRTExMMN3RBHQIsDQKXCex2VAS+wYBojsxMXGC9vz0IPz0sAwYWJeBZhvu/ZB0h3i4StnQ8R11yTnEQkyCw+cH4IgPqw4srtRcIEbdv2TjmwRdaZhPBbl6/UxdKOifkPOISQTgtgDs7m8RaElaZVbvjXIQudFqXmpq6ngIrsGxNVtpmHvUG8VhI/Xaxj5VY62trb0kdLfwk/fUxNjY2Hsw1uONJ8EW8Wrupk2bIqzy61CNOqlbJJxVYjOeAHzcEiWgvF8FwhJnzYTiKD2I2qXiFnEf6GpEAFOnpFIYcY0Y89AlfhWAM7RHj48lNwsrnEhISAgVvj5X+Pd1uNabmLPUW4OeV/H3d7PUzLcNraZOV+NtbW2/0am3iR0c1a88EOwkDyqBAHQSHLlIKyFXCRktFkvU5yhLGYQ68O8BWY2YRD29jq85T8loxVEPeCdISkqaioz2blZWVqxez/LmIF0HfpZsBjA+Pj7SpDuIMimbOkwuvSuUXLicm5mSOw3BEdYJaumCT86wSk843kLhKtf5FCvHkUVno/9byO3lXB9u6NPls5eTllDPCiDsyRi8KBSfAR8uHEyg3W6PwEbzBD0xVQ94FEFl94qohfvhPvlcO4S7PEsMwogXUSNH6s9Q7+hP/wg6B4BPZw3B6zgbviPR9zrcoEvwMjNVm81mCzZ5zQyGZVsl72LtJcqgLCF3AnWhjnHo/9VAbKY7A8DVJkmiDzu8AB/6kw3f13TmQCRXmIHVQFeYFOvXhNwL1KXrJ6ZBfYeuAADtVjgTUX2FkWvlys45xiv8FYt83A7LLrSc67kz7PoIFHRh5271X1nGFeYY0nZKXFxcuK81BNfA97+iDHUFM2STMruoE26x5nZrlCD4VigIeyUo5Qts4iMIvJ/X/JF4KgCdRh0/fnw9rJnc0dHxGnWN2TOAv37/AWBlZ4lgj442AAAAAElFTkSuQmCC",documentNoPreview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBBAMAAAB82dR2AAAAHlBMVEXu7/C2u8Hx8fLHy8/j5efM0NTr7O3Cxsva3N+9wcdlkgckAAABb0lEQVRIx+2WwUrDQBCGF23SXn+SNsmt+ATJpXhMIOA1PekxpYj11kUtHlu06jWXPq8z3UhgM20QBKH0P23g49vJbGaJuurIWI3V8ZyJEyEWtzp4+ThCvGGf64PEDeo8HyAcILrL820FFCLhJvBSXvRoUUrEIwIGGNFYSYQmdwMLhIOh+kkCFG0iQ6zqXALw24QOSuXmeblXTHTUIgbw2QOfFR6t1jbR5002QMiKmKilTcyQul9TYPhOikXZw8gmNpFywFlRFUmhqtAmpkNDBHN4cxT0bBM6ZMIouHebwCYqnwij6IGILLIJGGJCinTKBGTC4ypGmUjwLkaR+DNxF67UKLDLxEr5bVkRD564DnqWOsaK+1QNAO6Y0HWHq9DeVhMhdL1PflI8YJ/CwVI6fVYYYi2cvtLcTjc3UTqSvsIKcTM6YZvgjqo6F/S+4jTsGkXQPVHdU9k52b+9HZp8GuC185b6/9vyTPwF0f3/8Q3DHmYi1S4TcgAAAABJRU5ErkJggg==",followup_urgent:"data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 2V22H4V2H2ZM5 4H22L17 11L22 18H5V4Z' fill='%23DC5C5E'/%3E %3C/svg%3E"},a={defIdcsGrpProf:"data:image/svg+xml,%3csvg width='48' height='48' viewBox='0 0 48 48' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 8C15.1634 8 8 15.1634 8 24C8 32.8366 15.1634 40 24 40C32.8366 40 40 32.8366 40 24C40 15.1634 32.8366 8 24 8ZM4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24Z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 16C21.7909 16 20 17.7909 20 20C20 22.2091 21.7909 24 24 24C26.2091 24 28 22.2091 28 20C28 17.7909 26.2091 16 24 16ZM16 20C16 15.5817 19.5817 12 24 12C28.4183 12 32 15.5817 32 20C32 24.4183 28.4183 28 24 28C19.5817 28 16 24.4183 16 20Z' fill='white'/%3e%3cmask id='mask0' mask-type='alpha' maskUnits='userSpaceOnUse' x='6' y='6' width='36' height='36'%3e%3cpath d='M42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24Z' fill='%23C4C4C4'/%3e%3c/mask%3e%3cg mask='url(%23mask0)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M34.6199 44.4932C33.8107 44.8201 32.9264 45 32 45C30.669 45 29.4247 44.6285 28.3652 43.9835C30.4032 43.7991 32 42.086 32 40C32 37.7909 30.2091 36 28 36H25.2899C25.7907 34.3174 26.9071 32.8999 28.3779 32.0088C32.6207 32.2061 36 35.7084 36 40C36 41.6657 35.4909 43.2124 34.6199 44.4932ZM22.7789 32H20C15.5817 32 12 35.5817 12 40C12 44.4183 15.5817 48 20 48H27.411C25.5149 47.1284 23.9091 45.7334 22.7789 44H20C17.7909 44 16 42.2091 16 40C16 37.7909 17.7909 36 20 36H21.1814C21.4483 34.5466 22.001 33.1931 22.7789 32Z' fill='white'/%3e%3c/g%3e%3cmask id='mask1' mask-type='alpha' maskUnits='userSpaceOnUse' x='4' y='4' width='40' height='40'%3e%3cpath d='M44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24Z' fill='%23C4C4C4'/%3e%3c/mask%3e%3cg mask='url(%23mask1)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M34 46C37.866 46 41 42.866 41 39C41 35.134 37.866 32 34 32C30.134 32 27 35.134 27 39C27 42.866 30.134 46 34 46ZM34 50C40.0751 50 45 45.0751 45 39C45 32.9249 40.0751 28 34 28C27.9249 28 23 32.9249 23 39C23 45.0751 27.9249 50 34 50Z' fill='white'/%3e%3c/g%3e%3c/svg%3e"},r={};o.default_logo=o.oracle_logo=a.oracle_logo="data:image/svg+xml,%3csvg fill='none' height='24' viewBox='0 0 36 24' width='36' xmlns='http://www.w3.org/2000/svg'%3e%3cpath clip-rule='evenodd' d='m11.94 22.494c-5.766 0-10.44-4.691-10.44-10.492 0-5.799 4.674-10.502 10.44-10.502h12.136c5.77 0 10.424 4.703 10.424 10.502 0 5.801-4.654 10.498-10.424 10.498zm11.859-3.694c3.741 0 6.763-3.046 6.763-6.798 0-3.756-3.022-6.791-6.763-6.791h-11.59c-3.731 0-6.755 3.035-6.755 6.791 0 3.752 3.024 6.798 6.755 6.798z' fill='%23c74634' fill-rule='evenodd'/%3e%3c/svg%3e",o.defGrpProf="data:image/svg+xml,%3csvg width='48' height='48' viewBox='0 0 48 48' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 8C15.1634 8 8 15.1634 8 24C8 32.8366 15.1634 40 24 40C32.8366 40 40 32.8366 40 24C40 15.1634 32.8366 8 24 8ZM4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24Z' fill='black'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M20 16C17.7909 16 16 17.7909 16 20C16 22.2091 17.7909 24 20 24C22.2091 24 24 22.2091 24 20C24 17.7909 22.2091 16 20 16ZM12 20C12 15.5817 15.5817 12 20 12C24.4183 12 28 15.5817 28 20C28 24.4183 24.4183 28 20 28C15.5817 28 12 24.4183 12 20Z' fill='black'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M29.9998 20C30 20 30.0003 20 30.0006 20C31.6574 20 33.0006 21.3431 33.0006 23C33.0006 24.6569 31.6574 26 30.0006 26C29.3905 26 28.823 25.8179 28.3494 25.5051C27.6009 26.638 26.6281 27.6097 25.4941 28.3567C26.7118 29.3821 28.284 30 30.0006 30C33.8666 30 37.0006 26.866 37.0006 23C37.0006 19.134 33.8666 16 30.0006 16C29.7257 16 29.4545 16.0158 29.1879 16.0467C29.7104 17.2592 29.9998 18.5958 29.9998 20Z' fill='black'/%3e%3cmask id='mask0' mask-type='alpha' maskUnits='userSpaceOnUse' x='6' y='6' width='36' height='36'%3e%3cpath d='M42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24Z' fill='%23C4C4C4'/%3e%3c/mask%3e%3cg mask='url(%23mask0)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 36H16C13.7909 36 12 37.7909 12 40C12 42.2091 13.7909 44 16 44H24C26.2091 44 28 42.2091 28 40C28 37.7909 26.2091 36 24 36ZM16 32C11.5817 32 8 35.5817 8 40C8 44.4183 11.5817 48 16 48H24C28.4183 48 32 44.4183 32 40C32 35.5817 28.4183 32 24 32H16Z' fill='black'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M20.1367 49C21.285 49.6372 22.6065 50 24.0127 50H32.0127C36.431 50 40.0127 46.4183 40.0127 42C40.0127 37.5817 36.431 34 32.0127 34H31.7083C32.8078 35.2285 33.5748 36.7607 33.868 38.4553C35.1429 39.124 36.0127 40.4604 36.0127 42C36.0127 44.2091 34.2219 46 32.0127 46H31.7083C30.0604 47.8412 27.6655 49 25 49H20.1367Z' fill='black'/%3e%3c/g%3e%3c/svg%3e",a.defGrpProf="data:image/svg+xml,%3csvg width='48' height='48' viewBox='0 0 48 48' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 8C15.1634 8 8 15.1634 8 24C8 32.8366 15.1634 40 24 40C32.8366 40 40 32.8366 40 24C40 15.1634 32.8366 8 24 8ZM4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24Z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M20 16C17.7909 16 16 17.7909 16 20C16 22.2091 17.7909 24 20 24C22.2091 24 24 22.2091 24 20C24 17.7909 22.2091 16 20 16ZM12 20C12 15.5817 15.5817 12 20 12C24.4183 12 28 15.5817 28 20C28 24.4183 24.4183 28 20 28C15.5817 28 12 24.4183 12 20Z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M29.9998 20C30 20 30.0003 20 30.0006 20C31.6574 20 33.0006 21.3431 33.0006 23C33.0006 24.6569 31.6574 26 30.0006 26C29.3905 26 28.823 25.8179 28.3494 25.5051C27.6009 26.638 26.6281 27.6097 25.4941 28.3567C26.7118 29.3821 28.284 30 30.0006 30C33.8666 30 37.0006 26.866 37.0006 23C37.0006 19.134 33.8666 16 30.0006 16C29.7257 16 29.4545 16.0158 29.1879 16.0467C29.7104 17.2592 29.9998 18.5958 29.9998 20Z' fill='white'/%3e%3cmask id='mask0' mask-type='alpha' maskUnits='userSpaceOnUse' x='6' y='6' width='36' height='36'%3e%3cpath d='M42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24Z' fill='%23C4C4C4'/%3e%3c/mask%3e%3cg mask='url(%23mask0)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24 36H16C13.7909 36 12 37.7909 12 40C12 42.2091 13.7909 44 16 44H24C26.2091 44 28 42.2091 28 40C28 37.7909 26.2091 36 24 36ZM16 32C11.5817 32 8 35.5817 8 40C8 44.4183 11.5817 48 16 48H24C28.4183 48 32 44.4183 32 40C32 35.5817 28.4183 32 24 32H16Z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M20.1367 49C21.285 49.6372 22.6065 50 24.0127 50H32.0127C36.431 50 40.0127 46.4183 40.0127 42C40.0127 37.5817 36.431 34 32.0127 34H31.7083C32.8078 35.2285 33.5748 36.7607 33.868 38.4553C35.1429 39.124 36.0127 40.4604 36.0127 42C36.0127 44.2091 34.2219 46 32.0127 46H31.7083C30.0604 47.8412 27.6655 49 25 49H20.1367Z' fill='white'/%3e%3c/g%3e%3c/svg%3e",o.defGrpProfOpaque=o.defGrpProf,a.defGrpProfOpaque=o.defGrpProf,r.defGrpProf=o.defGrpProf,r.defGrpProfOpaque=o.defGrpProf,o.defIdcsGrpProfOpaque=o.defIdcsGrpProf,a.defIdcsGrpProfOpaque=a.defIdcsGrpProf,r.defIdcsGrpProf=o.defIdcsGrpProf,r.defIdcsGrpProfOpaque=o.defIdcsGrpProf,o.defProf=o.defProfBig="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.9603 17.5109C14.7268 16.0867 13.4903 15 12 15H8C6.50971 15 5.27323 16.0867 5.03968 17.5109M14.9603 17.5109C17.3945 15.9 19 13.1375 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 13.1375 2.60546 15.9 5.03968 17.5109M14.9603 17.5109C13.5381 18.452 11.8331 19 10 19C8.16693 19 6.46186 18.452 5.03968 17.5109M13 8C13 9.65685 11.6569 11 10 11C8.34315 11 7 9.65685 7 8C7 6.34315 8.34315 5 10 5C11.6569 5 13 6.34315 13 8Z' stroke='%23161513' stroke-width='2'/%3e%3c/svg%3e",r.defProf=r.defProfBig="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.9603 17.5109C14.7268 16.0867 13.4903 15 12 15H8C6.50971 15 5.27323 16.0867 5.03968 17.5109M14.9603 17.5109C17.3945 15.9 19 13.1375 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 13.1375 2.60546 15.9 5.03968 17.5109M14.9603 17.5109C13.5381 18.452 11.8331 19 10 19C8.16693 19 6.46186 18.452 5.03968 17.5109M13 8C13 9.65685 11.6569 11 10 11C8.34315 11 7 9.65685 7 8C7 6.34315 8.34315 5 10 5C11.6569 5 13 6.34315 13 8Z' stroke='%23161513' stroke-width='2'/%3e%3c/svg%3e",a.defProf=a.defProfBig="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.9603 17.5109C14.7268 16.0867 13.4903 15 12 15H8C6.50971 15 5.27323 16.0867 5.03968 17.5109M14.9603 17.5109C17.3945 15.9 19 13.1375 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 13.1375 2.60546 15.9 5.03968 17.5109M14.9603 17.5109C13.5381 18.452 11.8331 19 10 19C8.16693 19 6.46186 18.452 5.03968 17.5109M13 8C13 9.65685 11.6569 11 10 11C8.34315 11 7 9.65685 7 8C7 6.34315 8.34315 5 10 5C11.6569 5 13 6.34315 13 8Z' stroke='white' stroke-width='2'/%3e%3c/svg%3e",o.defProfOpaque=r.defProfOpaque=a.defProfOpaque="data:image/svg+xml,%3csvg width='28' height='28' viewBox='0 0 28 28' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='14' cy='14' r='11' fill='white'/%3e%3cpath d='M19.787 22.7627C19.5146 21.1011 18.072 19.8333 16.3333 19.8333H11.6667C9.928 19.8333 8.48543 21.1011 8.21296 22.7627M19.787 22.7627C22.627 20.8833 24.5 17.6604 24.5 14C24.5 8.20101 19.799 3.5 14 3.5C8.20101 3.5 3.5 8.20101 3.5 14C3.5 17.6604 5.37304 20.8833 8.21296 22.7627M19.787 22.7627C18.1278 23.8607 16.1386 24.5 14 24.5C11.8614 24.5 9.87217 23.8607 8.21296 22.7627M17.5 11.6667C17.5 13.5997 15.933 15.1667 14 15.1667C12.067 15.1667 10.5 13.5997 10.5 11.6667C10.5 9.73367 12.067 8.16667 14 8.16667C15.933 8.16667 17.5 9.73367 17.5 11.6667Z' stroke='%23161513' stroke-width='2'/%3e%3c/svg%3e",o.defProfBigOpaque=r.defProfBigOpaque=a.defProfBigOpaque="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M29.9206 35.0217C29.4535 32.1733 26.9806 30 24 30H16C13.0194 30 10.5465 32.1733 10.0794 35.0217M29.9206 35.0217C34.7891 31.8 38 26.275 38 20C38 10.0589 29.9411 2 20 2C10.0589 2 2 10.0589 2 20C2 26.275 5.21092 31.8 10.0794 35.0217M29.9206 35.0217C27.0763 36.904 23.6661 38 20 38C16.3339 38 12.9237 36.904 10.0794 35.0217M26 16C26 19.3137 23.3137 22 20 22C16.6863 22 14 19.3137 14 16C14 12.6863 16.6863 10 20 10C23.3137 10 26 12.6863 26 16Z' stroke='%23161513' stroke-width='4'/%3e%3c/svg%3e",o.defExternalUserProf="data:image/svg+xml,%3csvg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17.5858 2H15V0L21 1.19209e-07V6H19V3.41421L15.7071 6.70711L14.2929 5.29289L17.5858 2ZM10 3C5.58172 3 2 6.58172 2 11C2 13.3343 2.99916 15.4355 4.59586 16.8989C5.30058 15.7592 6.56112 15 8 15H12C13.4389 15 14.6994 15.7592 15.4041 16.8989C17.0008 15.4355 18 13.3343 18 11C18 10.3876 17.9314 9.7924 17.8018 9.22129L19.7522 8.77871C19.9145 9.49405 20 10.2377 20 11C20 14.4871 18.2143 17.5566 15.5122 19.3448C13.9314 20.3909 12.0353 21 10 21C7.9647 21 6.06862 20.3909 4.48782 19.3448C1.78567 17.5566 0 14.4871 0 11C0 5.47715 4.47715 1 10 1C10.7623 1 11.5059 1.08549 12.2213 1.24781L11.7787 3.19823C11.2076 3.06863 10.6124 3 10 3ZM13.7661 18.0601C13.4296 17.4294 12.7644 17 12 17H8C7.23563 17 6.5704 17.4294 6.23389 18.0601C7.35566 18.6599 8.63705 19 10 19C11.3629 19 12.6443 18.6599 13.7661 18.0601ZM10 7C8.89543 7 8 7.89543 8 9C8 10.1046 8.89543 11 10 11C11.1046 11 12 10.1046 12 9C12 7.89543 11.1046 7 10 7ZM6 9C6 6.79086 7.79086 5 10 5C12.2091 5 14 6.79086 14 9C14 11.2091 12.2091 13 10 13C7.79086 13 6 11.2091 6 9Z' fill='%23161513'/%3e%3c/svg%3e",r.defExternalUserProf="data:image/svg+xml,%3csvg width='21' height='21' viewBox='0 0 21 21' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17.5858 2H15V0L21 1.19209e-07V6H19V3.41421L15.7071 6.70711L14.2929 5.29289L17.5858 2ZM10 3C5.58172 3 2 6.58172 2 11C2 13.3343 2.99916 15.4355 4.59586 16.8989C5.30058 15.7592 6.56112 15 8 15H12C13.4389 15 14.6994 15.7592 15.4041 16.8989C17.0008 15.4355 18 13.3343 18 11C18 10.3876 17.9314 9.7924 17.8018 9.22129L19.7522 8.77871C19.9145 9.49405 20 10.2377 20 11C20 14.4871 18.2143 17.5566 15.5122 19.3448C13.9314 20.3909 12.0353 21 10 21C7.9647 21 6.06862 20.3909 4.48782 19.3448C1.78567 17.5566 0 14.4871 0 11C0 5.47715 4.47715 1 10 1C10.7623 1 11.5059 1.08549 12.2213 1.24781L11.7787 3.19823C11.2076 3.06863 10.6124 3 10 3ZM13.7661 18.0601C13.4296 17.4294 12.7644 17 12 17H8C7.23563 17 6.5704 17.4294 6.23389 18.0601C7.35566 18.6599 8.63705 19 10 19C11.3629 19 12.6443 18.6599 13.7661 18.0601ZM10 7C8.89543 7 8 7.89543 8 9C8 10.1046 8.89543 11 10 11C11.1046 11 12 10.1046 12 9C12 7.89543 11.1046 7 10 7ZM6 9C6 6.79086 7.79086 5 10 5C12.2091 5 14 6.79086 14 9C14 11.2091 12.2091 13 10 13C7.79086 13 6 11.2091 6 9Z' fill='%23161513' fill-rule='evenodd'/%3e%3c/svg%3e",a.defExternalUserProf="data:image/svg+xml,%3csvg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17.5858 2H15V0L21 1.19209e-07V6H19V3.41421L15.7071 6.70711L14.2929 5.29289L17.5858 2ZM10 3C5.58172 3 2 6.58172 2 11C2 13.3343 2.99916 15.4355 4.59586 16.8989C5.30058 15.7592 6.56112 15 8 15H12C13.4389 15 14.6994 15.7592 15.4041 16.8989C17.0008 15.4355 18 13.3343 18 11C18 10.3876 17.9314 9.7924 17.8018 9.22129L19.7522 8.77871C19.9145 9.49405 20 10.2377 20 11C20 14.4871 18.2143 17.5566 15.5122 19.3448C13.9314 20.3909 12.0353 21 10 21C7.9647 21 6.06862 20.3909 4.48782 19.3448C1.78567 17.5566 0 14.4871 0 11C0 5.47715 4.47715 1 10 1C10.7623 1 11.5059 1.08549 12.2213 1.24781L11.7787 3.19823C11.2076 3.06863 10.6124 3 10 3ZM13.7661 18.0601C13.4296 17.4294 12.7644 17 12 17H8C7.23563 17 6.5704 17.4294 6.23389 18.0601C7.35566 18.6599 8.63705 19 10 19C11.3629 19 12.6443 18.6599 13.7661 18.0601ZM10 7C8.89543 7 8 7.89543 8 9C8 10.1046 8.89543 11 10 11C11.1046 11 12 10.1046 12 9C12 7.89543 11.1046 7 10 7ZM6 9C6 6.79086 7.79086 5 10 5C12.2091 5 14 6.79086 14 9C14 11.2091 12.2091 13 10 13C7.79086 13 6 11.2091 6 9Z' fill='white' fill-rule='evenodd'/%3e%3c/svg%3e",o.defExternalUserProfOpaque=o.defExternalUserProf;var l={default:o,light:r,translight:o,dark:a,transdark:a};return osn.images={getFollowupIcon:function(e){var t=s[e];return t&&(t.src=this.getEncodedImage(t.encodedImage)),t},getIcon:function(e,i){var s;return(s="wc/conversation"!==e?n[e].icon:i.Discoverable||i.IsDiscoverable||!1?n[e]._public:n[e]._private).iconSrc=this.getEncodedImage(s.encodedImage),(s=t.clone(s)).iconAltText=osn.i18n.t(s.iconAltText),s},getEncodedImage:function(e,t){var i,n;return i=t?"default":(n=osn.cache.get("AppConfig"))&&l[n.scheme]?n.scheme:"default",l[i][e]||l.default[e]},getDefaultProfilePicture:function(e){return this.getEncodedImage("defProfBig"+(e?"Opaque":""))},getDefaultGroupProfilePicture:function(e){return this.getEncodedImage("defGrpProf"+(e?"Opaque":""))},getDefaultIDCSGroupProfilePicture:function(e){return this.getEncodedImage("defIdcsGrpProf"+(e?"Opaque":""))},getDefaultExternalUserProfilePicture:function(e){return this.getEncodedImage("defExternalUserProf"+(e?"Opaque":""))},getDefaultProfilePictureForInfo:function(e,t){return"waggle/group"===e.ObjectType?i.isIDCSGroup(e.GroupOriginType)?this.getDefaultIDCSGroupProfilePicture(t):this.getDefaultGroupProfilePicture(t):e.IsExternalUser?this.getDefaultExternalUserProfilePicture(t):this.getDefaultProfilePicture(t)}},osn.images})),define("common/plugin/scrollbar",["scrollbar-3rdparty"],(function(e){"use strict";return function(t,i){var n=new e(t,i);return n.el.setAttribute("data-simplebar-direction",docs.common.Globals.dir),n}})),define("core/router/router",["jquery","underscore","backbone","core/util/Session","core/embedapi/ViewOptions","core/authz","core/debug","core/osnGlobals","core/AppEvents","core/util/util","core/AppUIState","core/cache","core/init","core/util/FeatureFlags","core/util/AppLink","core/util/Globals"],(function(e,t,i,n,s){"use strict";var o,a,r,l,c=docs.common.Globals,d=i.Router.extend({routes:{"(/)":"homeRoute","home(/*fragment)":"homeRoute","flags(/:p1)(/:p2)(/:p3)(/)":"flagsRoute","conversations/:id/messages(/:p1)(/:p2)(/)":"conversationMessagesRoute","conversations(/:p1)(/:p2)(/:p3)(/)":"conversationsRoute","people/:id/profile(/)":"peopleProfileRoute","people(/:p1)(/:p2)(/:p3)(/)":"peopleRoute","hashtags/:p1(/:p2)(/)":"hashtagsRoute","search/:q(/:p1)(/:p2)(/:p3)(/)":"searchRoute","preferences(/:p1)(/)":"preferencesRoute","administration(/:p1)(/)":"adminRoute","administration(/:p1)(/refresh)(/)":"adminRoute","administration(/:p1)(/:p2)(/:p3)(/)":"adminSubRoute","integrations(/:p1)(/)":"integrationsRoute","integrations(/:p1)(/refresh)(/)":"integrationsRoute","integrations(/:p1)(/:p2)(/:p3)(/)":"integrationsSubRoute","analytics(/:p1)(/)":"analyticsRoute","analytics(/:p1)(/:p2)(/:p3)(/:p4)(/)":"analyticsSubRoute","capture(/*fragment)":"captureRoute","applications(/*fragment)":"applicationsRoute","folder/home(/*fragment)":"docsHomeRoute","(link/:linkId/)folder/:id(/*fragment)":"docsFolderRoute","(link/:linkId/)fileview/:id(/*fragment)":"docsFileRoute","authlink/:linkId/folder/:id(/*fragment)":"docsAuthlinkFolderRoute","authlink/:linkId/fileview/:id(/*fragment)":"docsAuthlinkFileRoute","link/app/:linkId/folder/:id(/*fragment)":"docsApplinkFolderRoute","link/app/:linkId/fileview/:id(/*fragment)":"docsApplinkFileRoute","linkpicker/:id(/*fragment)":"docsLinkPickerRoute","link/app/:linkId/linkpicker/:id(/*fragment)":"docsApplinkLinkPickerRoute",authembed:"embedLoginRoute","assets/archive(/*params)":"archivedAssetsRoute","assets(/*fragment)":"assetsRoute",assetsadmin:"assetsAdminRoute","repositories(/*fragment)":"repositoriesRoute","repository(/*fragment)":"repositoryRoute","channels(/*fragment)":"channelsRoute","channel(/*fragment)":"channelRoute","localizations(/*fragment)":"localizationsRoute","localization(/*fragment)":"localizationRoute","contenttypes(/*fragment)":"contentTypesRoute","contenttype(/:id)":"contentTypeEditorRoute","audienceattributes(/*fragment)":"audienceAttributesRoute","taxonomies(/*fragment)":"taxonomiesRoute","taxonomy(/:id)":"taxonomyRoute","rankingpolicies(/*fragment)":"rankingpoliciesRoute","rankingpolicy(/:id)":"rankingpolicyRoute","sites/trash(/*fragment)":"sitesTrashRoute","developer/embedui(/*fragment)":"developerEmbedUI","developer(/*fragment)":"developerCenterRoute","recommendations(/*fragment)":"recommendationsRoute","recommendation(/*fragment)":"recommendationRoute","experiences(/*fragment)":"experiencesRoute","siteoptions(/*fragment)":"siteOptionsRoute","siteplans(/*fragment)":"sitePlansRoute","siteplan(/*fragment)":"sitePlanRoute","sites(/*fragment)":"sitesRoute","themes(/*fragment)":"themesRoute","templates(/*fragment)":"templatesRoute","components(/*fragment)":"componentsRoute",install:"installRoute","groups(/:p1)(/:p2)(/:p3)(/)":"groupsRoute","workflows(/*fragment)":"workflowsRoute","workflow(/*fragment)":"workflowRoute","workflowroles(/*fragment)":"workflowRolesRoute","editorialroles(/*fragment)":"editorialRolesRoute","renditionpolicies(/*fragment)":"renditionpoliciesRoute","renditionpolicy(/:id)":"renditionpolicyRoute","*unknownRoute":"unknownRoute"},routeConfig:{home:{list:{routeName:"Home",views:{AppHomeView:{models:[],module:"core/home/AppHomeView",type:"main"}},models:{}}},conversations:{list:{routeName:"Conversations",views:{ConversationsView:{models:["ConversationsCollection"],module:"conversations/ConversationsView",type:"main"},ConversationsListHeaderView:{models:["ConversationsCollection"],module:"conversations/ConversationsListHeaderView",type:"header"},ConversationsListOptionsView:{models:["ConversationsCollection"],module:"conversations/ConversationsListOptionsView",type:"options"}},models:{ConversationsCollection:{module:"conversations/ConversationsCollection"}}},messages:{routeName:"ConversationMessages",views:{ConversationView:{models:["ConversationModel"],module:"conversation/ConversationView",type:"main"},ConversationHeaderView:{models:["ConversationModel"],module:"conversation/ConversationHeaderView",type:"header"},ConversationBreadCrumbsView:{models:["ConversationModel"],module:"conversation/ConversationBreadCrumbsView",type:"breadCrumbs"},ConversationOptionsView:{models:["ConversationModel"],module:"conversation/ConversationOptionsView",type:"options"}},models:{ConversationModel:{loadMembers:!0,module:"common/conversation/ConversationModel"}},onRouteAuthzDenied:"conversationsRouteAuthDeniedHandler"}},people:{profile:{routeName:"UserProfile",views:{UserView:{models:["UserModel","UserProfileModel"],module:"user/UserView",type:"main"},UserHeaderView:{models:["UserModel"],module:"user/UserHeaderView",type:"header"},UserOptionsView:{models:["UserModel"],module:"user/UserOptionsView",type:"options"}},models:{UserModel:{module:"core/model/UserModel",userView:!0},UserProfileModel:{module:"user/UserProfileModel"}}}},groups:{profile:{routeName:"GroupProfile",views:{GroupView:{models:["GroupModel"],module:"group/GroupView",type:"main"},GroupHeaderView:{models:["GroupModel"],module:"group/GroupHeaderView",type:"header"},ConversationBreadCrumbsView:{models:["GroupModel"],module:"conversation/ConversationBreadCrumbsView",type:"breadCrumbs"}},models:{GroupModel:{groupView:!0,loadMembers:!0,module:"group/GroupModel"}}},list:{routeName:"Groups",views:{GroupsView:{models:["GroupsCollection"],module:"groups/GroupsView",type:"main"},GroupsHeaderView:{models:["GroupsCollection"],module:"groups/GroupsHeaderView",options:{filter:c.isStandardExternalUser?"belong":"owned"},type:"header"}},models:{GroupsCollection:{displayOption:c.isStandardExternalUser?"belong":"owned",module:"groups/GroupsCollection",sortBy:"name_ascending"}}}},preferences:{routeName:"Preferences",views:{PreferencesView:{models:["UserProfileModel","NotificationsModel","PreferencesModel"],module:"settings/PreferencesView",type:"main"}},models:{UserProfileModel:{module:"user/UserProfileModel"},NotificationsModel:{module:"settings/NotificationsModel"},PreferencesModel:{module:"settings/PreferencesModel"}}},admin:{routeName:"Admin",views:{AdministrationView:{models:[],module:"settings/AdministrationView",type:"main"}},models:{}},integrations:{routeName:"Integrations",views:{IntegrationsView:{models:[],module:"settings/IntegrationsView",type:"main"}},models:{}},analytics:{routeName:"Analytics",views:{AnalyticsView:{models:[],module:"analytics/AnalyticsView",type:"main"}},models:{}},capture:{routeName:"Capture",views:{CaptureView:{model:[],module:"capture/CaptureView",type:"main"}}},applications:{routeName:"Applications",views:{ApplicationsView:{model:[],module:"applications/ApplicationsView",type:"main"}}},flags:{routeName:"Flags",views:{FlagsView:{models:["FlagsCollection"],module:"flags/FlagsView",type:"main",options:{}},FlagsHeaderView:{models:["FlagsCountModel"],module:"flags/FlagsHeaderView",type:"header",options:{}},FlagsOptionsToolbarView:{models:["FlagsCountModel"],module:"flags/FlagsOptionsToolbarView",type:"options",options:{}}},models:{FlagsCountModel:{module:"core/flags/FlagsCountModel"},FlagsCollection:{displayOption:"all",module:"flags/FlagsCollection",sortBy:"flagged"}}},hashtag:{routeName:"Hashtag",views:{HashtagHeaderView:{models:["HashtagModel"],module:"hashtag/HashtagHeaderView",type:"header"},HashtagView:{models:["HashtagMessagesCollection"],module:"hashtag/HashtagView",type:"main"}},models:{HashtagModel:{module:"hashtag/HashtagModel"},HashtagMessagesCollection:{module:"hashtag/HashtagMessagesCollection"}}},documents:{routeName:"Documents",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},docs:{routeName:"Docs",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},developer:{routeName:"Developer",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},siteOptions:{routeName:"SiteOptions",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},sites:{routeName:"Sites",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},siteplans:{routeName:"SitePlans",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},experiences:{routeName:"Experiences",views:{DocsMainView:{models:[],module:"common/docs/DocsMainView",type:"main"}},models:{}},embedLoginWait:{routeName:"EmbedLoginWait",views:{EmbedLoginWaitView:{models:[],module:"docs/embedapi/EmbedLoginWaitView",type:"main"}},models:{}},embedLoginSuccess:{routeName:"EmbedLoginSuccess",views:{EmbedLoginSuccessView:{models:[],module:"docs/embedapi/EmbedLoginSuccessView",type:"main"}},models:{}},errorPage:{routeName:"ErrorPage",views:{ErrorPageView:{models:[],module:"core/view/ErrorPageView",type:"main"}},models:{}},install:{routeName:"Install",views:{DownloadAppsView:{models:[],module:"docs/installs/view/DownloadAppsView",type:"main"}},models:{}},search:{routeName:"Search",views:{SearchView:{models:["SearchModel"],module:"search/SearchView",type:"main"},SearchHeaderView:{models:["SearchModel"],module:"search/SearchHeaderView",type:"header"},SearchOptionsView:{models:["SearchModel"],module:"search/SearchOptionsView",type:"options"}},models:{SearchModel:{module:"search/SearchModel"}}}},routeConfigsByRouteName:{},viewOptions:(l={base:{lastupdated:"sortBy",lastupdated_ascending:"sortBy",lastupdated_descending:"sortBy",name:"sortBy",name_ascending:"sortBy",name_descending:"sortBy"},default:{yours:"displayOption",yours_open:"displayOption",yours_closed:"displayOption",available:"displayOption",available_open:"displayOption",available_closed:"displayOption",favorites:"displayOption",favorites_open:"displayOption",favorites_closed:"displayOption",muted:"displayOption",muted_open:"displayOption",muted_closed:"displayOption",unread:"sortBy",unread_ascending:"sortBy",unread_descending:"sortBy"},flags:{to:"filterMode",by:"filterMode",all:"displayOption",fyi:"displayOption",reply:"displayOption",urgent:"displayOption",flagged:"sortBy",flagged_ascending:"sortBy",flagged_descending:"sortBy",message:"sortBy",message_ascending:"sortBy",message_descending:"sortBy"},document:{all:"displayOption",files:"displayOption",folders:"displayOption",ftype:"sortBy",ftype_ascending:"sortBy",ftype_descending:"sortBy"},group:{owned:"displayOption",belong:"displayOption",discoverable:"displayOption",yours:"displayOption",yours_open:"displayOption",yours_deactivated:"displayOption",favorites:"displayOption",favorites_open:"displayOption",favorites_deactivated:"displayOption",muted:"displayOption",muted_open:"displayOption",muted_deactivated:"displayOption",unread:"sortBy",unread_ascending:"sortBy",unread_descending:"sortBy"},search:{all:"displayOption",messages:"displayOption",hashtags:"displayOption",conversations:"displayOption",documents:"displayOption",documentsandfolders:"displayOption",folders:"displayOption",people:"displayOption",groups:"displayOption",folder:"displayOption",relevance:"sortBy",relevance_descending:"sortBy",dateposted:"sortBy",dateposted_ascending:"sortBy",dateposted_descending:"sortBy",convname:"sortBy",convname_ascending:"sortBy",filesize:"sortBy",filesize_ascending:"sortBy",filesize_descending:"sortBy"}},l.search.publicgroups="displayOption",{get:function(){return l.selected=l.selected||e.extend({},l.base,l.default),l.selected},set:function(t){l.selected=e.extend({},l.base,l[t])},reset:function(){l.selected=null}}),isById:function(e,t){return t?e&&0===e.indexOf("ext"):e&&osn.util.isNumeric(e)},isByName:function(e,t){return e&&!this.isById(e)&&!this.viewOptions.get()[e]&&!this.isValidSubview(t,e)&&!this.isValidListview(t,e)},hasValidViewOptions:function(e){return t.every(e,(function(e){return!e||e&&this.viewOptions.get()[e]}),this)},isValidMessagesOrWallRoute:function(e,t,i,n){return(this.isById(t,n)||"people"===e&&this.isByName(t,"people"))&&(!i||this.isById(i))},isValidSubview:function(e,i){return t.contains(t.keys(this.routeConfig[e]),i)},isValidListview:function(e,i){return t.contains(t.keys(this.routeConfig[e].lists),i)},setSortFilterOptions:function(e,i){var n=this.viewOptions.get();t.each(i,(function(t){n[t]&&(e[n[t]]=t)})),this.fillPersistedSortFilterOpts(e)},fillPersistedSortFilterOpts:function(n){var s=e.extend(!0,{},n),o=i.history.getFragment(),a=osn.uistate.get(n.routeName)||{},r=["filterMode","displayOption","sortBy"];t.defaults(n,t.pick(a,r)),t.each(r,(function(e){!t.has(s,e)&&n[e]&&(o=o.concat("/"===o.slice(-1)?"":"/",n[e]))}));var l=o.split("/");"search"===l[0]&&(l[1]=encodeURIComponent(l[1]),o=l.join("/")),i.history.navigate(o,{trigger:!1,replace:!0})},getAlertText:function(e,t){return t?osn.i18n.t("viewList")+" "+osn.i18n.t(e):osn.i18n.t(e)},triggerNavEvent:function(n){var s,o;docs.events.trigger("clearLinkBack"),a&&(s=a.data.accessToken,n.pmNavEvent=a,a=void 0);var r=osn.cache.get("AppConfig")||{};location.search.indexOf("convLink=")>0&&(o=location.search.split("convLink=")[1].split("&")[0]),r.loadError&&"ErrorPage"!==n.routeName&&((n=e.extend(!0,{id:"errorPage"},this.routeConfig.errorPage)).views.ErrorPageView.options={errorText:osn.i18n.t(r.loadErrorText||"bpTitleSomethingWentWrong"),errorDetail:osn.i18n.t(r.loadErrorDetail||"bpDetailSocialUnavailable")}),r.loadEmbedLogin&&(n=e.extend(!0,{id:"embedLoginWait"},this.routeConfig.embedLoginWait)),osn.authz.canAsync("route",n.routeName,{accessToken:s,hybridLink:o,convId:n.id}).done(t.bind((function(e){if(e){if(osn.debug("nav","triggering navigation event for view: "+n.routeName),osn.events.trigger("nav",n),["Docs","Developer",docs.common.checkFeatureFlag("SitePlansUI")?"SiteOptions":"Sites","Experiences"].indexOf(n.routeName)>-1){var t=n.views.DocsMainView&&n.views.DocsMainView.options.fragment||"";docs.router.trigger("navigate",t,{trigger:!1,replace:!0})}}else n.pmNavEvent?(osn.debug("nav","triggerNavEvent: API nav request failed auth"),this.pmNavFailure({config:n,data:"access-denied"})):n.onRouteAuthzDenied?(osn.debug("nav","triggerNavEvent: calling onRouteAuthzDenied for route "+n.routeName+" with conv id = "+n.id),this[n.onRouteAuthzDenied](n)):(osn.debug("nav","triggerNavEvent: Not authorized to access view: "+n.routeName),"All"===n.routeName||"Overview"===n.routeName?this.docsRoute():osn.events.trigger("error",{message:osn.i18n.t("accessDenied"),inline:osn.cache.get("AppConfig").embed,close:function(){i.history.navigate("",!0)}}))}),this))},conversationListRoute:function(i,n,s){var o;this.hasValidViewOptions([n,s])?((o=e.extend(!0,{},this.routeConfig[i].list)).alertText=this.getAlertText(i,!0),this.setSortFilterOptions(o,[n,s]),osn.init.initConversationState().then(t.bind((function(){this.triggerNavEvent(o)}),this))):this.unknownRoute(i+" List route: invalid view options")},defaultWallRoute:function(t,i,n,s,o,a){var r;this.isValidMessagesOrWallRoute(t,i,n)?((r=e.extend(!0,{id:i,id2:n},this.routeConfig[t].wall)).views[o].options={id2:n,reply:"reply"===s},r.alertText=a,r.alertHeaderText=!0,this.triggerNavEvent(r)):this.unknownRoute(t+" Wall Route: invalid")},flagsRoute:function(i,n,s){var o,a=e.extend(!0,{},this.routeConfig.flags);this.viewOptions.set("flags"),this.setSortFilterOptions(a,[i,n,s]),this.viewOptions.reset(),a.id=a.filterMode||"to",delete a.filterMode,o="to"===a.id,a.views.FlagsHeaderView.options.isAssignedToMe=o,a.views.FlagsOptionsToolbarView.options.isAssignedToMe=o,a.models.FlagsCollection.isAssignedToMe=o,a.views.FlagsView.options.isAssignedToMe=o,a.alertText=this.getAlertText(o?"flagsForYouMode":"flagsYouAssignedMode"),osn.init.initConversationState().then(t.bind((function(){this.triggerNavEvent(a)}),this))},homeRoute:function(t){if(osn.authz.can("route","Home")&&!c.embed){var n=e.extend(!0,{},this.routeConfig.home.list);this.triggerNavEvent(n),i.history.navigate("home",{trigger:!1,replace:!1})}else t?this.docsHomeRoute(t):this.docsRoute()},conversationsRoute:function(e,t,i){this.isValidMessagesOrWallRoute("conversations",e,t)?this.conversationMessagesRoute(e,t,i):!this.isById(e)&&this.hasValidViewOptions([e,t])?this.conversationListRoute("conversations",e,t):this.unknownRoute("Conversations: invalid view options or subview")},conversationsRouteAuthDeniedHandler:function(e){if(e&&e.id){var n,s=osn.cache.get("XConvInfo",e.id);!t.isEmpty(s)&&osn.util.isConversationMainForDocument(s)?(s._chatId=e.views.ConversationView.options.id2,s._isReply=e.views.ConversationView.options.reply,n=osn.util.getConversationHref(s),i.history.navigate(n,{trigger:!0,replace:!0})):(osn.debug("nav","conversationsRouteAuthDeniedHandler: Not authorized to access view: "+e.routeName),this.accessDenied())}},conversationMessagesRoute:function(i,n,s){var o;this.isValidMessagesOrWallRoute("conversations",i,n)?((o=e.extend(!0,{id:i,id2:n},this.routeConfig.conversations.messages)).views.ConversationView.options={id2:n,reply:"reply"===s},o.alertText=this.getAlertText("messages"),o.alertHeaderText=!0,o.postMessage={message:"navigate",conversationId:i},osn.init.initConversationState().then(t.bind((function(){this.triggerNavEvent(o)}),this))):this.unknownRoute("Conversation: invalid messages route")},peopleRoute:function(e,t,i){this.isByName(e,"people")||this.isById(e)?this.peopleProfileRoute(e):this.unknownRoute("People: invalid route")},peopleSubviewRoute:function(t,i){var n;this.isById(t)||this.isByName(t,"people")?((n=e.extend(!0,{id:t},this.routeConfig.people[i])).alertText=this.getAlertText("viewUserProfile"),n.alertHeaderText=!0,this.triggerNavEvent(n)):this.unknownRoute("People: invalid id")},peopleProfileRoute:function(e){this.peopleSubviewRoute(e,"profile")},groupsRoute:function(t,i,n){if(this.viewOptions.set("group"),i)this.groupProfileRoute(t);else if(this.hasValidViewOptions([t,i])){if(c.isStandardExternalUser&&("owned"===t||"discoverable"===t))return void this.navigate("groups/belong",{trigger:!0});t&&(this.routeConfig.groups.list.views.GroupsHeaderView.options.filter=t);var s=e.extend(!0,{},this.routeConfig.groups.list);s.alertText=this.getAlertText("groups",!0),this.setSortFilterOptions(s,[t,i]),this.triggerNavEvent(s)}else this.unknownRoute("Groups: invalid view options or subview");this.viewOptions.reset()},groupProfileRoute:function(t){var i;this.isById(t)?(i=e.extend(!0,{id:t},this.routeConfig.groups.profile),this.triggerNavEvent(i)):this.unknownRoute("Groups: invalid route")},hashtagsRoute:function(i,n){var s=i.toLowerCase(),o=n?n.toLowerCase():"all",a=e.extend(!0,{},this.routeConfig.hashtag);a.id=s,a.displayOption=o,a.alertText=this.getAlertText("viewHashtag"),a.alertHeaderText=!0,a.models.HashtagModel.hashtagId=s,a.models.HashtagMessagesCollection.hashtagId=s,a.views.HashtagView.options={hashtagId:s},osn.init.initConversationState().then(t.bind((function(){this.triggerNavEvent(a)}),this))},searchRoute:function(i,n,s,o){var a,r,l;this.viewOptions.set("search"),this.isById(n)||this.isById(s)||this.hasValidViewOptions([n,s])||c.embed&&("documentsandfolders"===n||"foldersanddocs"===n)?("foldersanddocs"===n&&(n="documentsandfolders"),a=e.extend(!0,{id:i},this.routeConfig.search),this.setSortFilterOptions(a,[n,s]),r="messages"===a.displayOption?"dateposted":"people"===a.displayOption||"groups"===a.displayOption||"publicgroups"===a.displayOption?"name":"lastupdated",a.sortBy=a.sortBy||r,a.displayOption=a.displayOption||(this.isById(n)?n:this.isById(s)?s:"all"),a.models.SearchModel.itemGuid=o||null,l=c.embed&&!t.contains(["documents","conversations","folder","folders","documentsandfolders"],a.displayOption),"all"===a.displayOption&&"lastupdated"!==a.sortBy||("groups"===a.displayOption||"publicgroups"===a.displayOption)&&!osn.authz.can("access","Groups")||l?this.unknownRoute("Search route: invalid view options"):this.triggerNavEvent(a)):this.unknownRoute("Search route: invalid view options"),this.viewOptions.reset()},preferencesRoute:function(t){var i=osn.cache.get("me").id,n=e.extend(!0,{id:i},this.routeConfig.preferences);n.views.PreferencesView.options={section:t},checkFeatureFlag("newNotifPrefs")&&(require(["settings/UserGeneralPreferencesView","settings/UserNotificationsPrefsView"]),n.models.NotificationsModel={module:"settings/UserNotificationsModel"}),this.triggerNavEvent(n)},adminRoute:function(t){var i=osn.cache.get("me").id,n=e.extend(!0,{id:i},this.routeConfig.admin);n.views.AdministrationView.options={section:t},this.triggerNavEvent(n)},adminSubRoute:function(t,i,n){var s=osn.cache.get("me").id,o=e.extend(!0,{id:s},this.routeConfig.admin);o.views.AdministrationView.options={section:t,action:i,itemId:n},this.triggerNavEvent(o)},integrationsRoute:function(t){var i=osn.cache.get("me").id,n=e.extend(!0,{id:i},this.routeConfig.integrations);n.views.IntegrationsView.options={section:t},this.triggerNavEvent(n)},integrationsSubRoute:function(t,i,n){var s=osn.cache.get("me").id,o=e.extend(!0,{id:s},this.routeConfig.integrations);o.views.IntegrationsView.options={section:t,action:i,itemId:n},this.triggerNavEvent(o)},analyticsRoute:function(t){var i=osn.cache.get("me").id,n=e.extend(!0,{id:i},this.routeConfig.analytics);n.views.AnalyticsView.options={section:t},this.triggerNavEvent(n)},analyticsSubRoute:function(t,i,n,s){var o=osn.cache.get("me").id,a=e.extend(!0,{id:o},this.routeConfig.analytics);a.views.AnalyticsView.options={section:t,repository:i,collection:n,channel:s},this.triggerNavEvent(a)},captureRoute:function(t){if(!c.isCaptureAdmin)return this.unknownRoute();var i=osn.cache.get("me").id,n=e.extend(!0,{id:i},this.routeConfig.capture);n.views.CaptureView.options={section:t},this.triggerNavEvent(n)},applicationsRoute:function(t){if(!c.enableApplications)return this.unknownRoute();var i=osn.cache.get("me").id,n=e.extend(!0,{id:i},this.routeConfig.applications);this.triggerNavEvent(n)},docsRoute:function(t,i,n,s){var o=e.extend(!0,{id:"docs"},this.routeConfig.documents);t&&t.includes("fileview")&&(o.routeName="DocumentsFile"),o.views.DocsMainView.options={fragment:t||"",linkId:i,isAppLink:!!n,isRegUserLink:!!s,aif:!0},this.triggerNavEvent(o)},docsHomeRoute:function(e){if(t.isNull(e)){var i=n.folderFilter().slice(7);"favorites"!==i&&"trash"!==i||(e=i)}this.docsRoute("folder/home/"+(e||""))},docsFolderRoute:function(e,t,i){this.docsRoute("folder/"+t+"/"+i,e)},docsFileRoute:function(e,t,i){this.docsRoute("fileview/"+t+"/"+i,e)},docsApplinkFolderRoute:function(t,i,n){var s=e.proxy(this.docsApplinkFolderRoute,this,t,i,n);docs.common.AppLink.obtainTokens(t,s)||this.docsRoute("folder/"+i+"/"+n,t,!0)},docsApplinkFileRoute:function(t,i,n){var s=e.proxy(this.docsApplinkFileRoute,this,t,i,n);docs.common.AppLink.obtainTokens(t,s)||this.docsRoute("fileview/"+i+"/"+n,t,!0)},docsAuthlinkFolderRoute:function(e,t,i){this.docsRoute("folder/"+t+"/"+i,e,!1,!0)},docsAuthlinkFileRoute:function(e,t,i){this.docsRoute("fileview/"+t+"/"+i,e,!1,!0)},docsLinkPickerRoute:function(e,t){this.docsRoute("linkpicker/"+e+"/"+t,void 0,!1,!0)},docsApplinkLinkPickerRoute:function(t,i,n){var s=e.proxy(this.docsApplinkFileRoute,this,t,i,n);docs.common.AppLink.obtainTokens(t,s)||this.docsRoute("linkpicker/"+i+"/"+n,t,!0)},embedLoginRoute:function(){var t=e.extend(!0,{id:"embedLoginSuccess"},this.routeConfig.embedLoginSuccess);t.alertText=this.getAlertText("viewing embedLogin"),t.alertHeaderText=!0,this.triggerNavEvent(t)},assetsRoute:function(t){if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","Assets"))return this.unknownRoute();var i=e.extend(!0,{id:"assets"},this.routeConfig.docs);if(i.views.DocsMainView.options={fragment:"assets"+(t?"/"+t:"")},!docs.common.embed&&checkFeatureFlag("BookmarkableAssetsFilter")){let t=window.location.search.match(/q=([^&]*)/);if(t)try{t=decodeURIComponent(t[1]),t.startsWith("{")||(t=window.atob(t));const i=JSON.parse(t);s.sanitize({assetsView:{filterValue:i}},!0),docs.common.Globals.repositoryId=i.repositoryId,delete i.repositoryId,e.sessionStorage("assets_filter_"+docs.common.Globals.repositoryId,i)}catch(e){console.warn("Invalid viewOptions parameter. Must be valid JSON")}}this.triggerNavEvent(i)},archivedAssetsRoute:function(t){if(docs.common.Globals.isStarterEdition)return this.unknownRoute();if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","EnterpriseUser"))return this.unknownRoute();var i=e.extend(!0,{id:"assets"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"assets/archive"+(t?"/"+t:"")},this.triggerNavEvent(i)},recommendationsRoute:function(t){if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","EnterpriseUser"))return this.unknownRoute();var i=e.extend(!0,{id:"recommendations"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"recommendations"+(t?"/"+t:"")},this.triggerNavEvent(i)},recommendationRoute:function(t){if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","EnterpriseUser"))return this.unknownRoute();var i=e.extend(!0,{id:"recommendation"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"recommendation/"+(t||"")},this.triggerNavEvent(i)},experiencesRoute:function(t){if("OCI-N"!==c.podPlatform&&"DEV"!==c.oceEnvironment)return this.unknownRoute();if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","EnterpriseUser"))return this.unknownRoute();var i=e.extend(!0,{id:"experiences"},this.routeConfig.experiences);i.views.DocsMainView.options={fragment:"experiences/"+(t||"")},this.triggerNavEvent(i)},assetsAdminRoute:function(){var e,s={trigger:!1,replace:!0},o=n.assetsAdminFilter().slice(5);t.isEmpty(o)||(e=this.routes[t.find(t.keys(this.routes),(function(e){return e.startsWith(o)}))]),e?(i.history.navigate(o,s),this[e].call(this)):(i.history.navigate("repositories",s),this.repositoriesRoute())},clearAssetsAdminFilter:function(){n.assetsAdminFilter(null)},repositoriesRoute:function(t){if(!c.isRepositoryAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"repositories"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"repositories/"+(t||"")},this.triggerNavEvent(i)},repositoryRoute:function(t){if(!c.isRepositoryAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"repository"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"repository/"+(t||"")},this.triggerNavEvent(i)},channelsRoute:function(t){if(!c.isRepositoryAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"channels"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"channels/"+(t||"")},this.triggerNavEvent(i)},channelRoute:function(t){if(!c.isRepositoryAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"channel"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"channel/"+(t||"")},this.triggerNavEvent(i)},localizationsRoute:function(t){if(!c.isRepositoryAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"localizations"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"localizations/"+(t||"")},this.triggerNavEvent(i)},localizationRoute:function(t){if(!c.isRepositoryAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"localization"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"localization/"+(t||"")},this.triggerNavEvent(i)},contentTypesRoute:function(t){if(!c.isContentAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"contenttypes"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"contenttypes/"+(t||"")},this.triggerNavEvent(i)},contentTypeEditorRoute:function(t){if(!c.isContentAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"contenttype"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"contenttype/"+t},this.triggerNavEvent(i)},audienceAttributesRoute:function(t){if(!c.isContentAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"audienceattributes"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"audienceattributes/"+(t||"")},this.triggerNavEvent(i)},taxonomiesRoute:function(t){if(!c.isRepositoryAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"taxonomies"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"taxonomies/"+(t||"")},this.triggerNavEvent(i)},taxonomyRoute:function(t){if(!c.isRepositoryAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"taxonomy"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"taxonomy/"+(t||"")},this.triggerNavEvent(i)},rankingpoliciesRoute:function(t){if(!c.isRepositoryAdmin||docs.common.Globals.isStarterEdition)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"rankingpolicies"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"rankingpolicies/"+(t||"")},this.triggerNavEvent(i)},rankingpolicyRoute:function(t){if(!c.isRepositoryAdmin||docs.common.Globals.isStarterEdition)return this.unknownRoute();var i=e.extend(!0,{id:"rankingpolicy"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"rankingpolicy/"+(t||"")},this.triggerNavEvent(i)},renditionpoliciesRoute:function(t){if(!c.isRepositoryAdmin||!docs.common.checkFeatureFlag("RenditionPolicies"))return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"renditionpolicies"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"renditionpolicies/"+(t||"")},this.triggerNavEvent(i)},renditionpolicyRoute:function(t){if(!c.isRepositoryAdmin||!docs.common.checkFeatureFlag("RenditionPolicies"))return this.unknownRoute();var i=e.extend(!0,{id:"renditionpolicy"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"renditionpolicy/"+(t||"")},this.triggerNavEvent(i)},developerEmbedUI:function(t){if(!c.isDeveloperUser)return this.unknownRoute();var i=e.extend(!0,{id:"developer"},this.routeConfig.developer);i.views.DocsMainView.options={fragment:"developer/embedui"+(t?"/"+t:"")},this.triggerNavEvent(i)},developerCenterRoute:function(t){if(!c.isDeveloperUser&&!c.isSitesAdmin&&!c.isContentAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"developer"},this.routeConfig.developer);i.alertText=docs.i18n.t("DEVELOPER_CENTER"),i.views.DocsMainView.options={fragment:"developer"},this.triggerNavEvent(i)},sitesRoute:function(t){var i=e.extend(!0,{id:"sites"},this.routeConfig.sites);i.views.DocsMainView.options={fragment:"sites/"+(t||"")},this.triggerNavEvent(i)},siteOptionsRoute:function(t){var i=e.extend(!0,{id:"siteoptions"},this.routeConfig.siteOptions);i.views.DocsMainView.options={fragment:"siteoptions"+(t?"/"+t:"")},this.triggerNavEvent(i)},sitePlansRoute:function(t){if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","Assets"))return this.unknownRoute();var i=e.extend(!0,{id:"siteplans"},this.routeConfig.siteplans);i.views.DocsMainView.options={fragment:"siteplans"+(t?"/"+t:"")},this.triggerNavEvent(i)},sitePlanRoute:function(t){if(t=t||"",!(osn.cache.get("AppConfig")||{}).loadEmbedLogin&&!osn.authz.can("access","Assets"))return this.unknownRoute();var i=e.extend(!0,{id:"siteplan"},this.routeConfig.siteplans);i.views.DocsMainView.options={fragment:"siteplan/"+(t||"")},this.triggerNavEvent(i)},sitesTrashRoute:function(t){var i=e.extend(!0,{id:"sites-trash"},this.routeConfig.sites);i.views.DocsMainView.options={fragment:"sites/trash/"+(t||"")},this.triggerNavEvent(i)},themesRoute:function(t){var i=e.extend(!0,{id:"themes"},this.routeConfig.sites);i.views.DocsMainView.options={fragment:"themes/"+(t||"")},this.triggerNavEvent(i)},componentsRoute:function(t){if(!c.isDeveloperUser&&!c.isSitesAdmin&&!c.isContentAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"apps"},this.routeConfig.sites);i.views.DocsMainView.options={fragment:"components/"+(t||"")},this.triggerNavEvent(i)},workflowsRoute:function(t){if(!c.isRepositoryAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"workflows"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"workflows/"+(t||"")},this.triggerNavEvent(i)},workflowRoute:function(t){if(!c.isRepositoryAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"workflow"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"workflow/"+(t||"")},this.triggerNavEvent(i)},workflowRolesRoute:function(t){if(!c.isRepositoryAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"workflowroles"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"workflowroles/"+(t||"")},this.triggerNavEvent(i)},editorialRolesRoute:function(t){if(!c.isRepositoryAdmin)return this.clearAssetsAdminFilter(),this.unknownRoute();var i=e.extend(!0,{id:"editorialroles"},this.routeConfig.docs);i.views.DocsMainView.options={fragment:"editorialroles/"+(t||"")},this.triggerNavEvent(i)},templatesRoute:function(t){if(!c.isDeveloperUser&&!c.isSitesAdmin&&!c.isContentAdmin)return this.unknownRoute();var i=e.extend(!0,{id:"templates"},this.routeConfig.sites);i.views.DocsMainView.options={fragment:"templates/"+(t||"")},this.triggerNavEvent(i)},installRoute:function(){if(c.isStandardExternalUser)return this.unknownRoute();var t=e.extend(!0,{id:"installs"},this.routeConfig.install);t.alertText=this.getAlertText("viewingInstalls"),t.alertHeaderText=!0,this.triggerNavEvent(t)},unknownRoute:function(t){if(osn.debug("nav","Router error: unknown route: "+t),(osn.cache.get("AppConfig")||{}).loadError){var i=e.extend(!0,{},this.routeConfig.home.list);this.triggerNavEvent(i)}else a?(this.pmNavFailure({config:{pmNavEvent:a},data:"invalid"}),a=void 0):osn.events.trigger("error",{message:osn.i18n.t("invalidUrl"),close:function(){var e=osn.cache.get("AppConfig").contextPath,t=window.location;t.replace(t.protocol+"//"+t.host+e+t.search)}})},accessDenied:function(){osn.events.trigger("error",{message:osn.i18n.t("accessDenied"),inline:osn.cache.get("AppConfig").embed,close:function(){i.history.navigate("",!0)}})},getRouteConfigByRouteName:function(i){if(t.isEmpty(this.routeConfigsByRouteName)){var n=t.bind((function(i){i.routeName?this.routeConfigsByRouteName[i.routeName]=e.extend(!0,{},this.routeConfigsByRouteName[i.routeName],i):t.each(t.values(i),(function(e){n(e)}))}),this);n(this.routeConfig)}return this.routeConfigsByRouteName[i]},execute:function(n,s){var a=e.Deferred();osn.events.trigger("preroute",a,o),a.done(t.bind((function(){o=i.history.getFragment(),this.getWindowLocationSearch().length&&s.pop(),n&&n.apply(this,s)}),this)).fail((function(){return osn.events.trigger("navigate:cancelled"),!1}))},getWindowLocationSearch:function(){return window.location.search},setPmNavigationUsed:t.once((function(){r=!0}),this),isPmNavigationUsed:function(){return r},pmNav:function(e){e.data&&e.data.message&&"navigate"===e.data.message&&(osn.debug("nav","pmNav: "+e.data.path),a=e,i.history.navigate(e.data.path,{trigger:!0,replace:!this.isPmNavigationUsed()})||i.history.loadUrl(i.history.fragment),this.setPmNavigationUsed())},pmNavComplete:function(t){osn.debug("nav","pmNavComplete");var i=t.pmNavEvent;t.postMessage&&!i?(osn.debug("nav","pmNavComplete postMessage conversationId "+t.postMessage.conversationId),t.postMessage=e.extend(!0,{},t.postMessage,{conversationName:osn.cache.get("XConvInfo",t.id).ConversationName}),osn.pm.send(t.postMessage)):i&&(osn.debug("nav","pmNavComplete "+i.data.path),osn.pm.send({message:"navigate-ack",path:i.data.path,accessToken:i.data.accessToken,status:"ready"},i))},pmNavFailure:function(e){osn.debug("nav","pmNavFailure");var t,i=e.data,n=i&&i.length&&i[0].returnValue&&i[0].returnValue.ResourceID,s=e.config.pmNavEvent;s&&(i&&i.length&&i[0].returnValue&&("waggle.exceptions.AccessDeniedException"===n?i="access-denied":(i="error",t=n)),osn.pm.send({message:"navigate-ack",path:s.data.path,accessToken:s.data.accessToken,status:i,details:t},s))},setPmNavEvent:function(e){a=e}});osn.events.once("router-init",(function(e){!function(){if(osn.router=new d,Object.freeze(osn.router),osn.debug("nav","Initializing router and starting Backbone history"),c.routerRoot.indexOf("/mobile/appembed/")>=0){var e=window.location.pathname.indexOf("/ssoembed/")>=0,n=window.location.pathname.indexOf("/embed/")>=0;e?c.routerRoot=c.routerRoot.replace("/mobile/appembed/","/ssoembed/"):n&&(c.routerRoot=c.routerRoot.replace("/mobile/appembed/","/embed/"))}i.history.start({pushState:!0,root:c.routerRoot}),osn.events.on("nav-complete",osn.router.pmNavComplete),osn.events.on("nav-failure",osn.router.pmNavFailure),osn.events.on("embedapi:navigate",t.bind(osn.router.pmNav,osn.router)),osn.pm.send({message:"status",status:"listening"})}()}))})),define("core/view/Spinner.template",["underscore"],(function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",o.isBoilerplate&&(__p+="<div class='mainSpinner bp-large'>"),__p+='  <div value="-1" class="progress-circle '+(null==(__t=o.extraClasses)?"":__t)+'" role="progressbar" aria-valuetext="'+(null==(__t=o.inProgressText)?"":__t)+'">    <div class="progress-circle-indeterminate">      <div class="progress-circle-indeterminate-inner"></div>    </div>  </div>',o.isBoilerplate&&(__p+='  <div>    <h3 class="bp-info-text">'+(null==(__t=o.boilerplateMessage)?"":__t)+'</h3>    <div class="bp-details-text">'+(null==(__t=o.boilerplateDetails)?"":__t)+"</div>  </div></div>"),__p+="",o.offscreenText&&(__p+="<span class='offscreen'>"+(null==(__t=o.offscreenText)?"":__t)+"</span>"),__p+="";return __p}})),define("core/view/SpinnerView",["jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/view/Spinner.template"],(function(e,t,i,osn,docs,n){"use strict";return osn.views.SpinnerView=i.View.extend({displayName:"SpinnerView",className:function(){return this.options=this.options||{},"alta-spinner"+(this.options.classNames?" "+this.options.classNames:"")},initialize:function(e){this.options=e||{},this.options.inProgressText=docs.i18n.t("IN_PROGRESS"),this.options.isBoilerplate=!!e&&e.isBoilerplate,this.options.isBoilerplate&&(this.options.boilerplateMessage=this.options.boilerplateMessage||docs.i18n.t("BP_LOAD_MSG"),this.options.boilerplateDetails=this.options.boilerplateDetails||docs.i18n.t("BP_LOAD_DETAIL")),this.render()},render:function(){return osn.debug("view",this.displayName+": render"),this.$el.html(n({o:this.options})),this},clean:function(){this.remove()},setExplicitHeightOnParent:function(){var e=osn.util.getHeadersHeight();this.$el.parent().css("height","calc(100vh - "+e+"px)")},resetExplicitHeightOnParent:function(){this.$el.parent().css("height","")},updateExtraClasses:function(e){var t=this.$el.find(".progress-circle");this.options.extraClasses&&t.removeClass(this.options.extraClasses),this.options.extraClasses=e,t.addClass(this.options.extraClasses)}},{showSpinner:function(e,t){var i=new this(t);e.hide(),e.after(i.$el)},hideSpinner:function(e){e.next(this.className).remove(),e.show()}}),osn.views.SpinnerView})),define("core/router/AppController",["require","jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/embedapi/EmbedApi","core/apm/apmHelper","core/AppEvents","core/view/SpinnerView"],(function(require,e,t,i,osn,docs,n,s){"use strict";var o,a,r,l,c,d=e("#osn-view-main"),u=e("#osn-view-header"),h=e("#osn-view-breadcrumbs"),p=e("#osn-view-options"),m=e.Deferred(),f=window.top!==window.self&&/firefox/i.test(navigator.userAgent)?"show":"fadeIn";function g(i){var s;osn.cache.get("AppConfig");i.alertText&&(s=osn.i18n.t("contentUpdated",i.alertText),i.alertHeaderText&&(s+=" "+e("h1").text()),osn.util.setAlertText(s)),l.main.setTitle(),l.main.applyKOBindings&&l.main.applyKOBindings(),l.header&&l.header.applyKOBindings&&l.header.applyKOBindings(),l.main.resize(),l.options&&l.options.setStatusText&&l.options.setStatusText(),e(window).on("resize",t.debounce((function(){if(window!==top){var t=osn.cache.get("AppConfig"),i=t&&t.iframeHeight||e(window).height(),n=t&&t.iframeWidth||e(window).width();e("#content-wrapper").width(n).height(i),osn.events.trigger("clearIframeSize")}l&&l.main&&l.main.resize()}),100)),e(window).on("orientationchange",t.debounce((function(){docs.events.trigger("orientationchange")}),100)),l.main.addScrollHandler&&l.main.addScrollHandler(),n.options.takeFocus&&(l.header&&l.header.setFocus&&l.header.setFocus(),l.main.setFocus&&(l.main.setFocus(),e("#content-wrapper").scrollTop()>0?(osn.debug("controller","postRender: Setting #content-wrapper scrollTop to 0."),e("#content-wrapper").scrollTop(0)):e(window).scrollTop()>0&&(osn.debug("controller","postRender: Setting window scrollTop to 0."),e(window).scrollTop(0)))),e("#content-wrapper").hasClass("touch")&&(l.main.$(".mainViewContent").css("-webkit-overflow-scrolling","auto"),setTimeout((function(){l.main.$(".mainViewContent").css("-webkit-overflow-scrolling","touch")}),50)),osn.events.trigger("nav-complete",i),t.isEmpty(i.models)||performance.mark("ocm.view.render.end")}function v(i){performance.mark("ocm.view.render.fetch.models");var n=e.Deferred(),s=e.Deferred(),a=[],r=t.after(t.size(i.models),(function(){n.resolve()}));return r(),t.each(i.models,(function(e){e.id=i.id,i.displayOption&&(e.displayOption=i.displayOption),i.sortBy&&(e.sortBy=i.sortBy),require([e.module],(function(i){var n=i.getRequests(e);n&&(t.isArray(n)&&t.isArray(n[0])?a=t.union(a,n):a.push(n)),r()}))})),n.done((function(){a.length?osn.fc.sendRequest(a).then(s.resolve,s.reject):s.resolve()})),o&&"pending"===o.state()&&o.reject(),o=s,s.promise()}function _(i){performance.mark("ocm.view.render.build.models");var n=e.Deferred(),s={},o=t.after(t.size(i.models),(function(){n.resolve(s)}));return t.isEmpty(i.models)?n.resolve({}):t.each(i.models,(function(e,t){var a=e.builderFn||"build";e.id&&"my"===e.id&&(e.id=osn.cache.get("me").id),e.id=e.id||i.id,require([e.module],(function(r){r[a](e.id,e).done((function(a){!function(e){var t=!0;return"ConversationMessages"===i.routeName&&(t=e.isConversation()),t}(a)?(n.reject(),osn.events.trigger("error",{message:osn.i18n.t("invalidId"),inline:!osn.authz.can("view","NavMenu")})):(s[t]=a,e.isExternal&&(i.id=a.id),o())})).fail((function(){n.reject()}))}))})),a&&"pending"===a.state()&&a.reject(),a=n,n.promise()}function b(e){var t=d.find("#osn-start-spinner").length>0;e&&!t?(c||(c=new osn.views.SpinnerView({isBoilerplate:!0})),c.$el.detach(),d.append(c.el).show(),osn.util.setStatusText(osn.i18n.t("loading")),c.setExplicitHeightOnParent()):(c&&(c.resetExplicitHeightOnParent(),c.$el.detach()),d.hide())}osn.models.build=_,osn.models.getRequests=v,osn.$fcbcReady=m.promise(),osn.events.once("osn-fcbc-ready",(function(){m.resolve()})),osn.events.on("preroute",(function(n,s){var o=i.history.getFragment().split(/[\/\?]+/),a=e.Deferred().resolve(),r=e.Deferred().resolve(),c=osn.cache.get("AppConfig");t.isEmpty(o[0])||t.contains(["folder","assets","home","link","authlink"],o[0])||c&&(c.loadEmbedLogin||c.loadError)||(r=m),l&&l.main&&l.main.preDestroy&&(a=l.main.preDestroy(s)),e.when(a,r).then(n.resolve,n.reject)})),osn.events.on("nav",(function(i){var n=e.Deferred(),c=t.after(t.size(i.views),(function(){n.resolve()}));performance.mark("ocm.view.render.start"),osn.debug("controller","updateView: showing with "+f),o&&"pending"===o.state()&&o.reject(),a&&"pending"===a.state()&&a.reject(),d.hide(),e(window).off("resize"),e(window).off("orientationchange"),l&&(osn.debug("controller","Cleaning views: "+Object.keys(l)),t.invoke(l,"clean")),r&&(osn.debug("controller","Cleaning models: "+Object.keys(r)),t.each(r,(function(e){e&&e.clean&&e.clean()}))),r={},l={},s.clear(),b(!0),osn.debug("controller","\n==================================\nBegin Loading Route: "+i.routeName+"\n=================================="),v(i).done((function(){_(i).done((function(s){r=s,t.each(i.views,(function(e){var n=e.options||{};n.routeId=i.id,n.model=r[t.first(e.models)],n.route=i.routeName,i.displayOption&&(n.displayOption=i.displayOption),i.sortBy&&(n.sortBy=i.sortBy),t.each(e.models,(function(e){n[e]=r[e]})),require([e.module],(function(t){l[e.type]=new t(n),c()}))})),n.done((function(){performance.mark("ocm.view.render.main.start");var n=!(!l.header||!t.has(l.header,"options.header.hide"))&&l.header.options.header.hide;u.toggle(!!l.header||n),l.header&&!n&&u.html(l.header.render().el);var s=!osn.authz.can("view","BreadCrumbs")&&!osn.authz.can("view","BackButton");h.toggle(!!l.breadCrumbs||s),l.breadCrumbs&&!s&&h.html(l.breadCrumbs.render().el),l.options&&p.html(l.options.render().el),b(!1),d.html(l.main.render().el)[f](),e.when(d,l.main.ready()).then((function(){l.main&&g(i),osn.debug("controller","\n==================================\nFinished Loading Route: "+i.routeName+"\n=================================="),performance.mark("ocm.view.render.main.end")}))}))})).fail((function(e){b(!1),osn.events.trigger("nav-failure",{config:i,data:e})}))})).fail((function(e){b(!1),osn.events.trigger("nav-failure",{config:i,data:e})}))}))})),define("core/util/KeyboardNavigation",["jquery","underscore","backbone","core/osnGlobals","core/authz"],(function(e,t,i){"use strict";var n=!1,s={},o={n:{fn:"openAddNewDialog",checkAddNew:!0},t:{fn:"setMessageFocus",checkList:!1,checkRole:!0,checkStatus:!0,checkIsAppUser:!0},m:{fn:"markChatsAllRead",checkList:!0,checkRole:!0,checkStatus:!1,checkIsAppUser:!0},v:{fn:"toggleFavorite",checkList:!0,checkRole:!1,checkStatus:!1},b:{fn:"manageMembers",checkList:!1,checkRole:!0,checkStatus:!1,checkManageMembers:!0},u:{fn:"toggleMuted",checkList:!1,checkRole:!0,checkStatus:!1},"/":{fn:"setSearchFocus"},"?":{fn:"openShortcuts"}},a={n:{eventName:"navigation-jump",can:function(){return osn.authz.can("view","NavMenu")}},f:{view:"flags",can:function(){return osn.authz.can("access","Flags")}}},r={mainViewItemContainer:"listItem",chatViewContainer:"chatItem",chatReplyContainer:"chatReplyItem",flagsListItem:"flagsListItem",member:"flyoverItem",followup:"flyoverItem",inlineRecommendations:"inlineRecommendations",peopleListItem:"peopleListItem",recommendedMember:"peopleListItem",followUserItem:"followUserItem",ipListItem:"ipListItem",folderListItem:"folderListItem",favoritesListItem:"favoritesListItem",searchListItem:"searchListItem",instSrchItem:"instSrchItem","osn-member-item":"memberItem"},l=function(e,i,n,s){var o=i.attr("class")?t.intersection(t.keys(r),i.attr("class").split(" ")):[],a=o.length>0?o[0]:null;a&&osn.events.trigger("keyboardNav",t.extend(t.pick(e,"ctrlKey","shiftKey"),{type:r[a],target:i,action:n,currentItem:s}))},c=function(t){var i=e(t.target);if(s[t.keyCode]=!0,t.keyCode===e.ui.keyCode.DOWN){if("LI"===t.target.tagName){var n=i.next();for(osn.debug("view","KeyboardNavigation: DOWN on LI");!n.is(":visible")&&n.is("li");)n=n.next();n.is("li")?(osn.debug("view","KeyboardNavigation: next item is LI"),l(t,i,"NEXT",n)):l(t,i,"NEXT"),t.preventDefault()}}else if(t.keyCode===e.ui.keyCode.UP){if("LI"===t.target.tagName){var o=i.prev();for(osn.debug("view","KeyboardNavigation: UP on LI");!o.is(":visible")&&o.is("li");)o=o.prev();o.is("li")?(osn.debug("view","KeyboardNavigation: previous item is LI"),l(t,i,"PREV",o)):l(t,i,"PREV"),t.preventDefault()}}else(t.keyCode===e.ui.keyCode.ESCAPE||d(t)&&osn.router.isPmNavigationUsed())&&(osn.debug("view","KeyboardNavigation: event is prevented ["+t.keyCode+"]"),t.preventDefault());i.data("keyboardFn")&&i.data("keyboardFn")(t)},d=function(t){return osn.debug("view","KeyboardNavigation: navBackKeyShortcutPressed called with event.keyCode ["+t.keyCode+"]"),(t.keyCode===e.ui.keyCode.BACKSPACE||t.keyCode===e.ui.keyCode.LEFT&&osn.util.isControlKeyPressed(t,s))&&!e(t.target).is("input[type=text]","textarea")},u=function(){n=!1};e(window).keydown(c),e("body").on("keypress",(function(r){var l,d;e(document.activeElement).parents(".ui-dialog, oj-dialog").length||e(document.activeElement).parents("form").length||e(document.activeElement).parents(".mmdSearch").length||e(document.activeElement).parents(".codeform-form").length||e(document.activeElement).hasClass("metadata-value")||e(document.activeElement).parents(".select2-dropdown").length||e(document.activeElement).parents(".cke_dialog").length||e(document.activeElement).parents(".item-form").length||e(document.activeElement).parents(".validation-page").length||e(r.target).is("input[type=text], textarea")||(null===r.which?l=String.fromCharCode(r.keyCode):0!==r.which&&0!==r.charCode&&(l=String.fromCharCode(r.which)),osn.debug("view","Keyboard Shortcut: "+l),(l&&"?"===l||r.shiftKey||!osn.util.isControlKeyPressed(r,s))&&(!n&&l&&t.has(o,l)?(r.preventDefault(),osn.events.trigger("keyboardShortcut",o[l],r)):n&&l&&t.has(a,l)?(r.preventDefault(),osn.authz.can("jump","KeyboardNav")&&((d=a[l]).can()&&(d.view&&osn.authz.can("view","NavMenu")?(osn.debug("view","Jump to: "+d.view),i.history.navigate(d.view,!0)):d.eventName&&osn.events.trigger(d.eventName),u()))):l&&"j"===l?(r.keyCode=e.ui.keyCode.DOWN,c(r)):l&&"k"===l&&(r.keyCode=e.ui.keyCode.UP,c(r)),n||"g"!==l||(n=!0,setTimeout(u,3e3))))})),e(window).keyup((function(e){s[e.keyCode]=!1}))})),define("core/dialog/AlertDialogView",["jquery","underscore","backbone","core/osnGlobals","core/util/util","core/dialog/DialogView"],(function(e,t,i,osn,n,s){"use strict";return osn.views.AlertDialogView=s.extend({template:t.template("<div><%= o.content %></div>"),displayName:"AlertDialog",type:"alert",dialogClassName:"alertDialog no-close",titleI18n:"warning",initialize:function(t){var i=t.content;s.prototype.initialize.call(this,t),t.content.indexOf("</div>")>0&&(i=e(t.content).text()),n.setAlertText(i)},onPrimaryButtonClick:function(){this.options.confirm&&this.options.confirm(),this.closeDialog()}},{show:function(e){return e.DialogClass=osn.views.AlertDialogView,osn.views.DialogView.show(e)}}),osn.views.AlertDialogView})),define("core/util/AnalyticsCollector",["jquery","underscore","backbone","core/util/Globals","core/util/Logger"],(function(e,t,i,docs,n){"use strict";var s="AnalyticsCollector",o=docs.common.Globals,a={"main-menu-navigation":["feature","event-type","main-nav-target","main-nav-source","duration"],"main-menu-toggle":["feature","event-type","main-nav-state","main-nav-prev-state","duration"],"embedui-init":["feature","event-type","service-name","embed-version","embed-component","embed-uses-categories","embed-uses-publishing","embed-uses-translations","embed-uses-workflows","embed-uses-smartcontent","embed-uses-collections"],"smart-content":["feature","event-type","service-name","smart-content-item"],"alpaca-forms":["feature","event-type","service-id","service-name","alpaca-use","alpaca-with-options"],"workflow-submit-assets":["feature","event-type","service-id","service-name","noof-assets-submitted","selected-workflow","workflow-event-type"],"workflow-activity":["feature","event-type","service-id","service-name","workflow-event-type","noof-assets-in-action","workflow-action","workflow-event-captured-page","workflow-event-captured-section"],"scheduled-publishing-assets":["feature","result","service-name","event","event-type","job-id","is-targeted-channel","number-of-items","number-of-channels"],"translation-job":["feature","result","service-name","event","event-type"]},r={"service-id":o.serviceid||"","user-roles":(o.userRoles||"").split(",")},l=t.extend({action:function(e){window&&window.ORA&&window.ORA.view?e&&e.action&&this.recordAction(e):n(s).trace("Fleet analytics provider not defined.  Data: "+JSON.stringify(e||{}))},recordAction:function(i){var o=this,l={"wt.dl":1600},c=i.immediate;delete i.immediate;var d=i.action?a[i.action]:null;d?(i=t.pick(i,"action",d),t.extendOwn(i,r),e.each(i,(function(e,t){l["oce_"+e.replace(/-/g,"_")]=t})),c?o.callAnalytics(l):t.defer((function(){o.callAnalytics(l)}))):n(s).trace("Unknown Analytics Action "+JSON.stringify(i,null,""))},callAnalytics:function(e){n(s).trace("Invoking Analytis with "+JSON.stringify(e,null,"")),window.ORA.view({data:e})},setState:function(e){var i=JSON.parse(JSON.stringify(e));t.extendOwn(r,i)}},i.Events);return o.usageAnalyticsEnabled&&(l.listenTo(docs.events,"analytics:action",l.action),l.listenTo(docs.events,"analytics:setState",l.setState)),l})),define("core/view/BaseViewWithLogging",["jquery","underscore","backbone","core/extensions"],(function(e,t,i){"use strict";var n;return i.View.extend({initialize:function(e){e||(e={}),this.objectName=e.objectName||"BaseViewInherit",this.logger=e.logger||this.objectName},classLogId:function(){return"["+this.objectName+":"+this.cid+"]"},debug:function(){(n=[])[0]=this.classLogId(),docs.common.Logger(this.logger).debug.apply(void 0,n.concat([].slice.apply(arguments)))},error:function(){(n=[])[0]=this.classLogId(),docs.common.Logger(this.logger).error.apply(void 0,n.concat([].slice.apply(arguments)))},warn:function(){(n=[])[0]=this.classLogId(),docs.common.Logger(this.logger).warn.apply(void 0,n.concat([].slice.apply(arguments)))},info:function(){(n=[])[0]=this.classLogId(),docs.common.Logger(this.logger).info.apply(void 0,n.concat([].slice.apply(arguments)))},trace:function(){(n=[])[0]=this.classLogId(),docs.common.Logger(this.logger).trace.apply(void 0,n.concat([].slice.apply(arguments)))},close:function(){this.remove(),this.unbind(),t.isFunction(this.onClose)&&this.onClose()}})})),define("core/dialog/DialogBar",["jquery","underscore","core/util/Globals"],(function(e,t,docs){"use strict";return docs.dialogs.DialogBar={addBar:function(t,i){var n='<div class="dialog-webbar dialog-sub-section';(i=i||{}).klass&&(n+=" "+i.klass),n+='" style="display:none;">',i.placeholder?n+="</div>":(n+='<div class="dialog-webbar-details webbar-table"><div class="webbar-row"><div class="wbIcon webbar-cell"><span class="athena-icon-16 athena-icon-16-warning"></span></div><span class="wbMessage webbar-cell"></span>',i&&i.showCloseButton&&(n+='<button class="wbCommand wbClose button-as-link" title="'+docs.i18n.t("GENERAL_CMD_CLOSE_MSG_BAR")+'" style="display:none;"><span class="athena-icon-16 athena-icon-16-close" title="'+docs.i18n.t("GENERAL_CMD_CLOSE_MSG_BAR")+'"></span></button>'),n+="</div></div></div>"),i&&i.containerSelector?e(i.containerSelector,t).prepend(n):i&&i.htmlSelector?e(i.htmlSelector,t).html(n):t.prepend(n),e(".dialog-webbar",t).on("focusin",(function(){var i=e(".wbMessage",t);e("#dialogalert").empty().text(i.text())}))},showBar:function(e,t,i){this.showWarningBar(e,t,i)},showSuccessBar:function(e,i,n){var s=t.extend({barTypeClass:"dialog-webbar-success",iconTypeClass:"athena-icon-16-success"},n);t.defer(this._showDialogBar,e,i,this.hideBar,s)},showWarningBar:function(e,i,n){var s=t.extend({barTypeClass:"dialog-webbar-warn",iconTypeClass:"athena-icon-16-warning"},n);t.defer(this._showDialogBar,e,i,this.hideBar,s)},showErrorBar:function(e,i,n){var s=t.extend({barTypeClass:"dialog-webbar-error",iconTypeClass:"athena-icon-16-error"},n);t.defer(this._showDialogBar,e,i,this.hideBar,s)},showInfoBar:function(e,i,n){var s=t.extend({barTypeClass:"dialog-webbar-error",iconTypeClass:"athena-icon-16-info-blue"},n);t.defer(this._showDialogBar,e,i,this.hideBar,s)},_showDialogBar:function(i,n,s,o){e(".webbar-table",i).removeClass().addClass("webbar-table "+o.barTypeClass+(o.barExtraClasses?" "+o.barExtraClasses:"")),e(".wbIcon .athena-icon-16",i).removeClass().addClass("athena-icon-16 "+o.iconTypeClass);var a=e(".wbMessage",i),r=o&&o.disableScriptProtection?"html":"text";(a=docs.dialogs.DialogBar._limitToIndexedBarSelection(a,o)).empty(),t.isArray(n)?t.each(n,(function(t,i){var n=e("<div class='dialog-webbar-multimsg-item'></div>");n[r](t),i>0&&n.addClass("dialog-webbar-multimsg-separator"),n.appendTo(a)})):a[r](n),e("#dialogalert").empty().text(a.text());var l=e(".dialog-webbar",i);(l=docs.dialogs.DialogBar._limitToIndexedBarSelection(l,o)).show();var c=e("button.wbClose",l);c&&(c.show().one("click",{dialog:i,hideCallback:s},(function(t){t.data.hideCallback&&t.data.dialog&&(t.data.hideCallback(t.data.dialog),e(":tabbable",t.data.dialog).first().focus())})),o&&t.has(o,"closeFocus")&&!o.closeFocus||c.focus())},_limitToIndexedBarSelection:function(t,i){return t&&i&&i.wbMessageIndex>=0&&t.length>1&&t.length>i.wbMessageIndex&&(t=e(t[i.wbMessageIndex])),t},hideBar:function(t){e(".dialog-webbar",t).hide(),e(".wbMessage",t).empty();var i=e("button.wbClose",t);i&&i.hide()}},docs.dialogs.DialogBar})),define("core/view/NotificationManager",["jquery","backbone","underscore","core/view/BaseViewWithLogging","core/router/DocsController","core/dialog/DialogBar"],(function(e,t,i,n,s,o){"use strict";var a=0,r=new(n.extend({objectName:"NotificationManager",logger:"NotificationManager",immediateProtectedPeriod:1e3,initialize:function(e){n.prototype.initialize.call(this,e)},views:[],_pushExclusiveNotification:function(e,t){i.isEmpty(this.notificationStack)&&(this.notificationStack=[]),this.notificationStack.splice(0,0,e),t&&this.listenTo(s,t,c)},_popExclusiveNotification:function(e,t){0===i.indexOf(this.notificationStack,e)&&(this._removeAllViewsForContext(),this.notificationStack.splice(0,1)),t&&this.stopListening(s,t,c)},_getNotificationContext:function(){return i.isEmpty(this.notificationStack)?void 0:this.notificationStack[0]},_filterViews:function(){return i.isEmpty(this.notificationStack)?this.views:i.filter(this.views,(function(e){return e.context===this.notificationStack[0]}),this)},_addProgress:function(e){this._removeCompletedProgress(),this._removeImmediates(),i.isArray(this.views)||(this.views=[]),this.debug("adding progress bar",e),this.views[this.views.length]={type:"progress",view:e,context:this._getNotificationContext()},this._addView(e)},_removeProgress:function(e){if(i.isArray(this.views)&&this.views.length>0){var t=this,n=[];i.each(this.views,(function(t){"progress"===t.type&&t.view===e&&n.push(t)})),i.each(n,(function(e){var i=t.views.indexOf(e);i>=0&&t.views.splice(i,1),t.debug("removing progress bar",e.view),t._removeView(e.view)})),n=null}},_removeCompletedProgress:function(e){if(i.isArray(this.views)&&this.views.length>0){var t=this,n=[],s=this._filterViews();i.each(s,(function(t){"progress"===t.type&&(t.view.isFinishedWithoutError()||!0===e&&t.view.isFinished())&&n.push(t)})),i.each(n,(function(e){var i=t.views.indexOf(e);i>=0&&t.views.splice(i,1),t.debug("removing finished progress bar",e.view),t._removeView(e.view)})),n=null}},_progressCompleted:function(e){this._updateAlertMessage(e,!0),this._removeImmediates()},_removeView:function(e){this._removeStatusMessage(e),e.close(),docs.events.trigger("notificationManager:change")},_getNotificationContainer:function(t){var i,n=t&&t.notificationContext?t.notificationContext:this._getNotificationContext(),s=t&&t.options&&t.options.viewContext?t.options.viewContext:void 0;if(s){i=e(s).find(".webbar-notification")}else if(n){var o=".dialog-webbar";t&&t.notificationContextBarSelector&&(o+=t.notificationContextBarSelector),0===(i=e(n).find(o)).length&&(i=e(n).closest(".full-page-dialog").find(o))}return i&&0!==i.length||(i=e("#webbar")),i},_addView:function(e){var t=this._getNotificationContainer(e);return(!i.isFunction(e.isErrorAlreadyShown)||!e.isErrorAlreadyShown(t))&&(t.show().append(e.el),this._addAlertMessage(e),docs.events.trigger("notificationManager:change"),!0)},_addImmediate:function(e){!1===i.isArray(this.views)?this.views=[]:(this._removeCompletedProgress(),this._removeImmediates()),this.debug("adding immediate bar",e),this.views[this.views.length]={type:"immediate",view:e,timestamp:Date.now()},this._addView(e)||(this.debug("an equivalent immediate bar is already being shown. remove partial state added for this one."),this._removeImmediate(e))},_removeImmediate:function(e){if(i.isArray(this.views)&&this.views.length>0){var t=this,n=[];i.each(this.views,(function(t){"immediate"===t.type&&t.view===e&&n.push(t)})),i.each(n,(function(e){var i=t.views.indexOf(e);i>=0&&t.views.splice(i,1),t.debug("removing immediate bar",e.view),t._removeView(e.view)})),n=null}},_removeImmediates:function(e){if(i.isArray(this.views)&&this.views.length>0){var t=this,n=[],s=this._filterViews();i.each(s,(function(i){("immediate"===i.type&&(!0===e||i.view.isSuccess())&&Date.now()-i.timestamp>t.immediateProtectedPeriod||i.view.options&&i.view.options.noImmediateProtectedPeriod)&&n.push(i)})),i.each(n,(function(e){var i=t.views.indexOf(e);i>=0&&t.views.splice(i,1),t.debug("removing immediate bar",e.view),t._removeView(e.view)})),n=null}},_removeAllViewsForContext:function(){if(i.isArray(this.views)&&this.views.length>0){var e=this,t=this._filterViews();i.each(t,(function(t){var i=e.views.indexOf(t);i>=0&&e.views.splice(i,1),e.debug("removing notification",t.view),e._removeView(t.view)})),t=null}},_navigate:function(){this.debug("navigate"),this._removeCompletedProgress(!0),this._removeImmediates(!0)},_getHeight:function(){var t=0;return i.each(this.views,(function(i){t+=e(i.view.el).outerHeight()})),t},_addAlertMessage:function(t){var i=t.getStatusMessage(),n=e("<div>").attr("id",t.cid+"_status").text(i);e("#dialogalert").empty().append(n),t.wbmTS=Date.now()},_updateAlertMessage:function(t,i){var n=t.wbmTS,s=Date.now();if(i||s-n>=1e4){var o=e("#"+t.cid+"_status").last().text(),a=t.getStatusMessage();if(a!==o){e("#"+t.cid+"_status").remove();var r=e("<div>").attr("id",t.cid+"_status").text(a);e("#dialogalert").empty().append(r),t.wbmTS=s}}},_removeStatusMessage:function(t){e("#"+t.cid+"_status").remove()},_getHasSkipLinks:function(){return this._getNotificationContainer().hasClass("skip-links")}}));function l(){r._navigate()}function c(e,t){t&&t.trigger&&!t.preserveNotification&&r._navigate()}t.history.bind("route",l),s.bind("navigate",c);var d={addProgress:function(e){r._addProgress(e)},removeProgress:function(e){r._removeProgress(e)},progressCompleted:function(e){r._progressCompleted(e)},addImmediate:function(e){r._addImmediate(e)},removeImmediate:function(e){r._removeImmediate(e)},getHeight:function(){return r._getHeight()},getWebBarNumber:function(){return++a},pushExclusiveNotification:function(e,t){r._pushExclusiveNotification(e,t)},popExclusiveNotification:function(e,t){r._popExclusiveNotification(e,t)},setupDialogNotificationArea:function(e,t){e.is(":empty")?(e.addClass("flex-column"),t.addClass("flex-item"),e.html(t),o.addBar(e,{placeholder:!0,klass:"flex-item"})):e.append(t)},handleNotificationChange:function(t){var i=e(".dialog-webbar",t);i.is(":empty")&&i.hide()},getNotificationContext:function(){return r._getNotificationContext()},getHasSkipLinks:function(){return r._getHasSkipLinks()},__testonly__:{}};return d.__testonly__.theNotificationManager=r,d.__testonly__._backboneHistoryRouteHandler=l,d.__testonly__._docsControllerNavigateHandler=c,d})),define("core/view/WebBarView.template",["underscore"],(function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="wbContent webbar-table fixed-scroll">  <div class="webbar-row">    <div class="wbIcon webbar-cell">      <span class="visuallyhidden">'+(null==(__t=webBarId)?"":_.escape(__t))+'</span>      <span class="athena-icon-16"></span>    </div>    <span class="wbMessage webbar-cell"><div></div></span>    <span class="wbCommands webbar-cell">      <span class="wbCommands-buttons">        <button class="wbCommand wbErrors button-as-link" title="'+(null==(__t=i18n.t("IMG_ALT_ERROR"))?"":_.escape(__t))+'" style="display: none;" type="button">          <span class="wbErrorText">'+(null==(__t=i18n.t("GENERAL_CMD_ERROR"))?"":_.escape(__t))+'</span>        </button>        <button class="wbCommand wbDetails button-as-link" style="display: none;" type="button"></button>        <button class="wbCommand wbCancel button-as-link" style="display: none;" type="button">'+(null==(__t=i18n.t("GENERAL_CMD_CANCEL"))?"":_.escape(__t))+'</button>        <button class="wbCommand wbClose button-as-link" title="'+(null==(__t=i18n.t("GENERAL_CMD_CLOSE"))?"":_.escape(__t))+'" aria-label="'+(null==(__t=i18n.t("GENERAL_CMD_CLOSE"))?"":_.escape(__t))+'" type="button">          <span class="athena-icon-16 athena-icon-16-close"></span>          <span class="visuallyhidden">'+(null==(__t=closeTitle)?"":_.escape(__t))+'</span>        </button>      </span>      <div class="wbErrorMsgPopup pop">        <div class="wbErrorMsgTitle">'+(null==(__t=i18n.t("ERROR_HEADER_TEXT"))?"":_.escape(__t))+'</div>        <div class="wbErrorList"></div>      </div>    </span>  </div></div>';return __p}})),define("core/view/WebBarViewCommand.template",["underscore"],(function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<button class="wbCommand button-as-link" id="'+(null==(__t=command.id)?"":_.escape(__t))+'" title="'+(null==(__t=command.tooltip)?"":_.escape(__t))+'" type="button">  <span class="wbCommand">'+(null==(__t=command.text)?"":_.escape(__t))+"</span></button>";return __p}})),define("core/view/MessageBar",["jquery","underscore","core/view/BaseViewWithLogging","core/util/Globals","core/view/NotificationManager","core/view/WebBarView.template","core/view/WebBarViewCommand.template"],(function(e,t,i,docs,n,s,o){"use strict";var a={success:{CSS_CLASS:"wbSuccess",ICON_CLASS:"athena-icon-16-success"},warning:{CSS_CLASS:"",ICON_CLASS:"athena-icon-16-warning"},error:{CSS_CLASS:"wbError",ICON_CLASS:"athena-icon-16-error"},info:{CSS_CLASS:"wbInfo",ICON_CLASS:"athena-icon-16-feedback"},info_iconFont:{CSS_CLASS:"wbInfo",ICON_CLASS:"oj-ux-ico-information-s"}};return docs.views.MessageBar=i.extend({objectName:"MessageBar",tagName:"div",attributes:function(){var e={class:"webbar "+a[this.options.messageType].CSS_CLASS};return this.options.id&&(e.id=this.options.id),e},events:{"click .wbClose":"closeWebBar"},initialize:function(e){return i.prototype.initialize.call(this,e),(e=e||{}).messageType&&e.messageText&&docs.events.trigger("webbar:message",e.messageType,e.messageText),this.messageText=e.messageText,this.commands=e.commands,this.msgType=a[this.options.messageType],this.messageNumber=n.getWebBarNumber(),this.notificationContext=e.notificationContext,this.notificationContextBarSelector=e.notificationContextBarSelector,this.render(),n.addImmediate(this),this},isErrorAlreadyShown:function(i){if("error"!==this.options.messageType)return!1;var n=!1;try{var s=this.options.disableScriptProtection?this.options.messageText:t.escape(this.options.messageText),o=e(document.createElement("div")).html(s).text();n=e(i).find("div.webbar .wbMessage").filter((function(){return e(this).text()===o})).length>0}catch(e){}return n},render:function(){var i=s;e(this.el).html(i({i18n:docs.i18n,webBarId:docs.i18n.t("WEBBAR_ID_TEXT",this.messageNumber),closeTitle:docs.i18n.t("WEBBAR_CLOSE_TITLE",this.messageNumber)}));var n=this.options.disableScriptProtection?this.options.messageText:t.escape(this.options.messageText);if(this.$(".wbMessage div").html(n),this.$(".wbMessage div").attr("title",this.getStatusMessage()),this.$(".wbIcon .athena-icon-16").removeClass().addClass("athena-icon-16").addClass(this.options.customIconClass||this.msgType.ICON_CLASS),this.options&&this.options.removeClose&&this.$(".wbClose").hide(),this.commands){var a=o,r=e(this.el).find(".wbCommands");t.each(this.commands,(function(t){t.tooltip||(t.tooltip=t.text);var i=a({command:t});r.prepend(i),t.click&&e(this.el).find("#"+t.id).on("click",t.click)}),this)}var l=this.$(".wbCommands .wbCommands-buttons").outerWidth();this.$(".wbCommands").width(l)},closeWebBar:function(e){e&&(e.stopPropagation(),e.preventDefault()),n.removeImmediate(this)},isSuccess:function(){return"success"===this.options.messageType},getStatusMessage:function(){return e(".wbMessage",this.$el).text()}},{show:function(e,i,n){var s=t.extend({},n,{messageText:e,messageType:i});return new docs.views.MessageBar(s)}}),docs.views.MessageBar})),define("core/util/govajax",["jquery","underscore","core/view/MessageBar","core/util/Service","core/util/FeatureFlags","jqueryui-amd/widgets/dialog"],(function(e,t,i,n){"use strict";var s={ajax:function(s,o,a){var r=a||{};"object"==typeof o&&(r=o),r.contentType="application/json";var l=r.error;return r.error=function(s,o,a){t.isString(a)?(a={code:s.status,message:a},t.isObject(s.responseJSON)?s.responseData=s.responseJSON:401===s.status&&(osn.events.trigger("sessionexpiry"),s.errorHandled=!0,s.showWebBar=!1)):n.isSSOLoginPage(s)&&(osn.events.trigger("sessionexpiry"),s.errorHandled=!0,s.showWebBar=!1),a.errorCode=a.code,a.errorMsg=a.message,a.errorMsgKey="",s.showWebBar=!0,s.errorHandled=!1,l&&(s.errorThrown=a,l.call(this,s,o,a)),t.defer((function(){s.errorHandled||(e("#osn-view-main .bp_class").is(":visible")&&(s.showWebBar=!1),s.showWebBar&&i.show(a.message,"error"))}))},s.call(e,o,a)}};return s})),define("core/util/ErrorMsg",["jquery","underscore","backbone","core/util/Globals"],(function(e,t,i,docs){"use strict";return docs.common.ErrorMsg={messageTranslation:{csFldUnableToEditFolder:{causes:{csFldPathAlreadyExists:{formatString:"ERROR_UNABLE_EDIT_FOLDER",args:1},csPathSegmentContainsIllegalCharacter:{formatString:"ERROR_UNABLE_EDIT_FOLDER_BAD_PATH",args:1}}},csFldUnableToCreateFolder:{causes:{csPathSegmentContainsIllegalCharacter:{formatString:"ERROR_UNABLE_CREATE_FOLDER_BAD_PATH",args:1},csCloudItemInsufficientPrivileges:{formatString:"ERROR_UNABLE_CREATE_FOLDER_NO_PERMISSION",args:0}}},csFldUnableToEditDocumentLink:{causes:{csFldPathAlreadyExists:{formatString:"ERROR_UNABLE_EDIT_FILE",args:1},csPathSegmentContainsIllegalCharacter:{formatString:"ERROR_UNABLE_EDIT_FILE_BAD_PATH",args:1},csFldCanNotChangeExtensionsWhenRenaming:{formatString:"ERROR_UNABLE_CHANGE_EXTENSION",args:0}}},$:{causes:{csUnprivilegedSystemError:{formatString:"ERROR_INTERNAL_SERVER_ERROR",args:0}}},csSecurityValidationFailed:{causes:{csNoConnectionsAvailable:{formatString:"ERROR_INTERNAL_SERVER_ERROR",args:0}}},csAssetInsufficientPrivileges:{defaultMsg:{formatString:"ERROR_AUTH_FAILIRE",args:0}}},getErrorMessage:function(e,t){return this.getErrorMessageFromSet(this.messageTranslation,e,t)},getErrorMessageDataFromSet:function(e,i,n){if(!i.errorMsgKey)return this._getMessageDataFromRegEx(e,i)||{message:docs.i18n.t("UNKNOWN_ERROR")};var s,o,a,r=[],l=(s=i.errorMsgKey,o=[],(a=s.replace(/\\!/g,"\u2029").split("!")).shift(),t.each(a,(function(e){o.push(e.replace(/\u2029/g,"!"))})),o),c=this._getMessageData(e,r,l,n);if(c||(c=this._getMessageDataFromRegEx(e,i)),!c&&e.hasOwnProperty("defaultMsg")){var d=e.defaultMsg;r.push(d.formatString),this._getAdditionalArguments(r,n,d),(c=t.clone(d)).message=docs.i18n.t.apply(docs.i18n,r)}return c||(c={message:i.errorMsg}),c},getErrorMessageFromSet:function(e,t,i){return this.getErrorMessageDataFromSet(e,t,i).message},_getMessageData:function(e,i,n,s){var o,a,r=n.shift().split(","),l=r.shift();if(e.hasOwnProperty(l)){var c=e[l];if(c.args&&this._getAdditionalArguments(i,s,c,r),c.formatString){var d=c.formatString;return t.isFunction(d)&&(d=d(s)),i.splice(0,0,d),this._getAdditionalArguments(i,s,c,r),(a=t.clone(c)).args=i,a.message=docs.i18n.t.apply(docs.i18n,i),a}if(c.causes&&n.length>0&&(a=this._getMessageData(c.causes,i,n,s)))return a;if(c.defaultMsg)return o=c.defaultMsg,i.splice(0,0,o.formatString),this._getAdditionalArguments(i,s,o,r),(a=t.clone(o)).args=i,a.message=docs.i18n.t.apply(docs.i18n,i),a}return null},_getMessageDataFromRegEx:function(e,i){if(e.regexMap){var n,s=t.find(e.regexMap,(function(e){return!!(n=i.errorMsg.match(e.regex))&&e}));if(s)return{message:docs.i18n.t(s.formatString,n.slice(1))}}},_getAdditionalArguments:function(e,i,n,s){if(n.hasOwnProperty("args")&&s)for(var o=Math.min(n.args,s.length),a=/(\\s)/g,r=0;r<o;r++){var l=s[r];"\\\\"===l&&(l="\\"),l=l.replace(a,"$"),e.push(l)}n.hasOwnProperty("responseArgs")&&i&&t.each(n.responseArgs,(function(n){var s=n.split("."),o=i;t.each(s,(function(e){o=o[e]}),o),e.push(o)})),n.hasOwnProperty("argParser")&&s&&Array.prototype.push.apply(e,n.argParser(i,s))}},docs.common.ErrorMsg})),define("core/view/BaseView",["require","jquery","underscore","backbone","core/util/Browser","core/util/Constants","core/util/Globals","core/util/Service","core/debug","core/extensions","core/util/util","core/view/SpinnerView","core/cache"],(function(require,e,t,i){"use strict";return osn.views.BaseView=i.View.extend({keysPressed:{},goPressed:!1,toggleSpinner:function(e,t){var i,n;t=t||"small",e?(this.spinnerView?this.spinnerView.updateExtraClasses(t):this.spinnerView=new osn.views.SpinnerView({extraClasses:t,offscreenText:osn.i18n.t("loadingMore")}),n=this.$el.children("ul"),this.options.customScrollbar&&!this.options.isConversationChats&&(n=n.find(".simplebar-content")),i=n.length?n.last():this.$el,this.options.isConversationChats?i.prepend(this.spinnerView.el):i.append(this.spinnerView.el),osn.util.setStatusText(osn.i18n.t("loadingMore"))):this.spinnerView&&this.spinnerView.$el.detach()},handleNavigation:function(e){osn.debug("view","BaseView: handle the navigation event.");var t=this.getChatContainer(),i=this.getNavigationTarget();t?this.handleClickOnContent(e):i?(e.stopPropagation(),e.preventDefault(),i.click()):osn.debug("view","WARN!: No valid target for navigation.")},handleClickOnContent:function(t){osn.debug("view","BaseView: handleClickOnContent called."),e(t.target).is("a")?this.handleClickOnAnchor(t):this.navigateToChatInView(t)},handleKeydownOnContent:function(t){osn.debug("view","BaseView: handleKeydownOnContent called with "+t.keyCode),t.keyCode!==e.ui.keyCode.ENTER||e(t.target).is("a")||this.handleClickOnContent(t)},getChatContainer:function(){},getNavigationTarget:function(){},navigateToChatInView:function(i){var n=this.model.get("_linkBackUrl");if(osn.debug("view","BaseView: navigateToChatInView attempting to navigate to chat."),i.stopPropagation(),i.preventDefault(),!n){var s,o=this,a=this.model.get("ConversationInfo")||osn.util.getXConversationInfoFromCache(this.model.get("ConversationID")),r=osn.util.getClientObjectType(this.model.toJSON()),l={"wc/folder":function(){return o.model.get("AssociatedWithChatID")},"wc/file":function(){return o.model.get("HeadVersionInfo").AssociatedWithChatID},"wc/chat":o.model.id};a&&(s=t.result(l,r)||a.LastChatInfo&&a.LastChatInfo.ID,osn.debug("view","BaseView: navigateToChatInView navigating to internal link."),n=osn.util.getConversationHref(e.extend(!0,{},a,{_chatId:s})))}n&&this.navigateToInternalLink(n)},handleClickOnAnchor:function(i){osn.debug("view","BaseView: handleClickOnAnchor called.");var n=e(i.target).is("a")?e(i.target):e(i.currentTarget),s=n.attr("href"),o=n.attr("target");if(!t.isEmpty(s)&&s.indexOf("/checkForAsset")>-1&&(s=this.model.get("_linkBackUrl")||s),i.stopPropagation(),docs.common.Browser.isMac&&i.metaKey)return i.preventDefault(),window.open(s,"_blank"),!1;!s||o||i.shiftKey||i.ctrlKey||(osn.debug("view","BaseView: handleClickOnAnchor navigate to internal URL "+s),i.preventDefault(),this.navigateToInternalLink(s))},navigateToInternalLink:function(e){osn.debug("view","BaseView: navigateToInternalLink got link "+e),e=e.replace(/(^\w+:|^)\/\/([^\/]+)\//,"/");var t=osn.cache.get("AppConfig").contextPath;e.indexOf(t)>=0&&(e=e.substring(e.indexOf(t)+t.length+1)),osn.debug("view","BaseView: navigateToInternalLink navigating to link "+e),i.history.navigate(e,!0)},handleKeydownOnClickable:function(t){osn.debug("view","BaseView: handleKeydownOnClickable called with keyCode "+t.keyCode),t.keyCode===e.ui.keyCode.ENTER&&(t.preventDefault(),t.currentTarget.click(),t.stopPropagation())},handleKeydownNavigation:function(t){osn.debug("view","BaseView: handleKeydownNavigation called with keyCode "+t.keyCode),osn.util.isControlKeyPressed(t,this.keysPressed)||t.keyCode!==e.ui.keyCode.ENTER||this.handleNavigation(t)},handleKeydown:function(e){this.keysPressed[e.keyCode]=!0},handleKeyup:function(e){this.keysPressed[e.keyCode]=!1},handleKeypress:function(e){var i;"text"!==e.target.type&&(null===e.which?i=String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode&&(i=String.fromCharCode(e.which)),osn.debug("view",this.displayName+" handleKeypress: "+i),osn.util.isControlKeyPressed(e,this.keysPressed)||(!this.goPressed&&i&&t.has(this.shortcuts(),i)&&(this.keyboardShortcut(i,e),e.stopPropagation(),e.preventDefault()),"g"===i&&(this.goPressed=!0,setTimeout(this.clearGoPressed,3e3))))},handleKeyboardShortcut:function(t,i){osn.debug("view",this.displayName+": handleKeyboardShortcut"),this[t.fn]&&(!t.checkList||t.checkList&&!e(document.activeElement).is("li"))&&(t.checkIsAppUser&&osn.authz.can("appLinkUserPostMessages","Conversation",this.model.get("ConversationInfo"))||!t.checkRole||t.checkRole&&"DISCOVERER"!==this.model.get("ConversationRole"))&&(!t.checkStatus||t.checkStatus&&"OPEN_ACTIVE"===this.model.get("ConversationInfo").State)&&(!t.checkManageMembers||t.checkManageMembers&&osn.authz.can("manageMembers","Conversation",this.model))&&this[t.fn](i)},keyboardShortcut:function(e,t){osn.debug("view",this.displayName+": keyboardShortcut"),this[this.shortcuts()[e]](t)},clearGoPressed:function(){this.goPressed=!1},setFocusOnNearestTabbable:function(){var e=this.$(":tabbable"),t=e.index(document.activeElement);t=t-1>-1?t-1:t+1,e.get(t).focus()},delegateEvents:function(e){i.View.prototype.delegateEvents.call(this,e),this._viewPointers&&this._viewPointers.length&&t.invoke(this._viewPointers,"delegateEvents")},alterLinks:function(i){var n=this,s=osn.cache.get("AppConfig").contextPath,o=new RegExp("/*"+s),a=new RegExp("/*"+s+"/file/");i.find("a").each((function(){this.protocol&&("wag"===this.protocol.substring(0,3)?!osn.authz.can("access","Documents")&&t.contains(["artifact","document","folder"],this.href.split(this.protocol)[1].split("=")[0])?(osn.debug("view","BaseView: alterLinks navigation to document links is disabled."),e(this).contents().unwrap()):(n._linkViews||(n._linkViews=[]),void 0===osn.views.WagAnchorView?require(["common/view/WagAnchorView"],t.bind((function(e){n._linkViews.push(new e({el:this,model:n.model}))}),this)):n._linkViews.push(new osn.views.WagAnchorView({el:this,model:n.model}))):this.host===window.location.host&&0===this.pathname.search(o)&&0!==this.pathname.search(a)||(this.target="_blank"))}))},formatSearchLink:function(e,t){return osn.cache.get("AppConfig").contextPath+"/search/"+e+(t?"/"+t:"")},formatConversationLink:function(e,t){return osn.cache.get("AppConfig").contextPath+"/conversations/"+e},formatExpandedViewLink:function(e){},formatGroupLink:function(e){return osn.cache.get("AppConfig").contextPath+"/groups/"+e},formatUserLink:function(e,t){var i=osn.models.UserModel.hasWall(e)?"/wall":"/profile";return osn.cache.get("AppConfig").contextPath+"/people/"+e+(t?"":i)},formatWidgetLink:function(e){var t=osn.cache.get("AppConfig"),i=t.locale?"?locale="+t.locale+"&":"?",n="conversation="+this.model.get("ConversationID")+"&message="+this.model.get("ID");return osn.cache.get("XLoginInfo").ContextURL+"/web/"+i+n},formatHashtagLink:function(e){return osn.cache.get("AppConfig").contextPath+"/hashtags/"+e},formatDocumentLink:function(e){var i="file";return t.isObject(this.model)&&this.model.get("type")&&(i=this.model.get("type")),docs.common.Service.getLinkUrl(i,e)},formatFolderLink:function(e){return docs.common.Service.getLinkUrl("folder",e)},ready:function(){return e.Deferred().resolve()},getCachedEl:function(t){return this._cachedEl=this._cachedEl||{},this._cachedEl[t]&&this._cachedEl[t].length||(this._cachedEl[t]=e(t)),this._cachedEl[t]},resize:function(t){if(this.$el.is(":visible")){(t=t||{}).selector||(e(".mainViewContent",t.context).length>0?t.selector=".mainViewContent":t.selector=".mainViewContainer");var i,n=this.getCachedEl("#content-wrapper").height(),s=osn.util.getHeadersHeight(t.excludedIds),o=parseInt(this.getCachedEl("#osn-view").css("padding-top"),10)+parseInt(this.getCachedEl("#osn-view").css("padding-bottom"),10),a=0;t.extraHeight||e(t.selector,t.context).parentsUntil("#osn-view-main").each((function(t,i){a+=parseInt(e(i).css("border-top-width"),10)+parseInt(e(i).css("border-bottom-width"),10)})),t.extraHeight=t.extraHeight||0,i=n-s-o-a+t.extraHeight,osn.debug("view",this.displayName+".resize() - Setting "+t.selector+" height to: "+i),e(t.selector,t.context).height(i),t.silent||osn.events.trigger("resize",t)}},isElementVisible:function(e){var t=this.getCachedEl("#content-wrapper").height();return this.el.getBoundingClientRect().bottom<=t-(e?e.height()+2:0)},clean:function(){osn.debug("view","Cleaning view: "+this.displayName),this._linkViews&&!t.isEmpty(this._linkViews)&&(t.invoke(this._linkViews,"clean"),this._linkViews=[]),this._viewPointers&&!t.isEmpty(this._viewPointers)&&(t.invoke(this._viewPointers,"clean"),this._viewPointers=[]),this._cachedEl={},this.remove()}},{getBaseUrlPrefix:function(){return""},reload:function(){var e=window.location,t="";osn.browser.msie&&osn.browser.version<10?e.reload():docs.common.Globals.embed?(t=window.location.search,e.replace(e.protocol+"//"+e.host+e.pathname+t)):(t=osn.util.getUrlParams(osn.cache.get("AppConfig")),e.replace(e.protocol+"//"+e.host+e.pathname+"?"+t))}}),osn.views.BaseView})),define("core/view/ErrorPageView",["jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/util/Utils","core/view/BaseView"],(function(e,t,i,osn,docs){"use strict";return osn.views.ErrorPageView=osn.views.BaseView.extend({displayName:"Download Apps",className:"errorPageView mainViewContainer",events:{},initialize:function(){return t.bindAll(this,"render"),this},render:function(){var e=this.options.errorText||osn.i18n.t("bpTitleSomethingWentWrong"),t=this.options.errorDetail||"",i=this.options.errorImageUrl||"images/Boilerplate_Error.png",n=docs.common.Utils.getGenericBoilerplateHtml("bp-large bp-redwood-illustration",docs.common.Globals.staticRoot+i,e,t);return this.$el.html(n),this},setTitle:function(){document.title=osn.i18n.t("productName")},resize:function(e){(e=e||{}).selector=".mainViewContainer",e.silent=!1,e.excludedIds=["#osn-view-header","#osn-view-options","#social-side-header","#social-side-options"],osn.views.BaseView.prototype.resize.call(this,e)},clean:function(){osn.views.BaseView.prototype.clean.call(this)}},{showBoilerPlateError:function(e,t,i){var n={routeName:"ErrorPage",views:{ErrorPageView:{models:[],module:"core/view/ErrorPageView",type:"main",options:{errorText:e,errorDetail:t,errorImageUrl:i}}},models:{}};osn.events.trigger("nav",n)}}),osn.views.ErrorPageView})),define("core/util/docsajax",["jquery","underscore","backbone","core/osnGlobals","core/util/Globals","core/util/govajax","core/util/Session","core/util/Service","core/util/AppLink","core/util/ErrorMsg","core/util/Constants","core/view/ErrorPageView","core/util/FeatureFlags","jqueryui-amd/widgets/dialog"],(function(e,t,i,osn,docs,n,s,o,a,r,l){"use strict";var c=docs.common.Globals;function d(e,t){checkFeatureFlag("APIAppTracking")&&function(e){try{return new URL(e,document.location.href).origin===document.location.origin}catch(e){console.log(e)}return!1}(t)&&(e["X-Oracle-Ocm-App-Key"]=docs.common.Globals.embed?l.appKeyEmbed:l.appKey)}docs.fc={post:function(i,n){var s=e.Deferred(),a=o.getServiceParamsForPost(i);return t.extend(a.data,n),e.ajax(a.url,{type:"POST",data:a.data,success:function(e){s.resolve(e)},error:function(e){s.reject(e)}}),s}},docs.ajaxInit=function(){var t=e.ajax;e.ajax=function(i,s){var o="object"==typeof i?i.url:i,a="object"==typeof i?i:s;return(a=a||{}).headers=a.headers||{},d(a.headers,o),a.data&&a.data.IdcService||o&&o===c.serviceRoot||o&&o.indexOf("IdcService")>-1?docs.ajax.call(e,t,i,s):o&&o.startsWith("/sites/management")?n.ajax.call(e,t,i,s):o&&(o.indexOf("/content/management")>-1||o.indexOf("/content/integrations")>-1||o.indexOf("/system/api")>-1||o.indexOf("/content/preview")>-1||o.indexOf("/system/export")>-1)?docs.caasAjax.call(e,t,i,s):t.apply(e,arguments)}},docs.ajax=function(i,n,r){var l=[400,403,404,409,500],c=r||{};if("object"==typeof n&&(c=n),o.isAppLink&&!a.refreshing){var d=c.headers||{};d["X-APPLINK-ACCESS-TOKEN"]=a.getAccessToken(),c.headers=d}var u=c.success;c.success=function(t,s,a){var r=o.checkResponseForError(t);if(r){if(r.errorMsgKey)if(r.errorMsgKey.indexOf("!csInvalidAuthorizationToken")>-1&&!c.idcTokenRefreshed){if(o.refreshIdcToken())return c.url=c.url||n,c.idcTokenRefreshed=!0,c.data.idcToken=o.getIdcToken(),void e.ajax(c)}else if(r.errorMsgKey.indexOf("!csExpiredAppLinkAccessToken")>-1){var l=docs.common.AppLink.getRefreshedAccessToken();return c.headers["X-APPLINK-ACCESS-TOKEN"]=l,void i(c)}a.responseData=t,a.errorThrown=r,c.error(a,"error",r)}else o.isSSOLoginPage(a)?(osn.events.trigger("sessionexpiry"),a.errorHandled=!0,a.showWebBar=!1,c.error(a,"error",{errorCode:"-20",errorMsg:"Session expired",errorMsgKey:"!csCloudItemInsufficientPrivileges,anonymous"})):u&&u.call(this,t,s,a)};var h=c.error;return c.error=function(i,n,a){if(t.isString(a))if(a={code:i.status,message:a},429===i.status){a.errorMsgKey="!csClientUserThrottleLimitReached";var r=o.parseHttpResponseHeaders(i.getAllResponseHeaders());a.retryAfterMinutes=Math.ceil(r.retryafter/60)}else if(t.contains(l,i.status)&&t.isString(i.responseText)){var c=JSON.parse(i.responseText);if(t.isObject(c)){var d=o.checkResponseForError(c);a=d||a,i.responseData=c}}a.code=t.isUndefined(a.code)?a.errorCode:a.code,a.errorCode=t.isUndefined(a.errorCode)?a.code:a.errorCode,a.message=t.isUndefined(a.message)?a.errorMsg:a.message,a.errorMsg=t.isUndefined(a.errorMsg)?a.message:a.errorMsg,a.errorMsgKey=a.errorMsgKey||"",i.showWebBar=!0,i.errorHandled=!1,(o.isInvalidToken(a)||o.isSSOLoginPage(i))&&(osn.events.trigger("sessionexpiry"),i.errorHandled=!0,i.showWebBar=!1),h&&(i.errorThrown=a,h.call(this,i,n,a)),t.defer((function(){if(!i.errorHandled){var n;if(!0===e(".ui-dialog-content").dialog("isOpen")&&t.defer((function(){e(".ui-dialog-content").dialog("close")})),o.isAccessDenied(a)||o.isNonExistingItem(a)||o.isItemInTrash(a)||o.isInvalidLink(a))i.showWebBar=!1,n=s.isAnonymous()?docs.i18n.t("BP_ACCESS_DENIED_DETAIL_UNAUTH_SIGNIN",docs.common.Globals.memberRoot.slice(0,-1)):docs.i18n.t("BP_ACCESS_DENIED_DETAIL_BACK"),osn.views.ErrorPageView.showBoilerPlateError(docs.i18n.t("BP_ACCESS_DENIED_HEADER"),n);o.isChangeItemOwnerQuotaExceeded(a)&&(i.showWebBar=!1),i.showWebBar&&new docs.views.MessageBar({messageText:docs.common.ErrorMsg.getErrorMessage(a),messageType:"error",notificationContextBarSelector:i.notificationContextBarSelector,disableScriptProtection:!0})}}))},i.call(e,n,r)},docs.caasToken=function(t){var i=e.Deferred();return t.call(e,{url:"/content/management/api/v1.1/token",beforeSend:function(e){s.setAuthorizationHeader(e)},success:function(e){i.resolve(e.token)},error:function(e,t,n){console.error("Error retrieving token: ",n),i.reject(new Error("Error retrieving token"))}}),i.promise()},docs.caasAjax=function(i,n,a){var l=a||{};"object"==typeof n&&(l=n);var d=l.success,u=l.error;if(l.error=function(i,n,a){if(i.showWebBar=!0,i.errorHandled=!1,t.isString(a)&&i.responseJSON&&t.isObject(i.responseJSON)){if(a=t.extend({statusCode:i.status,type:i.responseJSON.type,statusText:a,docsError:!1},i.responseJSON),i.responseJSON.hasOwnProperty("o:errorCode")&&(a.errorCode=i.responseJSON["o:errorCode"]),i.responseJSON.hasOwnProperty("o:errorDetails")&&Array.isArray(i.responseJSON["o:errorDetails"])&&i.responseJSON["o:errorDetails"].length>0&&i.responseJSON["o:errorDetails"][0].detail?a.detailMessage=i.responseJSON["o:errorDetails"][0].detail:i.responseJSON.detail?a.detailMessage=i.responseJSON.detail:i.responseJSON.title?a.detailMessage=i.responseJSON.title:i.responseText?a.detailMessage=i.responseText:i.statusText?a.detailMessage=i.statusText:a.detailMessage=n,i.responseJSON&&i.responseJSON.detail&&i.responseJSON.detail.indexOf("IdcService")>-1&&i.responseJSON.detail.indexOf("LocalData")>-1){a.docsError=!0,a.docsResponse=JSON.parse(i.responseJSON.detail);var l=o.checkResponseForError(a.docsResponse);a.errorCode=l.errorCode,a.errorMsgKey=l.errorMsgKey,a.detailMessage=a.errorMsg=l.errorMsg}i.errorThrown=a}else{if("parsererror"===n&&(201===i.status||202===i.status))return delete i.showWebBar,delete i.errorHandled,void(d&&d.call(this,i,n,a));401===i.status?(osn.events.trigger("sessionexpiry"),i.errorHandled=!0,i.showWebBar=!1):t.isString(a)&&((a={statusText:a}).docsError=!1,a.detailMessage=i.responseText?i.responseText:n,i.status&&(a.status=i.status),i.errorThrown=a)}u&&(i.errorThrown=a,u.call(this,i,n,a)),t.defer((function(){if(!i.errorHandled){var t;if(o.isAccessDeniedCaaS(i)||o.isNotFoundCaaS(i))i.showWebBar=!1,t=s.isAnonymous()?docs.i18n.t("BP_ACCESS_DENIED_DETAIL_UNAUTH",docs.common.Globals.memberRoot.slice(0,-1)):docs.i18n.t("BP_ACCESS_DENIED_DETAIL_BACK"),osn.views.ErrorPageView.showBoilerPlateError(docs.i18n.t("BP_ACCESS_DENIED_HEADER"),t);if(i.showWebBar){var n=a.docsError?r.getErrorMessage(a):a.detailMessage,l=null;if(i.status&&i.statusText&&i.status>=500){var c=502===i.status&&"proxy error"===i.statusText.toLocaleLowerCase();n=c?docs.i18n.t("PROXY_SERVER_ERROR"):docs.i18n.t("BP_CONTAINER_FETCH_ERROR_MSG"),a.detailMessage&&a.detailMessage.length&&a.detailMessage.toLowerCase().includes("<html>")&&(a.detailMessage=e(a.detailMessage).text()),l=[{text:docs.i18n.t("WEBBAR_SHOW_DETAILS"),id:"proxyDetailsButton",click:function(){require(["core/dialog/MessageDialog"],(function(e,t,i,s){e.show({title:docs.i18n.t("WEBBAR_SHOW_DETAILS"),message:a.detailMessage||n,defaultButton:"ok",addClass:"maxHeight"})}))}}]}new docs.views.MessageBar({messageText:n,messageType:"error",commands:l})}}}))},t.isObject(n)&&n.beforeSend||a&&a.beforeSend)return i.call(e,n,a);a=a||{};var h=docs.common.checkFeatureFlag("BasicAuth"),p={Authorization:h?"Basic "+window.btoa(unescape(encodeURIComponent(c.userLogin+":"+h))):"Session"};t.each(p,(function(e,t){l.headers[t]=e}));var m=n.type?n.type:a.type;return"POST"===m||"PUT"===m||"DELETE"===m?(l.contentType||(p.contentType="application/json"),docs.caasToken(i).then((function(t){return p["X-CSRF-TOKEN"]=t,i.call(e,n,a)}))):i.call(e,n,a)}})),define("core/init",["jquery","underscore","backbone","knockout","ojs/ojcore","core/osnGlobals","core/util/Globals","core/util/SitesGlobals","core/util/util","core/embedapi/EmbedApi","core/util/Service","core/util/Browser","core/util/Constants","core/util/ImagesUtil","common/plugin/scrollbar","core/authz","core/router/router","core/router/AppController","core/util/KeyboardNavigation","core/dialog/AlertDialogView","core/util/AnalyticsCollector","core/bc","core/cache","core/util/docsajax","core/router/DocsController","core/util/FeatureFlags"],(function(e,t,i,n,s,osn,docs,sites,o,a,r,l,c){"use strict";var d,u,h,p,m,f,g,v,_,b,y,E,w,C,S,I,A,T,O,P=["debug","locale","dateLocale","scheme","highContrast","embedEnterHive","disallowMembershipChange","helpContext","accessibility"],D=navigator.userAgent.toLowerCase(),R=/(webkit)[ \/]([\w.]+)/.exec(D)||/(msie) ([\w.]+)/.exec(D)||/(trident)[ \/]([7.0]+)/.exec(D)||D.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(D)||[];osn.browser[R[1]||"unknown"]=!0,osn.browser.version=R[2]||"0",osn.browser.firefox=D.indexOf("firefox")>-1,osn.browser.ios=-1!==D.indexOf("iphone")||-1!==D.indexOf("ipad")||-1!==D.indexOf("ipod"),d={contextPath:docs.common.Globals.routerRoot.substr(0,docs.common.Globals.routerRoot.length-1),frontChannelURL:"unset",randomId:"unset",clientId:e.now(),agent:"GEMINI-WebClient/23.1.2",apiVersion:"unset",validUrlParams:P,publicUser:docs.common.Globals.isPublicUser||docs.common.Globals.isAppLinkUser,embed:docs.common.Globals.embed};var x=window.location.pathname.indexOf("/link/")>=0;return d.embed&&docs.common.Globals.isPublicUser&&!x&&(d.loadEmbedLogin=!0),docs.common.Globals.fcUrl="/osn/fc",docs.common.Globals.dir=document.documentElement.dir||"ltr",v=function(t,i,n){return e.ajax({url:docs.common.Globals.fcUrl+n,async:i,type:"POST",contentType:"application/json",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},beforeSend:function(e){d.locale&&e.setRequestHeader("X-Waggle-ForceLanguage",d.locale),e.setRequestHeader("X-Waggle-ClientID",d.clientId),e.setRequestHeader("X-Waggle-RandomID",d.randomId),e.setRequestHeader("X-Waggle-Agent",d.agent),e.setRequestHeader("X-Waggle-APIVersion",d.apiVersion),checkFeatureFlag("APIAppTracking")&&e.setRequestHeader("X-Oracle-Ocm-App-Key",docs.common.Globals.embed?c.appKeyEmbed:c.appKey)}})},u=function(){(docs.common.Globals.isTenantUser||!d.publicUser&&!d.loadEmbedLogin)&&(e("#_fcURL").remove(),d.randomId=e("#_rid").remove().text(),d.apiVersion=e("#_APIVersion").remove().text());var i,n,s,o=window.location.search.split("&");t.each(o,(function(e){var i=e.replace("?","").split("=");"repository"===i[0]?docs.common.Globals.repositoryId=decodeURIComponent(i[1]).toUpperCase():t.contains(P,i[0])&&(d[i[0]]=!i[1]||decodeURIComponent(i[1]).toLowerCase())})),d.locale&&(/^[a-z]{2}(?:(?:-|_)[a-z]{2})?$/.test(d.locale)?(d.locale.length>2&&(d.locale=d.locale.substring(0,2)+"_"+d.locale.substring(3,5).toUpperCase()),docs.common.Globals.lang=d.locale.replace("_","-"),d.dateLocale||(d.dateLocale=d.locale)):delete d.locale),d.dateLocale&&(/^[a-z]{2}(?:(?:-|_)[a-z]{2})?$/.test(d.dateLocale)?(d.dateLocale.length>2&&(d.dateLocale=d.dateLocale.substring(0,2)+"_"+d.dateLocale.substring(3,5).toUpperCase()),docs.common.Globals.dateFormat=d.dateLocale.replace("_","-")):delete d.dateLocale),d.disallowMembershipChange&&"true"===d.disallowMembershipChange.toLowerCase()?d.disallowMembershipChange=!0:delete d.disallowMembershipChange,d.initLocation=window.location.pathname.substring(d.contextPath.length),d.accessibility&&(d.accessibility=!0),_=e("#content-wrapper"),osn.browser.ios&&window!==top&&_.height(e(window).height()).width(e(window).width()),d.searchAutoCompleteEnabled=!0,_.addClass("ontouchstart"in document.documentElement?"touch":"no-touch"),n=e("<div style='border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=);'></div>"),s=!1,n.appendTo("body"),i=n.css("backgroundImage"),n.css("borderTopColor")!==n.css("borderRightColor")&&(null===i||"none"!==i&&"url (invalid-url:)"!==i)||(s=!0),n.remove(),w=s,_.addClass(w?"osn-hicontrast":"");e(document).on("mousedown",(function(e){osn.events.trigger("document:mousedown",e.target)}))},h=function(e){var t=e?[{ModuleName:"XConnectModule$Server",MethodName:"getLoginInfo",Arguments:[]}]:[];if(e&&d.embedEnterHive&&(t=t.concat([{ModuleName:"XHiveModule$Server",MethodName:"enterHive",Arguments:[]}])),e||(t=t.concat([{ModuleName:"XChatModule$Server",MethodName:"getChatTypes",Arguments:[]},{ModuleName:"XPropertiesModule$Server",MethodName:"getSpecifiedProperties",Arguments:[null,["AUTO_SUBMIT","AUTO_MARK_READ","ANNOTATION_DSA","APPSHARE_DSA","CONV_LIST_SORT","UNREAD_CONV_LIST_SORT","SR_MESSAGE_POSTED","SR_FLAG_ADDED","WHATSNEW_EXPANDED"]]},{ModuleName:"XUserModule$Server",MethodName:"getMyScaledProfilePictureDataUri",Arguments:[]},{ModuleName:"XStarModule$Server",MethodName:"getStarIDs",Arguments:[]},{ModuleName:"XLikeModule$Server",MethodName:"getLikeIDs",Arguments:[]}])),location.search.indexOf("convLink=")>0){var i=location.search.split("convLink=")[1].split("&")[0];t.unshift({ModuleName:"XConnectModule$Server",MethodName:"assertHybridLink",Arguments:[i]})}return t},p=function(){var n=e.Deferred(),s=h(!0);osn.events.on("needToExitHive",(function(e){O=e})),osn.events.on("sessionexpiry",(function(){O=!1}));var o=localStorage.loginInfo;if(o&&t.isString(o)&&!d.embedEnterHive)try{var a=JSON.parse(o);if(!a||!a.UserInfo||a.UserInfo.Name===docs.common.Globals.userLogin&&a.UserInfo.EMailAddress===docs.common.Globals.userEmail)return osn.events.trigger("getLoginInfo",[a],!0),d.socialInitDeferred=!0,m(),n.resolve(),n.promise();Object.keys(localStorage).filter((function(e){return e.startsWith("loginInfo")})).forEach((function(e){localStorage.removeItem(e)}))}catch(e){console.log(e)}return d.socialInitDeferred=!1,v(s,!0,"/RemoteJSONBatch"+r.getRemoteJSONBatchRequestURLParameters(s)).done((function(e){s.find((function(e){return"enterHive"===e.MethodName}))&&osn.events.trigger("needToExitHive",!0),b(s,e)&&(m(),n.resolve())})).fail((function(t,s,o){("error"===s||"Not Found"===o||t.responseText.indexOf("404")>-1)&&(console.log(t.responseText),osn.views.AlertDialogView.show({closeOnNav:!1,primaryButtonTextI18n:"logout",content:"<div class='text-only'>"+osn.i18n.t("noServiceLogoutText")+"</div>",confirm:function(){window.sessionStorage.clear(),i.history.navigate("logout",{trigger:!1,replace:!0}),window.location.replace(docs.common.Globals.routerRoot+"logout")}}),e("#osn-start-spinner").hide(),n.reject())})),n.promise()},m=function(){var i;osn.cache.get("XLoginInfo");d.debug&&void 0!==osn.debug()&&osn.debug().on(d.debug),s.Logger.option("level",s.Logger.LEVEL_WARN),osn.events.once("embedapi:closeService",E),e("#osn-header").attr("aria-label",osn.i18n.t("headerLabel")),e("#osn-masthead").attr("aria-label",osn.i18n.t("masterHeaderLabel")),e("#osn-nav-menu").attr("aria-label",osn.i18n.t("navigationMenu")),osn.events.trigger("setAppConfig",d),(i=t.clone(d)).bcURL="/osn/bc",i.fcURL=docs.common.Globals.fcUrl,i.socialInitialized=!d.socialInitDeferred,osn.events.trigger("bc-init fc-init",i),osn.events.trigger("osn-fcbc-ready"),_.toggleClass("disable-nav",!osn.authz.can("view","NavMenu")),_.toggleClass("thin-header",!0===docs.common.EmbedApi.options.v1.thinheader),_.toggleClass("thin-filter",!0===docs.common.EmbedApi.options.v1.thinfilter)},f=function(){var i={Admin:!1,APIVersion:7084,BackChannelURL:"",ContextName:"/osn",FrontChannelURL:"",HiveInfo:{},PostMessageURIWhitelist:[],Tenant:!1,UserID:"00000",UserInfo:{ID:"00000",DisplayName:"publicuser"}},n=docs.common.Globals.lang.replace("-","_");return t.contains(["fr_CA","pt_BR","zh_CN","zh_TW"],n)?i.LanguageLocale=n:i.LanguageLocale=n.slice(0,2),i.DateFormatLocale=docs.common.Globals.dateFormat?docs.common.Globals.dateFormat.replace("-","_"):n,osn.events.trigger("getLoginInfo",[i],!0),a.init().then((function(){return osn.i18n=e.I18N({namespace:["gemini","docs"],locale:i.LanguageLocale,dfLocale:i.DateFormatLocale,context:docs.common.Globals.staticRoot,path:[docs.common.Globals.staticRoot+"js/i18n/gemini/",docs.common.Globals.staticRoot+"js/i18n/docs/"],dateFormatter:docs.common.Globals.staticRoot+"js/i18n/dateFormatter/",gdk:docs.common.Globals.staticRoot+"libs/gdk/",delta:0}),osn.i18n.done((function(){docs.i18n=osn.i18n,sites.i18n=docs.i18n,e("html").attr("lang",i.LanguageLocale),d.locale=osn.i18n.getLocale(),docs.common.Globals.lang=d.locale.replace("_","-"),d.dateLocale=osn.i18n.getDateFormatLocale(),docs.common.Globals.dateFormat=d.dateLocale.replace("_","-"),osn.events.trigger("setAppConfig",d,!0),docs.ajaxInit(),_.toggleClass("disable-nav",!osn.authz.can("view","NavMenu"))})).fail((function(e,t,i){console.log(t+":"+i)})),osn.i18n}))},g=function(){var i=e.Deferred(),n=[];return n.push(!!docs.common.Globals.embed||docs.common.Utils.requireAsPromise(["masthead/MastheadView"])),n.push(f()),docs.common.Globals.embed&&!docs.common.Globals.isStarterEdition||n.push(docs.common.Utils.requireAsPromise(["banner/BannerView"])),n.push(docs.common.Utils.requireCssBundleAsPromise([docs.common.Globals.embed?"gemini-common-embed":"gemini-common",docs.common.Globals.staticRoot+"libs/jet/13.1.0/default/css/redwood/oj-redwood-notag-min.css",docs.common.Globals.staticRoot+"libs/fnd/gallery/2204.2.0/OracleFont/OracleFont.min.css",docs.common.Globals.staticRoot+"libs/fnd/gallery/2204.2.0/images/iconfont/subset-ojuxIconFont.min.css"])),Promise.all(n).then((function(e){t.isArray(e)&&t.isFunction(e[0])&&new e[0],t.isArray(e)&&t.isFunction(e[2])&&new e[2],i.resolve()})),i.promise()},b=function(i,n){var s;return t.every(n,(function(t,n){var o=i[n],a=o.MethodName,r=o.Arguments,l=t.returnValue;if("success"===t.returnStatus&&t.returnValue)"getLoginInfo"===a?s=l:"getMyScaledProfilePictureDataUri"===a&&(r=[(s=s||osn.cache.get("XLoginInfo")).UserID]),osn.debug("model","triggering event: "+a),osn.events.trigger(a,[l,r]);else{if(osn.debug("model","No payload or error response "+t.returnStatus+" for "+i[n].ModuleName+" "+i[n].MethodName),"getLoginInfo"===a)return window.location.replace(docs.common.Globals.fcUrl+"?redirect="+encodeURIComponent(window.location.href)),!1;if("getMyScaledProfilePictureDataUri"===a&&s){var c=!l;l=osn.images.getDefaultProfilePicture(),r=[s.UserID],osn.events.trigger(a,[l,r,c])}else if("enterHive"===a)return console.log("EnterHive fail: "+JSON.stringify(t)),l&&"waggle.modules.hive.TooManyClientsException"===l.ResourceID?osn.views.AlertDialogView.show({closeOnNav:!1,primaryButtonTextI18n:"refresh",content:"<div class='text-only'>"+osn.i18n.t("tooManyClientsError")+"</div>",confirm:function(){window.location.reload()}}):e("#osn-header").html(t.returnStatus),s=null,!1}return!0}))},E=t.once((function(e){if(e=e||{},osn.debug&&osn.debug().persist(),window.persistCoverage&&window.persistCoverage(),osn.bc&&osn.bc.abort&&(osn.debug("nav","Stopping the BC and exiting hive before unload"),osn.bc.abort()),!(window.location.pathname.indexOf("logout")>=0)){if(!O)return void docs.common.EmbedApi.events.serviceClosed(e.requestId);if(l.isFirefox)console.log("*************** OSN exitHive"),setTimeout((function(){v({ModuleName:"XHiveModule$Server",MethodName:"exitHive",Arguments:[]},!1,"/RemoteJSON?apmOp=Hive.exitHive"),docs.common.EmbedApi.events.serviceClosed(e.requestId),console.log("*************** OSN exitHive in setTimout")}),0);else{var t={"Content-Type":"application/json","X-Waggle-ClientID":d.clientId,"X-Waggle-RandomID":d.randomId,"X-Waggle-Agent":d.agent,"X-Waggle-APIVersion":d.apiVersion};d.locale&&(t["X-Waggle-ForceLanguage"]=d.locale),checkFeatureFlag("APIAppTracking")&&(t["X-Oracle-Ocm-App-Key"]=docs.common.Globals.embed?c.appKeyEmbed:c.appKey),console.log("*************** OSN exitHive via fetch"),fetch(docs.common.Globals.fcUrl+"/RemoteJSON?apmOp=Hive.exitHive",{keepalive:!0,method:"POST",headers:t,body:JSON.stringify({ModuleName:"XHiveModule$Server",MethodName:"exitHive",Arguments:[]}),credentials:"include"}).then((function(){docs.common.EmbedApi.events.serviceClosed(e.requestId),console.log("*************** OSN exitHive via fetch COMPLETE")}))}}})),y=function(){var e,t=[docs.common.Utils.getCssRequirePath("gemini-common")];docs.common.EmbedApi.options.v1.show_navmenu=!1,d.loadError=!0,e=[docs.common.Utils.requireAsPromise(t),f()],Promise.all(e).then((function(){osn.events.trigger("router-init")}))},C=function(){var i=e("oj-button#next:contains('Finish'):not(:disabled)").length,n=e(".saveDiscard button.save:not(:disabled)").length,s=e(".user-buttons button.osn-profile-update:not(:disabled)").length,a=o.isUploaderViewOpen(),r=window.CKEDITOR&&window.CKEDITOR.instances;return t.some(r,(function(e){return!(e.name&&e.name.indexOf("caasCKEditor")>-1)&&e.getData()}))||i||n||s||a},S=function(e){return(e=e||event).dataTransfer&&void 0!==e.dataTransfer.types&&null!==e.dataTransfer.types&&-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")&&(e.dataTransfer.dropEffect="none"),e.preventDefault(),!1},I=function(e){return(e=e||event).dataTransfer&&void 0!==e.dataTransfer.types&&null!==e.dataTransfer.types&&-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")&&(e.dataTransfer.dropEffect="copy"),e.preventDefault(),!1},A=function(e){return(e=e||event).preventDefault(),!1},window.addEventListener?(window.addEventListener("dragover",S,!1),window.addEventListener("dragleave",I,!1),window.addEventListener("drop",A,!1)):window.attachEvent&&(window.attachEvent("dragover",S,!1),window.attachEvent("dragleave",I,!1),window.attachEvent("drop",A,!1)),osn.init={initConversationState:function(){if(T)T.resolve();else{T=e.Deferred();var t=h(!1);osn.fc.sendRequest(t).done((function(e){b(t,e)&&T.resolve()})).fail((function(e,t,i){T=void 0,r.isSSOLoginPage(e)&&osn.events.trigger("sessionexpiry",!0)}))}return T.promise()}},{start:function(){osn.debug("nav","init - User with roles: "+docs.common.Globals.userRoles),docs.common.Globals.isTenantUser||docs.common.Globals.isGuest&&location.search.indexOf("convLink=")>0?(u(),e((function(){g().done((function(e){e&&(d.randomId=e.apiRandomID),p().then((function(){osn.events.trigger("router-init")}))})).fail((function(){y()}))})),window.onbeforeunload=function(){if(!e(document.activeElement).is("a[download]"))return C()?osn.i18n.t("unsavedChangesWarning"):void E();osn.debug("nav","Ignoring onbeforeunload event triggered on download link.")}):d.publicUser||docs.common.Globals.isGuestWithHybLink||d.loadEmbedLogin?(e("#_rid").text("00000000"),u(),e((function(){g().then((function(){osn.events.trigger("router-init")}))}))):(u(),e((function(){d.loadErrorText="bpTitleNoRoleAccess",d.loadErrorDetail="bpDetailNoRoleAccess",y()})))}}})),define("core/model/BaseModel",["require","jquery","underscore","backbone","core/osnGlobals"],(function(require,e,t,i,osn){"use strict";return osn.models.BaseModel=i.Model.extend({clean:function(){osn.debug("model",this.displayName+": cleaning "+this.id)}},{onError:function(e,t){require(["core/AppEvents"],(function(){osn.events.trigger("error",{message:e,inline:osn.cache.get("AppConfig").embed,close:function(){i.history.navigate("",!0)}}),t.reject()}))}}),osn.models.BaseModel})),define("core/model/MemberModel",["jquery","underscore","backbone","core/osnGlobals","core/util/FeatureFlags","core/model/BaseModel","core/util/ImagesUtil"],(function(e,t,i,osn){"use strict";return osn.models.MemberModel=osn.models.BaseModel.extend({displayName:"MemberModel",idAttribute:"ID",initialize:function(e,t){osn.debug("model",this.displayName+": initializing "+this.id),this.options=t||{},this.isMe=osn.cache.get("me").id===this.id,this.picSize=this.options.profilePic||e.picSize,this.picSize&&(this.mixinProfilePic(this.picSize),this.listenTo(osn.events,"pictureDataUpdated",this.updateProfilePic)),this.isUser()&&this.listenTo(osn.events,"userInfo-updatedUser",this.update),this.isGroup()&&this.listenTo(osn.events,"groupInfo-updatedItem",this.update)},getFromCache:function(){return this.id?osn.cache.get(osn.util.getModuleName(this.attributes.ObjectType),this.id):this.attributes},isGroup:function(){return osn.util.isGroupClass(this.attributes._class)},isUser:function(){return osn.util.isUserClass(this.attributes._class)},isRegistered:function(){return t.isNumber(this.id)||/^\d+$/i.test(this.id)},isRecommendation:function(){return!1},update:function(e,i){if(e===this.id){var n=t.defaults(this.getFromCache(),i);this.get("ProfilePictureID")!==n.ProfilePictureID&&(osn.debug("model","MemberModel: ProfilePicture changes. Fetch scaled profile pic from the server for user: "+this.id),osn.models.MemberModel.fetchProfilePic(this.isUser(),this.id,!1,this)),this.set(n)}},updateProfilePic:function(e){var t;e.id===this.id&&(osn.debug("model","MemberModel: updating profile pic for user: "+this.id),e.data?this.has("wallProfilePic")?this.setProfilePic():this.set({profilePic:e.data,usingDefaultPic:!1}):((t={})[this.profilePic[this.picSize].attr]=this.getDefaultProfilePicture(),t.usingDefaultPic=!0,this.set(t)))},profilePic:{scaled:{attr:"profilePic",setter:"setScaledProfilePic"},profile:{attr:"wallProfilePic",setter:"setProfilePic"}},mixinProfilePic:function(e){var t;(t={})[this.profilePic[e].attr]=this.getDefaultProfilePicture(!1),this.options.setOpaqueProfilePicAttr&&(t.opaqueDefaultProfilePic=this.getDefaultProfilePicture(!0)),this.set(t),osn.debug("model","MemberModel: setting profile pic for user: "+this.id);var i=osn.cache.get("PictureDataUri",this.id);this.options.needOpaqueAvatar&&i.value&&i.setBySystem||this[this.profilePic[e].setter]()},setScaledProfilePic:function(){var e=osn.cache.get("PictureDataUri",this.id);t.isEmpty(e)&&this.isRegistered()&&localStorage.loginInfoProfilePictureID!==this.get("ProfilePictureID")?(osn.models.MemberModel.fetchProfilePic(this.isUser(),this.id,!1,this),osn.debug("model","MemberModel: fetch scaled profile pic from the server for user: "+this.id)):t.isEmpty(localStorage.loginInfoPictureDataUri)||localStorage.loginInfoProfilePictureID!=this.get("ProfilePictureID")?e&&e.value?(this.set({profilePic:e.value,usingDefaultPic:!1}),osn.debug("model","MemberModel: set scaled profile pic from cache for user: "+this.id)):(this.set({profilePic:this.getDefaultProfilePicture(),usingDefaultPic:!0}),osn.debug("model","MemberModel: set default scaled profile pic for item: "+this.id)):this.set({profilePic:localStorage.loginInfoPictureDataUri,usingDefaultPic:!1})},setProfilePic:function(){var e=this;osn.models.MemberModel.fetchProfilePic(this.isUser(),this.id,!0,this).done((function(t){t[0].returnValue&&(e.set({wallProfilePic:t[0].returnValue}),osn.debug("model","MemberModel: set profile pic from the server for user: "+e.id))}))},getDefaultProfilePicture:function(e){return osn.images.getDefaultProfilePictureForInfo(this.attributes,this.options.needOpaqueAvatar||!!e)},clean:function(){osn.debug("model",this.displayName+": cleaning "+this.id),this.stopListening()}},{getProfilePicRequest:function(e,t,i){return[e?"XUserModule$Server":"XGroupModule$Server",i?"getProfileProfilePictureDataUri":"getScaledProfilePictureDataUri",[t]]},getCachedProfilePic:function(e){return osn.cache.get("PictureDataUri",e)},fetchProfilePic:function(e,t,i,n){var s=osn.models.MemberModel.getProfilePicRequest(e,t,i),o=osn.fc.sendRequest(s[0],s[1],s[2],{ignoreErrorCodes:["waggle.exceptions.AccessDeniedException"]});return!i&&n&&n.isMe&&o.done((function(e){"success"===e[0].returnStatus&&(e[0].returnValue?(localStorage.loginInfoProfilePictureID=n.get("ProfilePictureID"),localStorage.loginInfoPictureDataUri=e[0].returnValue):(delete localStorage.loginInfoProfilePictureID,delete localStorage.loginInfoPictureDataUri))})),o}}),osn.models.MemberModel})),define("core/model/UserModel",["jquery","underscore","backbone","core/model/MemberModel","core/util/FeatureFlags"],(function(e,t,i){"use strict";return osn.models.UserModel=osn.models.MemberModel.extend({displayName:"UserModel",userInfoStub:{DisplayName:"",Title:"",Organization:""},initialize:function(e,i){(i=i||{}).profilePic=i.profilePic||i.userView?"profile":"scaled",i.userView&&this.set(this.getFromCache()),osn.models.MemberModel.prototype.initialize.call(this,e,i),t.defaults(this.attributes,this.userInfoStub)},update:function(e){e===this.id&&(osn.debug("model","update called for userid "+e),osn.models.MemberModel.prototype.update.call(this,e,this.userInfoStub))},isEnabledStatusChanged:function(){var e=this.previousAttributes().Enabled?"true":"false";return(this.get("Enabled")?"true":"false")!==e}},{build:function(i,n){var s=this,o=e.Deferred(),a=osn.cache.get("XUserInfo",i);return n=t.extend({id:i},n),t.isEmpty(a)?osn.fc.sendRequest(this.getRequests(n)).done((function(){if(a=osn.cache.get("XUserInfo",i),t.isEmpty(a)){osn.debug("model","UserModel.build: User "+i+" was not found.");var e=osn.util.isNumeric(i)?"userIdNotFound":"userNameNotFound";s.onError(osn.i18n.t(e,i),o)}else o.resolve(new s(a,n))})):(n.userView&&(n.id=a.ID),o.resolve(new this(a,n))),o.promise()},getRequests:function(e){var t=[],i=osn.util.isNumeric(e.id)?"getUser":"getUserByName";return this.isCached(e.id)||t.push(["XUserModule$Server",i,[e.id]]),t.length?t:null},isCached:function(e){return!1},hasWall:function(e){return osn.authz.can("have","UserWall",e)&&osn.authz.can("access","UserWall")}}),osn.models.UserModel})),define("core/util/FirstTimeActions",["jquery","underscore","backbone","core/util/Globals","core/util/Service"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals,s=docs.common.Service,o={overlay:{overlay_rowclick_share:1,overlay_rowclick_showhide_sidebar:2,overlay_viewer_files_carousel:4,overlay_viewer_showhide_thumbspanel:8,overlay_viewer_annotation_mode:32},welcome:{welcome_seenDialog:256},scswelcome:{scswelcome_seenDialog:256}},a=e.localStorage("LocalFTAs",void 0,!1);a&&n.firstTimeActions&&(n.firstTimeActions={},t.each(o,(function(t,i){n.firstTimeActions[i]=e.localStorage("FirstTimeActions_"+i,void 0,0)}))),window.resetFTAs=function(e){if(e){if(!o.hasOwnProperty(e))return"Invalid First Time Action Scope";r(0,e)}else t.each(o,(function(e,t){r(0,t)}));return"Done"};var r=function(t,i){if(t!==n.firstTimeActions[i])if(a)e.localStorage("FirstTimeActions_"+i,t),n.firstTimeActions[i]=t;else{var o=s.getServiceParamsForPost("SET_USER_CONFIG");o.data.dUserState=i,o.data.dUserStateValue=t,o.data.dUserStateValueType="number",e.ajax(o.url,{type:"POST",data:o.data,async:!1,success:function(){n.firstTimeActions[i]=t},error:function(e){e.errorHandled=!0}})}};return docs.misc.FirstTimeActions={occurred:function(e,t){if(!n.firstTimeActions)return!0;void 0===t&&(t=!0);var i=e.slice(0,e.indexOf("_"));if(!o[i].hasOwnProperty(e))throw"Coding Error - Invalid First Time Action Key "+e;var s=n.firstTimeActions[i],a=o[i][e],r=(s&a)===a;return!r&&t&&this.set([e],i),r},set:function(e){var i=t(e).groupBy((function(e){return e.slice(0,e.indexOf("_"))}));t.each(i,(function(e,i){var s=n.firstTimeActions[i];t.each(e,(function(e){if(!o[i].hasOwnProperty(e))throw"Coding Error - Invalid First Time Action Key"+e;s|=o[i][e]})),r(s,i)}))}},docs.misc.FirstTimeActions})),define("core/util/FirstTimeSinceUpdate",["jquery","underscore","backbone","core/util/Globals","core/util/Service","core/util/FirstTimeActions"],(function(e,t,i,docs){"use strict";var n=docs.common.Globals,s=docs.common.Service,o={whatsnew:n.versionData.webclient_tstamp,o365aup:n.versionData.webclient_tstamp,startereditionbanner:n.versionData.webclient_tstamp,devnotificationbanner:n.versionData.webclient_tstamp,friendlyMgmtDomain:t.isEmpty(window.localStorage.getItem("developer-friendly-domain"))?n.friendlyMgmtDomain?n.friendlyMgmtDomain.domain:"":window.localStorage.getItem("developer-friendly-domain")};return{get:function(e){if(!n.firstTimeActions)return!0;if(t.isUndefined(o[e]))throw"Coding Error - Invalid First Time Action "+e;return n.firstTimeActions[e]===o[e]},getValue:function(e){if(n.firstTimeActions){if(t.isUndefined(o[e]))throw"Coding Error - Invalid First Time Action "+e;return o[e]}},set:function(t){var i=s.getServiceParamsForPost("SET_USER_CONFIG");i.data.dUserState=t,i.data.dUserStateValue=o[t],i.data.dUserStateValueType="string",e.ajax(i.url,{type:"POST",data:i.data,async:!1,success:function(){n.firstTimeActions[t]=o[t]},error:function(e){e.errorHandled=!0}})}}})),define("core/view/AlertInlineView",["jquery","underscore","backbone","core/osnGlobals","core/util/util"],(function(e,t,i){"use strict";return osn.views.AlertInlineView=i.View.extend({initialize:function(t){osn.debug("view","Initializing AlertInlineView"),this.options=t||{},this.$el=e("#osn-error"),this.$el.addClass(this.options.className?this.options.className:"error-banner")},render:function(){return osn.debug("view","Rendering AlertInlineView"),this.options.content&&(this.$el.html(this.options.content),this.$el.show(),osn.util.setAlertText(this.options.content)),this},clean:function(){this.remove()}}),osn.views.AlertInlineView})),define("core/view/BaseCompositeView",["jquery","underscore","backbone","core/osnGlobals","core/view/BaseView","core/extensions"],(function(e,t,i,osn,n){"use strict";return osn.views.BaseCompositeView=osn.views.BaseView.extend({initialize:function(){osn.debug("view","BaseCompositeView: initialize ["+this.displayName+"]"),this.readyPromise=this.createNestedViews()||e.Deferred().resolve()},ready:function(){return this.readyPromise},render:function(){return osn.debug("view","(NO-OP) Rendering composite view: "+this.displayName),this},appendView:function(e){this.$el.append(e.$el)}}),osn.views.BaseCompositeView})),define("core/view/BaseMenuView",["jquery","underscore","backbone","core/osnGlobals","core/extensions","core/util/util","jqueryui-amd/widgets/menu"],(function(e,t,i,osn){"use strict";return osn.views.BaseMenuView=i.View.extend({tagName:"ul",initialize:function(){osn.debug("view","MenuView: initializing "+this.displayName),t.bindAll(this,"render","closeMenu","hide","onBlur"),this.listenTo(osn.events,"closeMenus",this.closeMenu),this.render()},events:{menublur:"onBlur",menufocus:"onFocus",keydown:"onKeydown",menuselect:"onMenuSelect",focus:"onFocus",touchstart:"onFocus"},render:function(){var e={disabled:!0,position:t.extend({},t.pick(this.options.position,"collision","within"))};return this.$el.html(this.template(this.options)),this.renderSubmenus(),this.$el.menu(e).blur(this.onBlur),this.options.noCloseMenus||osn.events.trigger("closeMenus",this.$el.attr("id")),this.adjustMenuPaddingIfIconsPresent(),this},adjustMenuPaddingIfIconsPresent:function(){this.$el.menu().toggleClass("ui-menu-icons",this.$el.menu().children().find("img, .oj-ux-icon:not(.oj-ux-ico-caret-menu), .osn-selected").length>0)},renderSubmenus:function(){},onBlur:function(e){this.delayHideTimeout||this.isHidden()||(osn.debug("view",this.displayName+": started timer for closing menu"),this.delayHideTimeout=setTimeout(this.hide,250))},onFocus:function(e){this.delayHideTimeout&&(osn.debug("view",this.displayName+": canceled timer for closing menu"),clearTimeout(this.delayHideTimeout),delete this.delayHideTimeout)},onKeydown:function(t){if(t.keyCode===e.ui.keyCode.TAB)return osn.debug("view",this.displayName+": closing the menu because TAB used"),this.hide(),this.setFocusOnClose(),void(this.options.position&&e(this.options.position.of).trigger(t));t.keyCode===e.ui.keyCode.ESCAPE&&(osn.debug("view",this.displayName+": closing the menu because ESCAPE used"),this.hide(),this.setFocusOnClose()),t.preventDefault(),t.stopPropagation()},setFocusOnClose:function(){this.options.returnFocus?this.options.returnFocus():this.options.position&&e(this.options.position.of).focus()},onMenuSelect:function(e,t){var i;(e.keyCode||0===e.button)&&(i=t.item.find("a").attr("href")||"",e.preventDefault(),e.stopPropagation(),osn.debug("view",this.displayName+": selecting menu item with HREF: "+i),t.item.data("let-through")?window.location.replace(i):(this.options.noHideOnSelect||this.hide(),osn.views.BaseView.prototype.navigateToInternalLink.call({},i)))},setStale:function(){this.stale=!0},hide:function(){osn.debug("view",this.displayName+": hide menu"),this.$el.detach(),this.$el.data("ui-menu")&&(this.$el.menu("blur"),this.$el.menu("disable")),clearTimeout(this.delayHideTimeout),delete this.delayHideTimeout,this.options.onHide&&this.options.onHide()},closeMenu:function(e){!this.$el.attr("id")||e===this.$el.attr("id")||this.isHidden()||this.isClean||this.hide()},show:function(){this.isHidden()&&(this.$el.menu("enable"),this.$el.appendTo(e(this.options.appendTo))),this.options.onShow&&this.options.onShow(),this.resetPosition(),this.options.noArrow||this.placeArrow(),this.options.noAutoFocus||this.$el.focus()},resetPosition:function(){osn.debug("view","BaseMenuView: resetPosition"),this.$el.parent().is("#osn-view-options")&&this.$el.css("max-height",osn.util.getViewOptionsDropDownMaxHeight()+"px"),this.$el.position(this.options.position)},placeArrow:function(){var t="uparrow";this.$el.offset().top<e(this.options.position.of).offset().top&&(t="dnarrow"),this.$el.removeClass("dnarrow uparrow").addClass(t),this.options.leftArrow&&this.$el.addClass("left")},isHidden:function(){return this.$el.menu("option","disabled")},toggle:function(){this.isHidden()?(this.show(),this.options.noCloseMenus||osn.events.trigger("closeMenus",this.$el.attr("id"))):this.hide()},clean:function(){osn.debug("view","MenuView: cleaning "+this.displayName),this.stopListening(),this.delayHideTimeout&&clearTimeout(this.delayHideTimeout),this.$el.menu()&&this.$el.menu("destroy"),this.remove(),this.isClean=!0}}),osn.views.BaseMenuView})),define("core/view/SearchBox.template",["underscore"],(function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<form class="searchForm" role="search" onsubmit="return false;">  <div class="searchField">    ',o.scopedSearch&&(__p+='    <span class="form-item-bubble">      <span class="bubble-label">'+(null==(__t=osn.i18n.t("currentFolder"))?"":__t)+'</span>      <button type="button" class="ui-button ui-state-default form-item-remove-button"              aria-label="'+(null==(__t=docs.i18n.t("SEARCH_SCOPE_CLOSE"))?"":__t)+'" title="'+(null==(__t=docs.i18n.t("SEARCH_SCOPE_CLOSE"))?"":__t)+'">        <span class="ui-button-icon-primary ui-icon ui-icon-closethick oj-ux-icon oj-ux-ico-close-circle-s"></span>        <span class="ui-button-text"></span>      </button>    </span>    '),__p+='    <input type="text" class="osn-search-input osn-clearable" placeholder="'+(null==(__t=o.placeholderText)?"":__t)+'"           autocomplete="off" spellcheck="false" maxlength="255" ',o.fieldId&&print('id="'+o.fieldId+'"'),__p+="           ",o.initialValue&&print('value="'+_.escape(o.initialValue)+'"'),__p+="           ",!o.noAriaLabel&&print('aria-label="'+(o.placeholderText||osn.i18n.t("searchText"))+'"'),__p+="           "+(null==(__t=o.autofocus?"autofocus":"")?"":__t)+" />    ",o.autoCompleteSearchOnly||o.scopedSearch||(__p+='    <button type="button" class="clear-button ui-svg-icon oj-ux-icon oj-ux-ico-close-circle-s" aria-label="'+(null==(__t=osn.i18n.t("clear"))?"":__t)+'" title="'+(null==(__t=osn.i18n.t("clear"))?"":__t)+'"></button>    '),__p+="  </div>  ",o.disableSearchBtn&&!o.autoCompleteSearchOnly&&(__p+='  <label class="searchLabel" ',o.fieldId&&print('for="'+o.fieldId+'"'),__p+='>    <span class="ui-svg-icon ui-icon-search oj-ux-icon oj-ux-ico-search" alt="'+(null==(__t=o.label)?"":__t)+'" title="'+(null==(__t=o.label)?"":__t)+'" aria-label="'+(null==(__t=o.label)?"":__t)+'"></span>  </label>  '),__p+="</form>",o.disableSearchBtn||o.autoCompleteSearchOnly||(__p+='<button type="button" class="search-button secondary" title="'+(null==(__t=o.label)?"":__t)+'" aria-label="'+(null==(__t=o.label)?"":__t)+'">  <span class="ui-svg-icon ui-icon-search oj-ux-icon oj-ux-ico-search"></span></button>'),__p+="";return __p}})),define("core/view/SearchBoxView",["jquery","underscore","backbone","core/osnGlobals","core/view/SearchBox.template","core/view/BaseView"],(function(e,t,i,osn,n){"use strict";return osn.views.SearchBoxView=i.View.extend({displayName:"SearchBoxView",className:function(){return"osn-search-box"+(this.options.shortHeight?" short":"")+("end"===this.options.iconPosition?" icon-end":"")},events:{"keydown .osn-search-input":"handleKeydown","focus .osn-search-input":"handleFocus","blur .osn-search-input":"handleBlur","input .osn-search-input":"handleSearchInput","keyup .osn-search-input":"handleSearchInput","click .clear-button":"clearText","click .search-button":"doSearch"},initialize:function(){osn.debug("view",this.displayName+": initializing"),this.options.label=this.options.label||osn.i18n.t("search"),this.options.placeholderText=this.options.placeholderText||osn.i18n.t("search"),this.options.disableSearchBtn=this.options.disableSearchBtn||!1,this.options.autoCompleteSearchOnly=this.options.autoCompleteSearchOnly||!1,this.options.selectTextOnFocus=!!t.isUndefined(this.options.selectTextOnFocus)||this.options.selectTextOnFocus,osn.views.BaseView.prototype.initialize.call(this)},render:function(){return osn.debug("view",this.displayName+": render"),this.$el.html(n({o:this.options})),this.toggleClear(),this},selectAllText:function(i){return t.delay((function(){e(i.target).select().one("mouseup",(function(e){e.preventDefault()}))}),100),!1},handleFocus:function(i){this.options.selectTextOnFocus&&!e(i.target).data("noFocus")?(this.selectAllText(i),t.isFunction(this.options.focusFn)&&this.options.focusFn(i)):this.options.selectTextOnFocus||t.isFunction(this.options.focusFn)&&this.options.focusFn(i)},handleBlur:function(e){0===this.$(".osn-clearable").val().length&&t.isFunction(this.options.blurFn)&&this.options.blurFn(e)},handleKeydown:function(t){t.keyCode===e.ui.keyCode.ENTER?(t.preventDefault(),t.shiftKey||t.metaKey||this.doSearch()):t.keyCode===e.ui.keyCode.ESCAPE&&(t.preventDefault(),e(t.target).val(""))},doSearch:function(){!this.options.disableSearchBtn&&t.isFunction(this.options.searchFn)&&this.options.searchFn()},handleSearchInput:function(e){this.toggleClear(),t.isFunction(this.options.typingFn)&&this.options.typingFn(e)},toggleClear:function(){if(!this.options.autoCompleteSearchOnly&&!this.options.scopedSearch){var e=this.$(".osn-clearable"),t=e.val().trim().length>0,i=this.$(".clear-button");return osn.debug("view",this.displayName+": toggleClear "+t),i.toggle(t).attr("aria-hidden",(!t).toString()),e.toggleClass("x",t),!1}},clearText:function(e){osn.debug("view",this.displayName+": clearText");var i=this.$(".osn-clearable");return e=e||{},i.val(""),this.toggleClear(),t.isFunction(this.options.clearFn)&&this.options.clearFn(),e.noFocus||i.focus(),!1},getText:function(){return this.$(".osn-search-input").val().trim()},setText:function(e){osn.debug("view",this.displayName+": setText");var t=this.$(".osn-search-input");t&&0===t.val().length&&t.val(e)},setFocus:function(){osn.debug("view",this.displayName+": setFocus");var e=this.$(".osn-search-input");e&&e.focus()},clean:function(){osn.debug("view","Cleaning view: "+this.displayName),this.remove()}}),osn.views.SearchBoxView})),define("core/util/SitePlanGlobals",["core/util/Globals"],(function(docs,e){"use strict";var t=window.siteplans=window.siteplans===e?{}:window.siteplans;return t.common=docs.common,t.events=docs.events,t.views={},t.models={},t.dialogs={},t})),define("core/util/SitePlansUrlParams",["jquery","underscore","core/util/UrlParams"],(function(e,t,i){"use strict";return t.extend({},i,{filters:docs.common.Globals.isStandardExternalUser?["all","shared","online","offline"]:["all","owned","shared","online","offline"]})})),define("core-15b22b9.cache",(function(){}));